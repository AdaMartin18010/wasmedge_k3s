# ä»è½¯ä»¶æ¶æ„çš„è§†è§’çœ‹å¾…è™šæ‹ŸåŒ–å®¹å™¨åŒ–æ²™ç›’åŒ–

> **æœ¬æ–‡æ¡£å·²é‡æ„ï¼šåˆ†ç±»å‹ç¼©ã€åˆå¹¶é‡å¤ã€è¡¥å……å®Œå–„**
>
> **æ–‡æ¡£ç‰ˆæœ¬**ï¼šv2.0 **æœ€åæ›´æ–°**ï¼š2025-11-07 **ç»´æŠ¤è€…**ï¼šé¡¹ç›®å›¢é˜Ÿ **æ¥æº**ï¼šåŸº
> äº `architecture_view.md` é‡æ„

---

## ğŸ“‘ ç›®å½•

- [1. æ ¸å¿ƒæ€æƒ³](#1-æ ¸å¿ƒæ€æƒ³)
- [2. æ¶æ„æ‹†è§£ä¸ç»„åˆ](#2-æ¶æ„æ‹†è§£ä¸ç»„åˆ)
- [3. å››å±‚æŠ½è±¡ï¼šè™šæ‹ŸåŒ– â†’ å®¹å™¨åŒ– â†’ æ²™ç›’åŒ– â†’ WebAssembly](#3-å››å±‚æŠ½è±¡è™šæ‹ŸåŒ–--å®¹å™¨åŒ–--æ²™ç›’åŒ–--webassembly)
- [4. ç½‘ç»œæœåŠ¡ï¼šService Mesh ä¸ NSM](#4-ç½‘ç»œæœåŠ¡service-mesh-ä¸-nsm)
- [5. ç­–ç•¥æ²»ç†ï¼šOPA](#5-ç­–ç•¥æ²»ç†opa)
- [6. å½¢å¼åŒ–è®ºè¯](#6-å½¢å¼åŒ–è®ºè¯)
- [7. åŠ¨æ€è¿ç»´](#7-åŠ¨æ€è¿ç»´)
- [8. å‚è€ƒèµ„æº](#8-å‚è€ƒèµ„æº)
- [9. ç»“è¯­](#9-ç»“è¯­)
- [10. ç›¸å…³æ–‡æ¡£](#10-ç›¸å…³æ–‡æ¡£)

---

## 1. æ ¸å¿ƒæ€æƒ³

### 1.1 é¡¶å±‚å‘½é¢˜

> **è™šæ‹ŸåŒ–-å®¹å™¨åŒ–-æ²™ç›’åŒ–**ä¸æ˜¯ä¸‰ç§æŠ€æœ¯ï¼Œè€Œæ˜¯ä¸€æ¬¡**å¯¹"å¯è®¡ç®—æ€§+èµ„æº+é€šä¿¡"çš„å®Œæ•´å½’
> çº³**ï¼šæŠŠ**ç¡…ç‰‡ä¸Šçš„å†¯Â·è¯ºä¾æ›¼çŠ¶æ€æœº**ã€**æ“ä½œç³»ç»Ÿå‘½åç©ºé—´**ã€**åˆ†å¸ƒå¼ç½‘ç»œå
> è®®**ç»Ÿä¸€**å‹ç¼©æˆä¸€å¼ å¯ç‰ˆæœ¬åŒ–ã€å¯å•å…ƒæµ‹è¯•ã€å¯åŠ¨æ€å·®åˆ†çš„ YAML å›¾è°±**â€”â€”æˆ‘ä»¬ç§°ä¹‹
> ä¸º**"Cloud çš„ä¸­é—´è¯­è¨€"â„³**ï¼Œè‡ªæ­¤**æ¶æ„å¸ˆåªé¡»åœ¨é¢†åŸŸå±‚å†™ç­–ç•¥**ï¼Œè€Œ**æ‰€æœ‰éåŠŸèƒ½æ€§
> å·²è¢«è¯æ˜ç­‰ä»·äºä¸€æ®µå¯éªŒè¯çš„ä»£ç **ã€‚
>
> ğŸ“‹ **æ¦‚å¿µå®šä¹‰å‚è€ƒ**ï¼šè™šæ‹ŸåŒ–ã€å®¹å™¨åŒ–ã€æ²™ç›’åŒ–çš„ä¸¥æ ¼å®šä¹‰å’ŒæŠ€æœ¯å±‚çº§åˆ†æè¯·å‚è€ƒ
> [ä¸¥æ ¼å®šä¹‰æ–‡æ¡£](docs/COGNITIVE/10-decision-models/06-technical-concepts/12-virtualization-paravirtualization-containerization-sandboxing-strict-definition.md)ã€‚

### 1.2 ç»Ÿä¸€ä¸­å±‚æ¨¡å‹ â„³

**å®šä¹‰**ï¼šâ„³ â‰œ âŸ¨U, G, P, Î”âŸ©

- **U**ï¼šè®¡ç®—å•å…ƒï¼ˆVM / Container / Sandbox / Wasmï¼‰
- **G**ï¼šç»„åˆå›¾è°±ï¼ˆService + æµé‡è¾¹ï¼‰
- **P**ï¼šç­–ç•¥å±‚ = {elastic, security, observability} ç­–ç•¥ CRD
- **Î”**ï¼šâ„³(t) â†’ â„³(t+Î´t) ä¸º**å¯è§‚æµ‹å·®åˆ†**ï¼ˆGit commit IDï¼‰

**å½’çº³é—­åŒ…**ï¼š

1. **å¯è®¡ç®—æ€§**ï¼šU ä»æ»¡è¶³ A1ï¼ˆå›¾çµå®Œå¤‡ï¼‰
2. **èµ„æºå°é—­**ï¼šU æ»¡è¶³ A2ï¼ˆnamespace+capabilityï¼‰
3. **ç½‘ç»œå¼‚æ­¥**ï¼šE æ»¡è¶³ A3ï¼ˆå¼‚æ­¥ xDSï¼‰
4. **åˆ†å±‚å‹ç¼©**ï¼š|â„³| â‰ˆ 10â¶ çŠ¶æ€ç‚¹ â‰ª |Î£â‚€| â‰ˆ 2^10^10

### 1.3 æ¶æ„è®¾è®¡èŒƒå¼è½¬æ¢

| ä¼ ç»Ÿå·¥ä»¶   | ä¸­å±‚æ›¿æ¢       | é¢—ç²’åº¦    | ç‰ˆæœ¬åŒ–    | å¯éªŒè¯             |
| ---------- | -------------- | --------- | --------- | ------------------ |
| æœºæŸœå›¾     | Pod æ‹“æ‰‘       | è¿›ç¨‹çº§    | YAML      | kubeval            |
| é˜²ç«å¢™å·¥å• | NetworkPolicy  | L4 è§„åˆ™   | Git diff  | Cilium policy test |
| ç½‘å…³é…ç½®   | VirtualService | L7 è·¯ç”±   | Helm      | flagger canary     |
| å®‰å…¨åŸºçº¿   | OPA Constraint | èƒ½åŠ›é—­åŒ…  | Rego      | conftest           |
| æ€§èƒ½è°ƒä¼˜   | VPA/HPA CRD    | MilliCore | Kustomize | K6+Prometheus      |

> æ¶æ„å¸ˆçš„å·¥ä½œä»"è°ƒæœº"**å½’çº³æˆ"å†™ç­–ç•¥"**ï¼›æ‰€æœ‰éåŠŸèƒ½æ€§**è¢«è¯æ˜ç­‰ä»·äºä¸€æ®µå¯å•å…ƒæµ‹
> è¯•çš„ DSL**ã€‚

---

## 2. æ¶æ„æ‹†è§£ä¸ç»„åˆ

### 2.1 5 æ­¥æ‹†åˆ†ä¸ç»„åˆæµç¨‹

| æ­¥éª¤                 | ç›®æ ‡                             | å…³é”®æ´»åŠ¨                                                                                                                                                                                                       | å·¥å…· / æ¨¡æ¿                                                               |
| -------------------- | -------------------------------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------- |
| **1. éœ€æ±‚â€‘å…³åˆ‡æŠ½å–** | æ‰¾åˆ°æ‰€æœ‰ä¸šåŠ¡ & éä¸šåŠ¡å…³åˆ‡        | è®¿è°ˆã€ç”¨æˆ·æ•…äº‹ã€æœåŠ¡å¥‘çº¦ã€æŠ€æœ¯çº¦æŸã€æ€§èƒ½æŒ‡æ ‡ã€åˆè§„éœ€æ±‚                                                                                                                                                         | é—®é¢˜å¡ã€ä¸šåŠ¡åœ°å›¾ã€æŠ€æœ¯å€ºåŠ¡æ¸…å•                                            |
| **2. ç»“æ„åŒ–æ‹†åˆ†**    | æŠŠç³»ç»Ÿæ‹†æˆå¯ç»´æŠ¤ã€å¯æ›¿æ¢çš„"æ¨¡å—" | æŒ‰ **å…³æ³¨ç‚¹åˆ†ç¦»**ï¼ˆPresentation, Application, Domain, Integration, Data, Infra, Security, Observability, Deploymentï¼‰æ‹†åˆ†                                                                                      | C4/ArchiMate æ¨¡å‹ã€DDD è¾¹ç•Œå›¾ã€æœåŠ¡çŸ©é˜µ                                   |
| **3. æ¥å£ä¸å¥‘çº¦**    | æ˜ç¡®å®šä¹‰å­ç»“æ„çš„ **è¾“å…¥/è¾“å‡º**   | API æ–‡æ¡£ã€gRPC/Protobufã€äº‹ä»¶ schemaã€æ•°æ®æ¨¡å‹ã€é…ç½®/å‡­æ®å¥‘çº¦                                                                                                                                                  | OpenAPI, GraphQL SDL, Avro/Protobuf, Terraform modules                    |
| **4. ç»„åˆæ¨¡å¼**      | è®©æ‹†åˆ†å‡ºçš„ç»„ä»¶äº’è”ã€äº’æ“ä½œ       | â‘  **ä¾èµ–æ³¨å…¥ / Composition Root** <br>â‘¡ **é€‚é…å™¨ / æ¡¥æ¥**ï¼ˆè·¨æŠ€æœ¯è¾¹ç•Œï¼‰<br>â‘¢ **Facade / Gateway**ï¼ˆèšåˆå¤šæœåŠ¡ï¼‰<br>â‘£ **Pipeline / Orchestrator**ï¼ˆä¸šåŠ¡æµç¨‹ï¼‰<br>â‘¤ **Service Mesh / API Gateway**ï¼ˆé€šä¿¡ã€æµæ§ï¼‰ | Spring DI / Guice, OSGi / CDI, Netflix Eureka, Envoy, Istio, Apache Camel |
| **5. è‡ªåŠ¨åŒ– & éªŒè¯** | ç¡®ä¿ç»„åˆåå¯è¿è¡Œã€å¯ç›‘æ§ã€å¯æµ‹è¯• | CI/CDï¼ˆJenkins, GitHub Actionsï¼‰, K8s + Helm, Prometheus/Tempo, OpenTelemetry, Chaos Monkey, ADR ç”Ÿæˆ                                                                                                          | GitHub repo + GitHub Actions, ArgoCD, Kustomize, Argo Rollouts            |

### 2.2 æ‹†åˆ†å±‚çº§ï¼ˆ9 å±‚æ¨¡å‹ï¼‰

| å±‚/å…³æ³¨ç‚¹         | è´£ä»»                 | å…¸å‹ç»„ä»¶                                | ç»„åˆæ–¹å¼                                          |
| ----------------- | -------------------- | --------------------------------------- | ------------------------------------------------- |
| **1. è¡¨ç°å±‚**     | äº¤äº’ã€å±•ç¤ºã€å‰ç«¯     | SPAã€ç§»åŠ¨ Appã€WebAPI                   | **MVC / MVVM**ï¼›**React/Angular/Vue**             |
| **2. åº”ç”¨å±‚**     | ä¸šåŠ¡æµç¨‹ã€åè°ƒ       | ä¸šåŠ¡æœåŠ¡ã€ä¸šåŠ¡ç½‘å…³ã€å·¥ä½œæµ              | **CQRS**ã€**Saga**ã€**Temporal**                  |
| **3. é¢†åŸŸå±‚**     | ä¸šåŠ¡æ ¸å¿ƒ             | é¢†åŸŸæ¨¡å‹ã€èšåˆæ ¹ã€é¢†åŸŸæœåŠ¡              | **DDD**ã€**Onion Architecture**                   |
| **4. é›†æˆå±‚**     | ä¸å¤–éƒ¨ç³»ç»Ÿäº¤äº’       | é€‚é…å™¨ã€æ¶ˆæ¯æ€»çº¿ã€API ç½‘å…³              | **Adapter/Bridge**ã€**API Gateway**               |
| **5. æ•°æ®å±‚**     | æ•°æ®å­˜å‚¨ã€äº‹åŠ¡       | RDBMSã€NoSQLã€æœç´¢                      | **Event Sourcing**ã€**CQRS**                      |
| **6. åŸºç¡€è®¾æ–½å±‚** | ä¸»æœºã€ç½‘ç»œã€å­˜å‚¨     | VMã€K8sã€ECSã€S3                        | **Infrastructure as Code**ï¼ˆTerraform/Ansibleï¼‰   |
| **7. å®‰å…¨å±‚**     | è®¿é—®æ§åˆ¶ã€èº«ä»½é‰´æƒ   | OAuth2ã€OpenID Connectã€Kubernetes RBAC | **Policyâ€‘based Access Control**ï¼ˆOPA/Gatekeeperï¼‰ |
| **8. å¯è§‚æµ‹å±‚**   | ç›‘æ§ã€æ—¥å¿—ã€è¿½è¸ª     | Prometheusã€Grafanaã€Jaegerã€ELK        | **OpenTelemetry**                                 |
| **9. è¿è¥å±‚**     | éƒ¨ç½²ã€æ»šåŠ¨å‡çº§ã€ç¾å¤‡ | CI/CDã€Helmã€ArgoCDã€Kubernetes Rollout | **Blue/Green**ã€**Canary**ã€**Chaos Engineering** |

### 2.3 ç»„åˆæ¨¡å¼ä¸æŠ€æœ¯å®ç°

| ç»„åˆæ¨¡å¼                                            | ä½œç”¨           | å…¸å‹æŠ€æœ¯/å·¥å…·                                    | å…¸å‹æ¡ˆä¾‹                       |
| --------------------------------------------------- | -------------- | ------------------------------------------------ | ------------------------------ |
| **Composition Root**                                | å…¨å±€ä¾èµ–æ³¨å…¥   | Spring DI, Guice, Dagger, CDI                    | ä¸šåŠ¡å±‚æ³¨å…¥é¢†åŸŸæœåŠ¡             |
| **Adapter / Bridge**                                | è·¨æŠ€æœ¯è¾¹ç•Œ     | gRPC + REST, ODBC â†” JDBC                         | é€šè¿‡ gRPC è½¬ä¸º REST ä¾›å‰ç«¯ä½¿ç”¨ |
| **Facade / Gateway**                                | èšåˆå¤šæœåŠ¡     | Netflix Zuul, Kong, Ocelot, Spring Cloud Gateway | å•ä¸€å…¥å£èšåˆå†…éƒ¨ API           |
| **Composite**                                       | é€’å½’èšåˆ       | Composite pattern, Treeâ€‘structured UI            | ç›®å½•æ ‘ã€æƒé™æ ‘                 |
| **Pipeline / Orchestrator**                         | ä¸šåŠ¡æµç¨‹       | Camunda, Temporal, Argo Workflows                | é•¿äº‹åŠ¡ã€è®¢å•å¤„ç†               |
| **Service Mesh**                                    | ç»†ç²’åº¦æµé‡æ§åˆ¶ | Istio, Linkerd, Consul                           | ä¾§è½¦ä»£ç†ã€ç†”æ–­ã€æµé‡é•œåƒ       |
| **Event Bus**                                       | è§£è€¦ã€å¼‚æ­¥     | Kafka, NATS, RabbitMQ                            | è®¢å•å·²å®Œæˆ â†’ å‘é€é‚®ä»¶          |
| **Command Query Responsibility Segregation (CQRS)** | è¯»å†™åˆ†ç¦»       | Axon, Lagom                                      | å¤§é‡æŸ¥è¯¢è¯»å†™åˆ†ç¦»               |
| **Domain Event**                                    | é¢†åŸŸäº‹ä»¶       | Axon, EventStore                                 | è®¢å•åˆ›å»º â†’ ä¸šåŠ¡æœåŠ¡è§¦å‘        |
| **Feature Flags**                                   | ä»£ç åˆ‡æ¢       | LaunchDarkly, Unleash                            | å®éªŒæ€§åŠŸèƒ½é€æ­¥æ¨é€             |
| **Infrastructure as Code**                          | è‡ªåŠ¨åŒ–éƒ¨ç½²     | Terraform, Helm, Pulumi                          | åŒæ­¥åŸºç¡€è®¾æ–½ä¸ä»£ç              |
| **Observability as a Service**                      | ç»Ÿä¸€ç›‘æ§       | OpenTelemetry Collector, Grafana Loki            | æ—¥å¿—/æŒ‡æ ‡/è¿½è¸ªä¸€ä½“åŒ–           |

### 2.4 æ€ç»´æ¨¡å‹

1. **å±‚æ¬¡åŒ–**ï¼šå¤–å±‚ï¼ˆè¡¨ç°ï¼‰ â†’ ä¸­å±‚ï¼ˆä¸šåŠ¡ï¼‰ â†’ å†…å±‚ï¼ˆæ•°æ®ï¼‰ï¼Œé‡‡ç”¨ **å±‚çº§
   ï¼ˆLayeredï¼‰** æˆ– **æ´‹è‘±ï¼ˆOnionï¼‰** æ¨¡å‹ç¡®ä¿ä¾èµ–è‡ªé¡¶å‘ä¸‹æµåŠ¨ã€‚

2. **é¢†åŸŸè¾¹ç•Œ**ï¼šç”¨ **DDD** çš„ **Bounded Context** æŠŠç³»ç»Ÿæ‹†æˆ **ç‹¬ç«‹åŸŸ**ï¼Œæ¯ä¸ªåŸŸ
   å¯¹åº”ä¸€ä¸ª **å¾®æœåŠ¡** æˆ– **æ¨¡å—**ï¼Œé€šè¿‡ **äº‹ä»¶** ä¸å…¶ä»–åŸŸäº¤äº’ã€‚

3. **æ¥å£å¥‘çº¦**ï¼šæŠŠ**"è¡Œä¸º"**ä¸**"æ•°æ®"**åˆ†ç¦»ï¼Œç”¨ **OpenAPI / GraphQL /
   Protobuf** æè¿°å¥‘çº¦ï¼Œé€šè¿‡ **æ¥å£ç‰ˆæœ¬åŒ–** å®ç°å‘åå…¼å®¹ã€‚

4. **ç»„åˆæ¨¡å¼**ï¼š

   - **Adapter**ï¼šè®©æ—§ç³»ç»Ÿä¸æ–°æ¨¡å—æ— ç¼è¡”æ¥
   - **Facade**ï¼šä¸ºå¤–éƒ¨æš´éœ²ä¸€ä¸ªèšåˆæ¥å£
   - **Composite**ï¼šæŠŠå­ç»„ä»¶ç»„ç»‡æˆæ ‘çŠ¶ç»“æ„
   - **Pipeline**ï¼šæŠŠä»»åŠ¡ä¸²æˆæµæ°´çº¿
   - **Orchestrator**ï¼šç”¨å·¥ä½œæµæˆ– Saga ç®¡ç†ä¸šåŠ¡æµç¨‹
   - **Service Mesh / API Gateway**ï¼šæ§åˆ¶æœåŠ¡é—´é€šä¿¡ä¸æ²»ç†

5. **æŠ€æœ¯æ ˆ**ï¼š
   - **å®¹å™¨åŒ–**ï¼ˆDockerã€Podï¼‰ â†’ **ç¼–æ’**ï¼ˆK8sã€Helmï¼‰
   - **æ— æœåŠ¡å™¨**ï¼ˆLambdaã€Knativeï¼‰ â†’ äº‹ä»¶é©±åŠ¨ï¼ˆKafkaã€NATSï¼‰
   - **è§‚å¯Ÿ**ï¼ˆPrometheusã€OpenTelemetryã€Grafanaï¼‰
   - **å®‰å…¨**ï¼ˆOPAã€Vaultã€JWTï¼‰
   - **å¯æŒç»­äº¤ä»˜**ï¼ˆCI/CDã€ArgoCDã€Terraformï¼‰

---

## 3. å››å±‚æŠ½è±¡ï¼šè™šæ‹ŸåŒ– â†’ å®¹å™¨åŒ– â†’ æ²™ç›’åŒ– â†’ WebAssembly

### 3.1 å±‚çº§æ¨¡å‹ï¼ˆä»ç¡¬ä»¶åˆ°ä¸šåŠ¡ï¼‰

| å±‚çº§            | ä¸»è¦èŒè´£                   | å…¸å‹æŠ€æœ¯                                                           | å…³æ³¨ç‚¹ï¼ˆè¢«è£å‰ªï¼‰       | è®©æ¶æ„å¸ˆèšç„¦               |
| --------------- | -------------------------- | ------------------------------------------------------------------ | ---------------------- | -------------------------- |
| **ç¡¬ä»¶/å›ºä»¶**   | CPUã€å†…å­˜ã€I/Oã€å¯ä¿¡æ ¹     | VTâ€‘x, AMDâ€‘V, SGX, TPM, microcode                                   | ç‰©ç†èµ„æºè°ƒåº¦ã€åŠŸè€—     | è®¾å¤‡å®‰å…¨ã€å¯ä¿¡åº¦           |
| **Hypervisor**  | è™šæ‹Ÿæœºï¼ˆVMï¼‰è°ƒåº¦ã€èµ„æºéš”ç¦» | KVM, Xen, Hyperâ€‘V, bhyve                                           | VM èµ„æºåˆ†é…ã€è°ƒåº¦ç®—æ³•  | èµ„æºæ± åŒ–ã€å¯æ‰©å±•æ€§         |
| **å®¹å™¨è¿è¡Œæ—¶**  | è¿›ç¨‹éš”ç¦»ã€é•œåƒç®¡ç†         | runc 1.2, Kata 3.0, gVisor 2025.10, Firecracker 2.0, WasmEdge 0.14 | å®¹å™¨ç”Ÿå‘½å‘¨æœŸã€é•œåƒå‹ç¼© | è½»é‡åŒ–éƒ¨ç½²ã€å¿«é€Ÿè¿­ä»£       |
| **Wasm è¿è¡Œæ—¶** | äºŒè¿›åˆ¶æ‰§è¡Œã€å†…å­˜å®‰å…¨       | WasmEdge 0.14, Wasmtime, Wasmer                                    | WASI æ¥å£ã€é›¶ rootfs   | è¶…è½»é‡ã€æ¯«ç§’å¯åŠ¨ã€è¾¹ç¼˜è®¡ç®— |
| **æœåŠ¡ç½‘æ ¼**    | ä»£ç†ã€æµé‡æ²»ç†ã€ç›‘æ§       | Envoy, Istio 1.21 (Ambient Mesh), Linkerd 2.16                     | ç½‘ç»œåè®®ã€TLSã€ç†”æ–­    | è§‚æµ‹ã€å¯è§‚æµ‹æ€§ã€æœåŠ¡æ²»ç†   |
| **åº”ç”¨/ä¸šåŠ¡å±‚** | ä¸šåŠ¡é€»è¾‘ã€æ•°æ®è®¿é—®         | å¾®æœåŠ¡ã€DDDã€CQRS                                                  | ä¸šåŠ¡æµç¨‹ã€æ•°æ®ä¸€è‡´æ€§   | ä¸šåŠ¡å»ºæ¨¡ã€é¢†åŸŸä¸“å®¶         |
| **ç¼–æ’/è°ƒåº¦**   | æœåŠ¡éƒ¨ç½²ã€ç”Ÿå‘½å‘¨æœŸ         | Kubernetes 1.30, K3s 1.30, Nomad, OpenShift                        | Pod ç”Ÿå‘½å‘¨æœŸã€æ»šåŠ¨å‡çº§ | å¯é å‘å¸ƒã€ç°åº¦             |
| **å®‰å…¨/åˆè§„**   | è®¿é—®æ§åˆ¶ã€å®¡è®¡             | OPA 0.62 (Wasm æ”¯æŒ), Gatekeeper 3.15, Vault                       | å‡­è¯ç®¡ç†ã€æƒé™         | ç­–ç•¥ä¸æ²»ç†                 |
| **è§‚æµ‹**        | æŒ‡æ ‡ã€æ—¥å¿—ã€è¿½è¸ª           | Prometheus, OpenTelemetry, Grafana                                 | å¯è§‚æµ‹æŒ‡æ ‡ã€æŠ¥è­¦       | æ€§èƒ½è°ƒä¼˜ã€æ•…éšœæ’æŸ¥         |

> **è£å‰ªè·¯å¾„**ï¼šç¡¬ä»¶ â†’ è™šæ‹ŸåŒ– â†’ å®¹å™¨ â†’ æ²™ç®± â†’ Wasm â†’ æœåŠ¡ç½‘æ ¼ â†’ ä¸šåŠ¡ã€‚æ¯å±‚éƒ½æŠŠä¸Š
> å±‚çš„"æŠ€æœ¯ç»†èŠ‚"éšè—ï¼Œåªä¿ç•™"æ¥å£"å’Œ"çº¦æŸ"ã€‚

### 3.2 å››å±‚æŠ½è±¡çš„"åˆ‡"ä½œç”¨

| çº§åˆ«        | ä½œç”¨                                | åˆ‡æ‰çš„ç»†èŠ‚                        | å‰©ä½™çš„å†³ç­–ç‚¹                                               |
| ----------- | ----------------------------------- | --------------------------------- | ---------------------------------------------------------- |
| **è™šæ‹ŸåŒ–**  | æŠŠç¡¬ä»¶æŠ½è±¡ä¸º **VM èµ„æºæ± **          | ç‰©ç† CPU è°ƒåº¦ã€å†…å­˜é¡µè¡¨ã€ç¡¬ä»¶åŠ é€Ÿ | VM çš„ CPUã€å†…å­˜ã€å­˜å‚¨å®¹é‡ï¼›æ˜¯å¦å¼€å¯ç¡¬ä»¶åŠ å¯†ï¼›ç§Ÿç”¨/å›æ”¶ç­–ç•¥ |
| **å®¹å™¨åŒ–**  | æŠŠ **VM** è¿›ä¸€æ­¥æŠ½è±¡ä¸º **è½»é‡å®¹å™¨** | OS è¿›ç¨‹ç®¡ç†ã€init ç³»ç»Ÿã€æœåŠ¡å®ˆæŠ¤  | é•œåƒå±‚ã€è¿è¡Œæ—¶ç¯å¢ƒã€è¿›ç¨‹ç”Ÿå‘½å‘¨æœŸ                           |
| **æ²™ç®±åŒ–**  | å¯¹å®¹å™¨å†…éƒ¨è¿›ç¨‹è¿›ä¸€æ­¥éš”ç¦»            | ç³»ç»Ÿè°ƒç”¨ã€æ–‡ä»¶ç³»ç»Ÿã€ç½‘ç»œè®¿é—®      | å…è®¸çš„ syscallsã€æŒ‚è½½ç‚¹ã€ç½‘ç»œç­–ç•¥                          |
| **Wasm åŒ–** | æŠŠäºŒè¿›åˆ¶æŠ½è±¡ä¸º **å¹³å°æ— å…³çš„æŒ‡ä»¤é›†** | æ“ä½œç³»ç»Ÿã€è¿è¡Œæ—¶ç¯å¢ƒã€ç³»ç»Ÿè°ƒç”¨    | WASI æ¥å£ã€å†…å­˜é™åˆ¶ã€CPU é™åˆ¶ã€å¯åŠ¨ç­–ç•¥                    |

> **ç»“è®º**ï¼š
>
> - **è™šæ‹ŸåŒ–** æŠŠ"ç‰©ç†èµ„æºç®¡ç†"æŠ½è±¡æˆ"VM èµ„æºæ± "
> - **å®¹å™¨åŒ–** æŠŠ"å®Œæ•´æ“ä½œç³»ç»Ÿ"æŠ½è±¡æˆ"è¿è¡Œæ—¶å®¹å™¨"
> - **æ²™ç®±åŒ–** æŠŠ"å®¹å™¨å†…è¿›ç¨‹"æŠ½è±¡æˆ"å®‰å…¨è¿›ç¨‹"
> - **Wasm åŒ–** æŠŠ"å¹³å°ç›¸å…³äºŒè¿›åˆ¶"æŠ½è±¡æˆ"å¹³å°æ— å…³æŒ‡ä»¤é›†"ï¼Œå®ç°**æè½»é‡ï¼ˆé•œåƒ < 2
>   MBï¼‰ã€æ¯«ç§’çº§å¯åŠ¨ï¼ˆ< 1msï¼‰ã€é›¶ rootfs**çš„è®¡ç®—æŠ½è±¡

**Wasm åŒ–çš„ç‹¬ç‰¹ä»·å€¼**ï¼š

1. **å¹³å°æ— å…³æ€§**ï¼šåŒä¸€ Wasm æ¨¡å—å¯åœ¨ä¸åŒæ“ä½œç³»ç»Ÿå’Œæ¶æ„è¿è¡Œï¼Œå®ç°"ç¼–è¯‘ä¸€æ¬¡ï¼Œåˆ°å¤„
   è¿è¡Œ"
2. **å†…å­˜å®‰å…¨ä¿è¯**ï¼šé€šè¿‡çº¿æ€§å†…å­˜æ¨¡å‹å’Œç±»å‹ç³»ç»Ÿï¼Œå¯è¯æ˜å†…å­˜å®‰å…¨ï¼Œæ— éœ€ seccomp ç™½
   åå•
3. **æé€Ÿå¯åŠ¨**ï¼šå†·å¯åŠ¨ < 1msï¼Œæ¯”å®¹å™¨å¿« 1000Ã—ï¼Œæ»¡è¶³è¾¹ç¼˜è®¡ç®—å’Œ Serverless éœ€æ±‚
4. **èµ„æºä¼˜åŒ–**ï¼šé›¶ rootfsï¼Œé•œåƒä½“ç§¯å‡å°‘ 90%+ï¼Œè¾¹ç¼˜èŠ‚ç‚¹èµ„æºå ç”¨å‡å°‘ 60%
5. **GPU åŠ é€Ÿ**ï¼šæ”¯æŒ GPU ç›´é€šå’Œç®—å­ä¼˜åŒ–ï¼ŒAI æ¨ç†å»¶è¿Ÿ â†“60%ï¼ŒGPU åˆ©ç”¨ç‡ 85-95%

### 3.3 ç»Ÿä¸€å¯¹æ¯”çŸ©é˜µ

| å±æ€§            | è™šæ‹ŸåŒ–                              | å®¹å™¨åŒ–                         | æ²™ç›’åŒ–                             | WebAssembly                             |
| --------------- | ----------------------------------- | ------------------------------ | ---------------------------------- | --------------------------------------- |
| **éš”ç¦»çº§åˆ«**    | å®Œå…¨ç¡¬ä»¶çº§ï¼ˆCPUã€å†…å­˜ï¼‰             | OS è¿›ç¨‹çº§ï¼ˆnamespace, cgroupï¼‰ | è¿›ç¨‹çº§+ç³»ç»Ÿè°ƒç”¨è¿‡æ»¤                | å†…å­˜å®‰å…¨ï¼ˆçº¿æ€§å†…å­˜ã€ç±»å‹ç³»ç»Ÿï¼‰          |
| **èµ„æºå¼€é”€**    | é«˜ï¼ˆæ¯ VM å ç”¨ ~ 2â€“3Ã— RAMï¼‰         | ä½ï¼ˆå…±äº«å†…æ ¸ï¼‰                 | ä½ï¼ˆä¸å®¹å™¨åŒçº§ï¼‰                   | æä½ï¼ˆé›¶ rootfsï¼Œé•œåƒ < 2 MBï¼‰          |
| **å¯åŠ¨æ—¶é—´**    | 10â€“30 s                             | < 1 s                          | < 1 s                              | < 1 msï¼ˆWasmEdge 0.14ï¼‰                 |
| **å¯ç§»æ¤æ€§**    | é«˜ï¼ˆå¯è¿ç§»åˆ°ä¸åŒç¡¬ä»¶ï¼‰              | é«˜ï¼ˆé•œåƒå¯è·¨å¹³å°ï¼‰             | é«˜ï¼ˆé•œåƒ+è¿‡æ»¤è§„åˆ™å¯æºå¸¦ï¼‰          | æé«˜ï¼ˆå¹³å°æ— å…³ï¼ŒWASI æ ‡å‡†åŒ–ï¼‰           |
| **å®‰å…¨æ¨¡å‹**    | éš”ç¦»ã€å¿«ç…§                          | éš”ç¦»ã€æ–‡ä»¶ç³»ç»Ÿ                 | æœ€å°æƒé™ã€åŠ¨æ€å¯ç¼–ç¨‹               | å†…å­˜å®‰å…¨ã€ç±»å‹å®‰å…¨ã€æ²™ç›’è¾¹ç•Œ            |
| **ç½‘ç»œæ¨¡å‹**    | è™šæ‹Ÿ NIC, NAT, vSwitch              | Docker ç½‘ç»œ, CNI               | ä¸å®¹å™¨å…±äº«ï¼Œç»†ç²’åº¦è¿‡æ»¤             | WASI socketã€ç½‘ç»œå‘½åç©ºé—´               |
| **ç›‘æ§/å¯è§‚æµ‹** | éœ€è¦è‡ªå®šä¹‰ç›‘æ§ (cAdvisor, collectd) | é€šè¿‡ cAdvisorã€Prometheus      | é€šè¿‡ eBPFã€BPFtrace                | é€šè¿‡ Wasm æ’ä»¶ã€OpenTelemetry           |
| **é€‚ç”¨åœºæ™¯**    | å¤§å‹æ‰¹å¤„ç†ã€æ•°æ®åº“, äº‘ä¸»æœº          | å¾®æœåŠ¡ã€CI/CD, è½»é‡åŒ–          | ä»£ç æ²™ç›’ã€æ²™ç®±åŒ–éƒ¨ç½²ã€æ¶æ„ä»£ç éš”ç¦» | è¾¹ç¼˜è®¡ç®—ã€Serverlessã€AI æ¨ç†ã€ç­–ç•¥æ‰§è¡Œ |

### 3.4 å½¢å¼åŒ–æ˜ å°„ï¼ˆå½’çº³æ³•ï¼‰

> **è¯¦ç»†è¯æ˜**ï¼šå‚è§
> [å½’çº³è¯æ˜æ–‡æ¡£é›†](docs/ARCHITECTURE/00-theory/02-induction-proof/)

**åŸºç¡€å½’çº³æ­¥ï¼ˆn=0ï¼‰**ï¼šè£¸æœº Î£â‚€ = ã€ˆHardware, BIOS, OSâ‚€, Netâ‚€ã€‰

- çŠ¶æ€ç©ºé—´ï¼š|Î£â‚€| â‰ˆ 2^(CPU å¯„å­˜å™¨ Ã— å†…å­˜å­—èŠ‚) â†’ ä¸å¯çº¦ç®€
- é—®é¢˜ï¼šå…¨å±€çŠ¶æ€è€¦åˆã€æ¶æ„å›¾ä¸ç‰©ç†æ‹“æ‰‘ 1:1 ç»‘å®š
- **è¯¦ç»†è¯´
  æ˜**ï¼š[åŸºç¡€å½’çº³æ­¥](docs/ARCHITECTURE/00-theory/02-induction-proof/base-case.md)

**ç¬¬ä¸€æ¬¡å½’çº³æ˜ å°„ï¼ˆÎ¨â‚ï¼‰**ï¼šè™šæ‹ŸåŒ–å±‚

- **æ˜ å°„**ï¼šÎ¨â‚ : Î£â‚€ â†’ Î£â‚ = ã€ˆVMM, VMã€‰
- **çŠ¶æ€å‹ç¼©æ¯”**ï¼š|Î£â‚| â‰ˆ 2^(20+30) â‰ª 2^(50+60) = |Î£â‚€|
- **å®è¯**ï¼švMotion ç›´æ’­è¿ç§» Î”t < 1 sï¼Œæ¶æ„å›¾é¦–æ¬¡**ä¸æœºæˆ¿åæ ‡è§£è€¦**
- **è¯¦ç»†è¯´
  æ˜**ï¼š[Î¨â‚ è¯¦ç»†è¯æ˜](docs/ARCHITECTURE/00-theory/02-induction-proof/psi1-virtualization.md)

**ç¬¬äºŒæ¬¡å½’çº³æ˜ å°„ï¼ˆÎ¨â‚‚ï¼‰**ï¼šå®¹å™¨åŒ–å±‚

- **æ˜ å°„**ï¼šÎ¨â‚‚ : Î£â‚ â†’ Î£â‚‚ = ã€ˆå®¿ä¸»æœºå†…æ ¸, Container, Namespace, cgroup v2ã€‰
- **çŠ¶æ€å‹ç¼©æ¯”**ï¼šÏâ‚‚ â‰ˆ 10Â²ï¼ˆé•œåƒä» 1~10 GB é™è‡³ 10~100 MBï¼‰
- **å…³é”®å¼•ç† L1**ï¼šè‹¥å®¿ä¸»æœºå†…æ ¸ â‰¥ 6.1ï¼Œåˆ™å®¹å™¨é—´å¹²æ‰°å¯å»ºæ¨¡ä¸ºçº¿æ€§æ—¶ä¸å˜ç³»ç»Ÿ
  - **è¯¦ç»†è¯´
    æ˜**ï¼š[L1 å¼•ç†](docs/ARCHITECTURE/00-theory/05-lemmas-theorems/L1-container-interference.md)
- **å®è¯**ï¼šAlibaba 2024 åŒ 11 å‹æµ‹ï¼Œ**92% å»¶è¿Ÿå˜åŒ–å¯ç”¨ 2-é˜¶æ¨¡å‹é¢„æµ‹**ï¼ˆè¯¯å·® <
  4%ï¼‰ï¼›containerd 2.0 å¯åŠ¨æ—¶é—´å‡å°‘ 30%
- **è¯¦ç»†è¯´
  æ˜**ï¼š[Î¨â‚‚ è¯¦ç»†è¯æ˜](docs/ARCHITECTURE/00-theory/02-induction-proof/psi2-containerization.md)

**ç¬¬ä¸‰æ¬¡å½’çº³æ˜ å°„ï¼ˆÎ¨â‚ƒï¼‰**ï¼šæ²™ç›’åŒ–å±‚

- **æ˜ å°„**ï¼šÎ¨â‚ƒ : Î£â‚‚ â†’ Î£â‚ƒ = ã€ˆSeccomp-BPF, MicroVM, User-Space Kernel, WasmEdge
  0.14ã€‰
- **å…³é”®å¼•ç† L2**ï¼šæ²™ç›’å®‰å…¨è¾¹ç•Œ = æœ€å°èƒ½åŠ›é—­åŒ…ï¼Œ|Capability| â‰¤ 35 æ¡ç³»ç»Ÿè°ƒç”¨
  - **è¯¦ç»†è¯´
    æ˜**ï¼š[L2 å¼•ç†](docs/ARCHITECTURE/00-theory/05-lemmas-theorems/L2-capability-closure.md)
- **å®è¯**ï¼šAWS Lambda 2025 å¹´æ—¥å‡ 1.5Ã—10Â¹Â² æ¬¡è°ƒç”¨ï¼Œ**é€ƒé€¸äº‹ä»¶ = 0**ï¼›WasmEdge
  0.14 å†·å¯åŠ¨ < 1ms
- **è¯¦ç»†è¯´
  æ˜**ï¼š[Î¨â‚ƒ è¯¦ç»†è¯æ˜](docs/ARCHITECTURE/00-theory/02-induction-proof/psi3-sandboxing.md)

**ç¬¬äº”æ¬¡å½’çº³æ˜ å°„ï¼ˆÎ¨â‚…ï¼‰**ï¼šWebAssembly æŠ½è±¡å±‚

- **æ˜ å°„**ï¼šÎ¨â‚… : Î£â‚ƒ â†’ Î£â‚„ = ã€ˆWasmEdge 0.14, WASI Preview 2, WebAssembly Binaryã€‰
- **çŠ¶æ€å‹ç¼©æ¯”**ï¼šÏâ‚… â‰ˆ 10Â³ï¼ˆé•œåƒä» 10~100 MB é™è‡³ < 2 MBï¼Œå¯åŠ¨æ—¶é—´ä» < 1s é™è‡³ <
  1msï¼‰
- **å…³é”®ç‰¹æ€§**ï¼š
  - **å†…å­˜å®‰å…¨**ï¼šçº¿æ€§å†…å­˜æ¨¡å‹ï¼Œç±»å‹ç³»ç»Ÿä¿è¯å†…å­˜å®‰å…¨
  - **å¹³å°æ— å…³**ï¼šWASI æ ‡å‡†åŒ–ç³»ç»Ÿè°ƒç”¨æ¥å£
  - **é›¶ rootfs**ï¼šæ— éœ€æ“ä½œç³»ç»Ÿé•œåƒï¼Œä»…éœ€ Wasm äºŒè¿›åˆ¶
  - **æé€Ÿå¯åŠ¨**ï¼šå†·å¯åŠ¨ < 1msï¼Œæ¯”å®¹å™¨å¿« 1000Ã—
  - **GPU åŠ é€Ÿ**ï¼šæ”¯æŒ GPU ç›´é€šå’Œç®—å­ä¼˜åŒ–ï¼ˆWasmEdge GPU Pluginï¼‰
- **å…³é”®å¼•ç† L4**ï¼šWasm è¿è¡Œæ—¶ = å¯è¯æ˜å†…å­˜å®‰å…¨çš„å›¾çµå®Œå¤‡æŠ½è±¡ï¼Œ|Capability| â‰¤
  WASI æ¥å£é›†
  - **è¯¦ç»†è¯´
    æ˜**ï¼š[L4 å¼•ç†](docs/ARCHITECTURE/00-theory/05-lemmas-theorems/L4-wasm-memory-safety.md)ï¼ˆ
    å¾…åˆ›å»ºï¼‰
- **èŒƒå¼è½¬æ¢æ„ä¹‰**ï¼š
  - **ä»"å¹³å°ç›¸å…³"åˆ°"å¹³å°æ— å…³"**ï¼šåŒä¸€ Wasm æ¨¡å—å¯åœ¨ä¸åŒæ“ä½œç³»ç»Ÿå’Œæ¶æ„è¿è¡Œ
  - **ä»"è¿›ç¨‹éš”ç¦»"åˆ°"å†…å­˜å®‰å…¨"**ï¼šé€šè¿‡ç±»å‹ç³»ç»Ÿå’Œçº¿æ€§å†…å­˜ä¿è¯å†…å­˜å®‰å…¨ï¼Œæ— éœ€
    seccomp ç™½åå•
  - **ä»"é•œåƒéƒ¨ç½²"åˆ°"äºŒè¿›åˆ¶éƒ¨ç½²"**ï¼šé›¶ rootfsï¼Œä»…éœ€ Wasm äºŒè¿›åˆ¶ï¼Œé•œåƒä½“ç§¯å‡å°‘
    90%+
  - **ä»"ç§’çº§å¯åŠ¨"åˆ°"æ¯«ç§’å¯åŠ¨"**ï¼šå†·å¯åŠ¨ < 1msï¼Œæ»¡è¶³è¾¹ç¼˜è®¡ç®—å’Œ Serverless éœ€æ±‚
- **ä¸å‰ä¸‰å±‚çš„å…³ç³»**ï¼š
  - **è™šæ‹ŸåŒ–å±‚**ï¼šWasm å¯åœ¨ VM å†…è¿è¡Œï¼Œæ— éœ€å®Œæ•´ OSï¼Œè¿›ä¸€æ­¥å‡å°‘èµ„æºå ç”¨
  - **å®¹å™¨åŒ–å±‚**ï¼šWasm å¯æ›¿ä»£å®¹å™¨ï¼Œé›¶ rootfsï¼Œé•œåƒä½“ç§¯å‡å°‘ 90%+
  - **æ²™ç›’åŒ–å±‚**ï¼šWasm é€šè¿‡ WASI æ ‡å‡†åŒ–ç³»ç»Ÿè°ƒç”¨ï¼Œæ— éœ€ seccomp ç™½åå•ï¼Œæ›´å®‰å…¨
- **åº”ç”¨åœºæ™¯**ï¼š
  - **è¾¹ç¼˜è®¡ç®—**ï¼šK3s + WasmEdgeï¼Œ10 ä¸‡å°è¾¹ç¼˜èŠ‚ç‚¹ï¼Œå†·å¯åŠ¨ â‰¤6 msï¼ˆæµªæ½®äº‘ç”Ÿäº§æ¡ˆä¾‹
    ï¼‰
  - **AI æ¨ç†**ï¼šWasmEdge 0.14 + Llama2ï¼Œæ¨¡å‹ Wasm-åŒ–ï¼ŒGPU åŠ é€Ÿæ¨ç†ï¼Œå»¶è¿Ÿ â†“60%
  - **Serverless**ï¼šæé€Ÿå†·å¯åŠ¨ < 1msï¼Œé•œåƒ < 2 MBï¼Œæˆæœ¬ä¼˜åŒ–
  - **ç­–ç•¥æ‰§è¡Œ**ï¼šOPA-Wasmï¼Œç­–ç•¥è¯„ä¼°æ€§èƒ½æå‡ 3Ã—ï¼ŒGatekeeper 3.15 Wasm å¼•æ“æ”¯æŒ
- **å®è¯**ï¼š
  - WasmEdge 0.14 å†·å¯åŠ¨ < 1msï¼Œæ¯”å®¹å™¨å¿« 1000Ã—
  - é•œåƒä½“ç§¯ < 2 MBï¼ˆvs å®¹å™¨ 10~100 MBï¼‰
  - Kubernetes 1.30 åŒè¿è¡Œæ—¶æ”¯æŒï¼Œè¾¹ç¼˜èŠ‚ç‚¹èµ„æºå ç”¨å‡å°‘ 60%
  - OPA-Wasm ç­–ç•¥è¯„ä¼°æ€§èƒ½æå‡ 3Ã—
  - WasmEdge GPU Pluginï¼Œæ¨ç†å»¶è¿Ÿæ¯” PyTorch å®¹å™¨ â†“60%ï¼ŒGPU åˆ©ç”¨ç‡ 85-95%
- **è¯¦ç»†è¯´
  æ˜**ï¼š[Î¨â‚… è¯¦ç»†è¯æ˜](docs/ARCHITECTURE/00-theory/02-induction-proof/psi5-wasm.md)ï¼ˆ
  å¾…åˆ›å»ºï¼‰
- **æ¶æ„è§†
  è§’**ï¼š[WebAssembly è§†è§’](docs/ARCHITECTURE/01-views/webassembly-view.md) â­ æ–°
  å¢
- **ç›¸å…³è§†è§’**ï¼š
  - [AI/ML æ¶æ„è§†è§’](docs/ARCHITECTURE/01-views/ai-ml-architecture-view.md) â­
    æ–°å¢ï¼ˆ2025-11-07ï¼‰- LLM æ¨ç†ä¸å®¹å™¨ç¼–æ’é›†æˆ
  - [è¾¹ç¼˜è®¡ç®—æ¶æ„è§†è§’](docs/ARCHITECTURE/01-views/edge-computing-view.md) â­ æ–°
    å¢ï¼ˆ2025-11-07ï¼‰- 5G MEC æ¶æ„

**ç¬¬å››æ¬¡å½’çº³æ˜ å°„ï¼ˆÎ¨â‚„ï¼‰**ï¼šç½‘ç»œæŠ½è±¡å±‚

- **æ˜ å°„**ï¼šÎ¨â‚„ : ã€ˆIP:Port, TCP, BGPã€‰ â†’ ã€ˆServiceName, Label, xDSã€‰
- **å…³é”®å®šç† T1**ï¼šèº«ä»½-è·¯ç”±ç­‰ä»·ï¼Œè·¯ç”±å‡½æ•° R(e) = v æ˜¯**åŒå°„**
  - **è¯¦ç»†è¯´
    æ˜**ï¼š[T1 å®šç†](docs/ARCHITECTURE/00-theory/05-lemmas-theorems/T1-identity-routing.md)
- **å®è¯**ï¼šæ¶æ„å›¾**ä¸å†éœ€è¦ç”» IP ç›’å­**ï¼›é‡‘ä¸é›€å‘å¸ƒ = **ä¿®æ”¹æ ‡ç­¾é€‰æ‹©å™¨**
- **è¯¦ç»†è¯´
  æ˜**ï¼š[Î¨â‚„ è¯¦ç»†è¯æ˜](docs/ARCHITECTURE/00-theory/02-induction-proof/psi4-network.md)

---

## 4. ç½‘ç»œæœåŠ¡ï¼šService Mesh ä¸ NSM

### 4.1 Service Meshï¼šèŠ‚ç‚¹èšåˆä¸æœåŠ¡ç»„åˆ

#### 4.1.1 èŠ‚ç‚¹èšåˆï¼šä»"ç‰©ç†åœ°å€"åˆ°"èº«ä»½-é©±åŠ¨æ‹“æ‰‘"

| ä¼ ç»Ÿ TCP/HTTP æ¨¡å‹              | Service Mesh æ¨¡å‹                                                                        |
| ------------------------------- | ---------------------------------------------------------------------------------------- |
| èŠ‚ç‚¹ = ç‰©ç† Pod IP              | èŠ‚ç‚¹ = é™„æœ‰ **identity**ï¼ˆmTLS SPIFFE IDï¼‰çš„ **sidecar ä»£ç†**                            |
| æ‹“æ‰‘ç”± kube-proxy/IPVS é™æ€ç”Ÿæˆ | æ‹“æ‰‘ç”± **æ§åˆ¶é¢ xDS åŠ¨æ€ä¸‹å‘**ï¼Œå¯å®æ—¶èšåˆã€è£å‰ªã€å½±å­å¤åˆ¶                               |
| è´Ÿè½½å‡è¡¡ç®—æ³•è€¦åˆåœ¨è¯­è¨€ SDK      | ç®—æ³•ä¸‹æ²‰ä¸º **Envoy å¯æ’æ‹” filter**ï¼Œä¸ä¸šåŠ¡é›¶è€¦åˆ                                         |
| æœåŠ¡å‘ç° = DNS/A è®°å½•           | æœåŠ¡å‘ç° = **Envoy CDS + EDS**ï¼Œæ”¯æŒ **subset load balancing**ï¼ˆæŒ‰ç‰ˆæœ¬ã€æ ‡ç­¾ã€æƒé‡èšåˆï¼‰ |

#### 4.1.2 æœåŠ¡ç»„åˆï¼šæŠŠ"è·¨æœåŠ¡æµ"å˜æˆ"å¯ç¼–æ’çš„æœ¬åœ°å‡½æ•°"

- **Filter Chain** = å¯ç¼–ç¨‹çš„ lambda ç®¡é“ï¼šè®¤è¯ â†’ é™æµ â†’ ç†”æ–­ â†’ é‡è¯• â†’ è½¬æ¢ â†’ ç¼“
  å­˜ â†’ è½¬å‘
- **VirtualService + EnvoyFilter** æè¿°"æœåŠ¡ç»„åˆå·¥ä½œæµ"ï¼Œå¯ç‰ˆæœ¬åŒ–ã€å¯ç°åº¦ã€å¯å›
  æ»š

#### 4.1.3 æ¶æ„è®¾è®¡èŒƒå¼è½¬æ¢

| ä¼ ç»Ÿæ¶æ„æ´»åŠ¨         | Mesh ä¹‹åçš„æ–°åŠ¨ä½œ               | è·å¾—çš„æ¶æ„èƒ½åŠ›                   |
| -------------------- | ------------------------------- | -------------------------------- |
| ç”» Nginx é…ç½®ç‰‡æ®µ    | å†™ VirtualService / EnvoyFilter | ç‰ˆæœ¬åŒ–ã€å¯ç°åº¦ã€å¯å›æ»š           |
| è®¨è®º SDK è¶…æ—¶å€¼      | å£°æ˜ Retry+Timeout CRD          | è¯­è¨€æ— å…³ã€å¯è§‚æµ‹ã€å¯è‡ªåŠ¨è°ƒä¼˜     |
| æ‹‰ç½‘ç»œç»„å¼€é˜²ç«å¢™å·¥å• | å†™ AuthorizationPolicy          | è‡ªåŠ¨ mTLSï¼Œé›¶ä¿¡ä»»å†…å»º            |
| ä¸ºç°åº¦æ­ç½‘å…³é›†ç¾¤     | ç”¨ subset + weight å­—æ®µ         | åŒä¸€å¥— YAML æ”¯æŒè“ç»¿/é‡‘ä¸é›€/å½±å­ |

### 4.2 Network Service Mesh (NSM)ï¼šè·¨åŸŸç½‘ç»œèšåˆ

#### 4.2.1 å…³é”®æ¦‚å¿µ

| åç§°                           | å…¸å‹æŠ€æœ¯                       | ä¸»è¦èŒè´£                                                                           |
| ------------------------------ | ------------------------------ | ---------------------------------------------------------------------------------- |
| **Service Mesh**               | Istio, Linkerd, Consul, Kuma   | ä»£ç†ã€æµé‡æ²»ç†ã€æœåŠ¡æ²»ç†ã€ç†”æ–­ã€ç›‘æ§ã€MTLSã€ä¾§è½¦æ³¨å…¥                               |
| **Network Service Mesh (NSM)** | Networkâ€‘Serviceâ€‘Mesh.io        | æŠŠä»»æ„å·¥ä½œè´Ÿè½½ï¼ˆPodã€VMã€ç‰©ç†æœºï¼‰è¿æ¥åˆ° **"ç½‘ç»œæœåŠ¡"**ï¼›æ”¯æŒå¤šç½‘æ ¼ã€å¤šäº‘ã€è·¨åŸŸç½‘ç»œ |
| **ç½‘ç»œæœåŠ¡ (Network Service)** | vL3ã€IPsecã€WAFã€IPSã€DNSã€VPN | è¿æ¥ã€åŠ å¯†ã€ç›‘æ§ã€ç­–ç•¥ã€DNS è§£æ                                                   |
| **vWire (Virtual Wire)**       | é€»è¾‘éš§é“                       | è´Ÿè´£åœ¨ **Client** ä¸ **Endpoint** ä¹‹é—´è½¬å‘æ•°æ®ï¼›å¯æºå¸¦å®‰å…¨/å¯è§‚æµ‹ä¿¡æ¯              |
| **Client / Endpoint**          | Podã€VMã€ç‰©ç†æœº                | å‚ä¸ NSM è¿æ¥çš„ç»ˆç«¯ï¼Œæˆ–æä¾›ç½‘ç»œæœåŠ¡çš„ç»ˆç«¯                                          |

#### 4.2.2 æ¶æ„å±‚æ¬¡ï¼ˆC4 è§†è§’ï¼‰

```text
+-----------------------------------------------------------+
| 1. åº”ç”¨å±‚  (ä¸šåŠ¡å¾®æœåŠ¡)                                 |
|   â””â”€ Service Mesh  (Istio/Linkerd sidecars)              |
+-----------------------------------------------------------+
| 2. æœåŠ¡ç½‘æ ¼å±‚ (Service Mesh)                            |
|   â””â”€ Serviceâ€‘Mesh Sidecar + Control Plane                |
+-----------------------------------------------------------+
| 3. ç½‘ç»œæœåŠ¡å±‚ (NSM)                                      |
|   â””â”€ vL3  +  vWire + Network Service Endpoints          |
+-----------------------------------------------------------+
| 4. åŸºç¡€è®¾æ–½å±‚ (K8s/VM/ç‰©ç†)                              |
|   â””â”€ Pods / VMs / Physical Servers (Clients / Endpoints)|
+-----------------------------------------------------------+
```

#### 4.2.3 ç»„åˆæ¨¡å¼

**ç»„åˆ Service Mesh ä½œä¸º Network Service**ï¼š

1. æŠŠ Service Mesh æ‰“åŒ…ä¸º Network Service
2. NSM å…è®¸å¤š Service Mesh å åŠ 
3. é€šè¿‡ vWire ç»†ç²’åº¦æµé‡æ²»ç†

**ç»„åˆå¤šäº‘/è·¨é›†ç¾¤ç½‘ç»œ**ï¼š

- **è·¨ Kubernetes é›†ç¾¤**ï¼šåœ¨æ¯ä¸ªé›†ç¾¤éƒ¨ç½² NSM vL3ï¼›ä½¿ç”¨ NSM Federation
- **è·¨ç‰©ç†æœºä¸äº‘**ï¼šåœ¨ç‰©ç†æœºéƒ¨ç½² NSM Endpointï¼›ä½¿ç”¨ vWire ç›´è¿
- **è·¨å¤šäº‘**ï¼šåœ¨æ¯ä¸ªäº‘ç¯å¢ƒéƒ¨ç½² NSMï¼Œä½¿ç”¨ VPN + vWire è¿æ¥

#### 4.2.4 å…¸å‹ç”¨ä¾‹

| åœºæ™¯                        | ç»„åˆæ–¹å¼                                                          | å…³é”®æŠ€æœ¯                          | ä¸šåŠ¡ä»·å€¼                       |
| --------------------------- | ----------------------------------------------------------------- | --------------------------------- | ------------------------------ |
| **æ··åˆäº‘ï¼ˆå…¬æœ‰äº‘ + æœ¬åœ°ï¼‰** | ä¸šåŠ¡ Pod â†’ Istioï¼ˆå…¬æœ‰äº‘ï¼‰ â†’ NSM vL3 â†’ æœ¬åœ° VMs â†’ Physical Server | Istio, NSM, VPN, Spiffe           | ç»Ÿä¸€å®‰å…¨ã€ç»Ÿä¸€å¯è§‚æµ‹ã€æ— ç¼è®¿é—® |
| **å¤šç§Ÿæˆ· SaaS**             | ä¸šåŠ¡ Pod â†’ Istio (ç§Ÿæˆ·ä¸“å±) â†’ NSM (å…±äº« vL3) â†’ å…±ç”¨ Endpoint      | Istio, NSM, Kubernetes Namespaces | éš”ç¦» + èµ„æºå…±äº«                |
| **è¾¹ç¼˜è®¡ç®—**                | è®¾å¤‡ â†’ Edge NSM Node â†’ Cloud NSM â†’ Service Mesh                   | NSM, Edge Gateway, Istio          | ä½å»¶è¿Ÿã€ç»Ÿä¸€æ²»ç†               |
| **æ··åˆèº«ä»½**                | Pod â†’ Istio (MTLS) â†’ NSM (Spiffe) â†’ Identity Provider             | Istio, NSM, OIDC                  | å•ä¸€èº«ä»½ä½“ç³»ï¼Œè·¨åŸŸéªŒè¯         |

---

## 5. ç­–ç•¥æ²»ç†ï¼šOPA

### 5.1 OPA åœ¨ â„³ æ¨¡å‹ä¸­çš„å®šä½

```text
â„³ = âŸ¨U, G, PâŸ©
â”‚
â”œâ”€Uï¼šè®¡ç®—å•å…ƒï¼ˆVM / Container / Sandboxï¼‰
â”œâ”€Gï¼šç»„åˆå›¾è°±ï¼ˆService + æµé‡è¾¹ï¼‰
â””â”€Pï¼šç­–ç•¥å±‚ = {elastic, security, observability}
        â†‘
        â•°â”€â”€ OPA è´Ÿè´£æŠŠ"security"ä»"äººè¯»åŸºçº¿"
            å˜æˆ"æœºè¯»å¯éªŒè¯çº¦æŸ"
```

> ç›®æ ‡ï¼šè¯æ˜ **OPA âŠ¨ â„³ å…·å¤‡å¯è¯æ˜å®‰å…¨æ€§ & å¯ç»„åˆçº¦æŸ & å¯ç‰ˆæœ¬æ²»ç†**

### 5.2 å…¬ç†å±‚ï¼ˆA5-A8ï¼‰

> **è¯¦ç»†è¯´æ˜**ï¼šå‚è§
> [OPA å…¬ç†æ–‡æ¡£](docs/ARCHITECTURE/00-theory/01-axioms/A5-A8-opa.md)

| å…¬ç†          | å½¢å¼åŒ–æè¿°                         | OPA å¯¹åº”å®ä½“                                    |
| ------------- | ---------------------------------- | ----------------------------------------------- |
| A5 èƒ½åŠ›é—­åŒ…   | âˆ€uâˆˆU, Capability(u) âŠ† âˆ©{syscalláµ¢}  | `deny[msg] { capability[_] != required }`       |
| A6 æœ€å°æƒé™   | âˆ€ edge eâˆˆG, Role(e) âŠ† Need-to-know | `allow = true { input.user == resource.owner }` |
| A7 å¯è¯æ˜æ€§   | ç­–ç•¥å†³ç­– â‰¡ å¸ƒå°”å¯æ»¡è¶³æ€§ï¼ˆSATï¼‰     | Rego â†’ JSON â†’ AST â†’ SAT æ±‚è§£                    |
| A8 ç‰ˆæœ¬ä¸€è‡´æ€§ | Policy Î” â‰ƒ Code Î”                  | Git SHA ç›¸åŒå³å¯é‡ç°å†³ç­–                        |

### 5.3 OPA ä½“ç³»ç»“æ„

```text
            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
            â”‚  OPA Control Plane  â”‚
            â”‚ (Centralised)       â”‚
            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â–²
             â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
             â”‚   Policy Bundles  â”‚
             â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â–²
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚        OPA (PDP) + PEPs (policyâ€‘agents)   â”‚
   â”‚  (one per service or sidecar)            â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â–²
          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
          â”‚     Application/Service   â”‚
          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

- **PDP**ï¼šPolicy Decision Pointï¼Œåœ¨æ¯ä¸ª PEP æ—è¾¹æ‰§è¡Œ Rego è§„åˆ™
- **PEP**ï¼šPolicy Enforcement Pointï¼Œä»»ä½•éœ€è¦æˆæƒ/é™åˆ¶çš„ç‚¹
- **OCP**ï¼šOPA Control Planeï¼Œç»Ÿä¸€åˆ†å‘ Bundlesã€æ”¶é›† Decision Logs

### 5.4 OPA åœ¨å±‚æ¬¡æ¨¡å‹ä¸­çš„å®šä½

| å±‚çº§                   | OPA è§’è‰²                                         | å…¸å‹å®ç°æ–¹å¼                                             | å…³é”®æ¥å£             |
| ---------------------- | ------------------------------------------------ | -------------------------------------------------------- | -------------------- |
| **åº•å±‚ â€“ è™šæ‹ŸåŒ–/ç¡¬ä»¶** | - å¯ä¿¡æ ¹ï¼ˆSGX/TLSï¼‰ <br> - ç­–ç•¥åˆ†é… (è°èƒ½è·‘ VM)  | `KVM â†’ Spiffe`                                           | `opaâ€‘bundleâ€‘vm`      |
| **å®¹å™¨/è¿è¡Œæ—¶å±‚**      | - è¿›ç¨‹æƒé™ã€é•œåƒç­¾å <br> - èµ„æºé™åˆ¶ï¼ˆCPU/å†…å­˜ï¼‰ | `k8sâ€‘RBAC` + `OPA Gatekeeper`                            | `opaâ€‘bundleâ€‘runtime` |
| **æ²™ç›’å±‚**             | - ç³»ç»Ÿè°ƒç”¨è¿‡æ»¤ <br> - ç»†ç²’åº¦è®¿é—®æ§åˆ¶             | `seccompâ€‘bpf â†’ OPA`                                      | `opaâ€‘sandboxâ€‘policy` |
| **Mesh/NSM å±‚**        | - è·¯ç”±/é™æµã€mTLSã€è¯·æ±‚/å“åº”éªŒè¯                 | `Istio/Linkerd sidecar â†’ OPA` <br> `NSM vWire â†’ OPA`     | `opaâ€‘meshâ€‘policy`    |
| **æ²»ç† & å®‰å…¨å±‚**      | - ç»Ÿä¸€å†³ç­–ã€æ—¥å¿—ã€ç›‘æ§                           | `OPA Control Plane` <br> `Gatekeeper`                    | `opaâ€‘bundleâ€‘global`  |
| **åŠ¨æ€è¿ç»´å±‚**         | - ç›‘æ§/å‘Šè­¦è§¦å‘ç­–ç•¥                              | `Prometheus/Tempo â†’ OPA` <br> `Argo CD` è§¦å‘ bundle æ›´æ–° | `opaâ€‘decisionâ€‘logs`  |

### 5.5 OPA ä¸ Service Mesh / NSM çš„ç»„åˆ

**ä¾§è½¦â€‘PDP ç»„åˆï¼ˆIstio + OPAï¼‰**ï¼š

```text
Client Pod â”€â”€>  Istio Sidecar  â”€â”€>  OPA Agent (PDP)
                 â”‚
                 â””â”€> Decision: allow / deny / rateâ€‘limit / routing
```

**NSM çº§åˆ«ç­–ç•¥**ï¼š

- **vWire ç­–ç•¥**ï¼šé€šè¿‡ OPA åˆ¤æ–­æ˜¯å¦å…è®¸ Client â†” Endpoint å»ºç«‹ vWire
- **å¤šåŸŸç­–ç•¥**ï¼šå…è®¸æˆ–æ‹’ç»æŸé›†ç¾¤/å‘½åç©ºé—´å¯¹æŸæœåŠ¡çš„è®¿é—®
- **æ•°æ®å®‰å…¨**ï¼šOPA åœ¨ NSM control plane ä¾§åš"IPSecã€VPN ç«¯ç‚¹"çš„è®¿é—®æ§åˆ¶

**Admission & Deployment**ï¼š

- **Gatekeeper**ï¼šKubernetes Admission Controller ä¹‹ä¸Šä½¿ç”¨ OPAï¼Œæä¾›"è‡ªå£°æ˜"å®‰å…¨
- **é•œåƒç­¾åã€èµ„æºé…é¢ã€å‘½åç©ºé—´é™åˆ¶**

### 5.6 OPA åœ¨ CI/CD ä¸ GitOps é‡Œçš„è§’è‰²

| æ­¥éª¤               | OPA ä½œç”¨                                                    |
| ------------------ | ----------------------------------------------------------- |
| **1. ç¼–å†™ç­–ç•¥**    | ä½¿ç”¨ **Rego** è¯­è¨€å®šä¹‰ä¸šåŠ¡/å®‰å…¨è§„åˆ™                         |
| **2. æ‰“åŒ… & æ¨é€** | `opa bundle create` â†’ `git commit` â†’ OCP æ¨é€               |
| **3. é¢„éªŒè¯**      | åœ¨ CI pipeline é‡Œè¿è¡Œ `opa eval`ï¼Œç¡®ä¿æ— å†²çªã€æ— æ¼æ´        |
| **4. ç‰ˆæœ¬åŒ–**      | æ¯ä¸ª Bundle æœ‰ SHAâ€‘256ï¼Œé…åˆ `git tags`                     |
| **5. ç›‘æ§**        | OPA å†³ç­–æ—¥å¿—ï¼ˆDecision Logsï¼‰æ¨é€åˆ° Loki / Elastic / Tempo  |
| **6. è¿è¡Œæ—¶æ›´æ–°**  | é€šè¿‡ OCP æˆ– `opa bundle push` è§¦å‘æ‰€æœ‰ OPA agent è‡ªåŠ¨çƒ­æ›´æ–° |

### 5.7 å…³é”®å¼•ç† L3ï¼ˆå†³ç­–ç¡®å®šæ€§ï¼‰

> âˆ€ è¾“å…¥ i, OPA æ±‚å€¼è¿‡ç¨‹ â‰¡ å•è°ƒä¸åŠ¨ç‚¹è¿­ä»£æ•…å†³ç­– d = OPA(i) åœ¨æœ‰é™æ­¥å†…å”¯ä¸€ä¸”å¯é‡
> ç°

**è¯¦ç»†è¯´
æ˜**ï¼š[L3 å¼•ç†æ–‡æ¡£](docs/ARCHITECTURE/00-theory/05-lemmas-theorems/L3-opa-determinism.md)

**å®è¯**ï¼š

- 2025 å¹´ CNCF Surveyï¼š**OPA å¹³å‡è¯„ä¼°å»¶è¿Ÿ 0.8 msï¼ŒP99 4 ms**ï¼ˆWasm å¼•æ“ï¼‰
- åŒä¸€ Bundleï¼ˆGit SHA=abc123ï¼‰åœ¨**ä¸åŒé›†ç¾¤**å†³ç­–ä¸€è‡´æ€§ = 100%ï¼ˆn=8Ã—10â·ï¼‰
- Gatekeeper 3.15 æ”¯æŒ Wasm å¼•æ“ï¼Œç­–ç•¥è¯„ä¼°æ€§èƒ½æå‡ 3Ã—

---

## 6. å½¢å¼åŒ–è®ºè¯

> **è¯¦ç»†ç†è®ºè®ºè¯**ï¼šå‚è§
> [`docs/ARCHITECTURE/00-theory/`](docs/ARCHITECTURE/00-theory/) - çº¯å½¢å¼åŒ–ç†è®º
> è®ºè¯æ–‡æ¡£é›†

### 6.1 å…¬ç†å±‚ï¼ˆA1-A4ï¼‰

| å…¬ç†             | æè¿°                                                     | å½¢å¼åŒ–                        | è¯¦ç»†æ–‡æ¡£                                                                     |
| ---------------- | -------------------------------------------------------- | ----------------------------- | ---------------------------------------------------------------------------- |
| A1 å†¯Â·è¯ºä¾æ›¼ç­‰ä»· | ä»»ä½•å›¾çµæœºå¯è®¡ç®—å‡½æ•°å‡å¯åœ¨ã€ˆå­˜å‚¨-æŒ‡ä»¤-åœ°å€ã€‰ä¸‰è¦ç´ ä¸Šå®ç° | âˆ€fâˆˆâ„›, âˆƒM(Store,Instr,PC)      | [A1 è¯¦ç»†è¯´æ˜](docs/ARCHITECTURE/00-theory/01-axioms/A1-von-neumann.md)       |
| A2 OS èµ„æºå°é—­   | è¿›ç¨‹ã€å†…å­˜ã€æ–‡ä»¶ã€ç½‘ç»œå››å¤§å‘½åç©ºé—´å¯å®Œå…¨å°é—­             | nsâŠ†{pid,mnt,net,ipc,uts,user} | [A2 è¯¦ç»†è¯´æ˜](docs/ARCHITECTURE/00-theory/01-axioms/A2-os-resource.md)       |
| A3 ç½‘ç»œå¼‚æ­¥äº¤ä»˜  | æ¶ˆæ¯ä¼ é€’è¯­ä¹‰ â‰¥ å…±äº«å†…å­˜è¯­ä¹‰                              | Î»msg âŠ‡ Î»shm                   | [A3 è¯¦ç»†è¯´æ˜](docs/ARCHITECTURE/00-theory/01-axioms/A3-network-async.md)     |
| A4 åˆ†å±‚å¯æŠ½è±¡    | ä¸‹å±‚çŠ¶æ€ç©ºé—´ Sâ‚™ å¯è¢«ä¸Šå±‚è¯­æ³• Gâ‚™â‚Šâ‚ å‹ç¼©                   | \|Gâ‚™â‚Šâ‚\| â‰ª \|Sâ‚™\|             | [A4 è¯¦ç»†è¯´æ˜](docs/ARCHITECTURE/00-theory/01-axioms/A4-layer-abstraction.md) |

> å½’çº³ç›®æ ‡ï¼šè¯æ˜å­˜åœ¨**ç»Ÿä¸€ä¸­å±‚æ¨¡å‹ â„³**ï¼Œä½¿å¾— â„³ â‰œ âŸ¨U,G,PâŸ© åŒæ—¶æ»¡è¶³ A1-A4ï¼Œä¸”
> **âˆ‚â„³/âˆ‚t å¯è§‚æµ‹ã€å¯å›æ»šã€å¯éªŒè¯**ã€‚
>
> **è¯¦ç»†è¯´æ˜**ï¼šå‚è§ [å…¬ç†å±‚æ–‡æ¡£](docs/ARCHITECTURE/00-theory/01-axioms/)

### 6.2 å½’çº³è¯æ˜ï¼ˆå®Œæ•´é“¾ï¼‰

> **è¯¦ç»†è¯æ˜**ï¼šå‚è§
> [å½’çº³è¯æ˜æ–‡æ¡£é›†](docs/ARCHITECTURE/00-theory/02-induction-proof/)

**åŸºç¡€å½’çº³æ­¥ï¼ˆn=0ï¼‰**ï¼šè£¸æœºä¸–ç•Œ Î£â‚€ ä¸æ»¡è¶³ A4

- **è¯¦ç»†è¯´
  æ˜**ï¼š[åŸºç¡€å½’çº³æ­¥](docs/ARCHITECTURE/00-theory/02-induction-proof/base-case.md)

**ç¬¬ä¸€æ¬¡å½’çº³æ˜ å°„ï¼ˆÎ¨â‚ï¼‰**ï¼šè™šæ‹ŸåŒ–å±‚

- **æ˜ å°„**ï¼šÎ¨â‚ : Î£â‚€ â†’ Î£â‚ = ã€ˆVMM, VMã€‰
- **çŠ¶æ€å‹ç¼©æ¯”**ï¼š|Î£â‚| â‰ˆ 2^(20+30) â‰ª 2^(50+60) = |Î£â‚€|
- **å®è¯**ï¼švMotion ç›´æ’­è¿ç§» Î”t < 1 s
- **è¯¦ç»†è¯´
  æ˜**ï¼š[Î¨â‚ è¯¦ç»†è¯æ˜](docs/ARCHITECTURE/00-theory/02-induction-proof/psi1-virtualization.md)

**ç¬¬äºŒæ¬¡å½’çº³æ˜ å°„ï¼ˆÎ¨â‚‚ï¼‰**ï¼šå®¹å™¨åŒ–å±‚

- **æ˜ å°„**ï¼šÎ¨â‚‚ : Î£â‚ â†’ Î£â‚‚ = ã€ˆå®¿ä¸»æœºå†…æ ¸, Container, Namespace, cgroup v2ã€‰
- **çŠ¶æ€å‹ç¼©æ¯”**ï¼šÏâ‚‚ â‰ˆ 10Â²
- **å…³é”®å¼•ç† L1**ï¼šå®¹å™¨é—´å¹²æ‰°å¯å»ºæ¨¡ä¸ºçº¿æ€§æ—¶ä¸å˜ç³»ç»Ÿ
  - **è¯¦ç»†è¯´
    æ˜**ï¼š[L1 å¼•ç†](docs/ARCHITECTURE/00-theory/05-lemmas-theorems/L1-container-interference.md)
- **å®è¯**ï¼šAlibaba 2024 åŒ 11 å‹æµ‹ï¼Œ92% å»¶è¿Ÿå˜åŒ–å¯ç”¨ 2-é˜¶æ¨¡å‹é¢„æµ‹ï¼ˆè¯¯å·® < 4%ï¼‰
  ï¼›containerd 2.0 å¯åŠ¨æ—¶é—´å‡å°‘ 30%
- **è¯¦ç»†è¯´
  æ˜**ï¼š[Î¨â‚‚ è¯¦ç»†è¯æ˜](docs/ARCHITECTURE/00-theory/02-induction-proof/psi2-containerization.md)

**ç¬¬ä¸‰æ¬¡å½’çº³æ˜ å°„ï¼ˆÎ¨â‚ƒï¼‰**ï¼šæ²™ç›’åŒ–å±‚

- **æ˜ å°„**ï¼šÎ¨â‚ƒ : Î£â‚‚ â†’ Î£â‚ƒ = ã€ˆSeccomp-BPF, MicroVM, User-Space Kernel, WasmEdge
  0.14ã€‰
- **å…³é”®å¼•ç† L2**ï¼šæ²™ç›’å®‰å…¨è¾¹ç•Œ = æœ€å°èƒ½åŠ›é—­åŒ…ï¼Œ|Capability| â‰¤ 35
  - **è¯¦ç»†è¯´
    æ˜**ï¼š[L2 å¼•ç†](docs/ARCHITECTURE/00-theory/05-lemmas-theorems/L2-capability-closure.md)
- **å®è¯**ï¼šAWS Lambda 2025 å¹´æ—¥å‡ 1.5Ã—10Â¹Â² æ¬¡è°ƒç”¨ï¼Œé€ƒé€¸äº‹ä»¶ = 0ï¼›WasmEdge 0.14
  å†·å¯åŠ¨ < 1ms
- **è¯¦ç»†è¯´
  æ˜**ï¼š[Î¨â‚ƒ è¯¦ç»†è¯æ˜](docs/ARCHITECTURE/00-theory/02-induction-proof/psi3-sandboxing.md)

**ç¬¬äº”æ¬¡å½’çº³æ˜ å°„ï¼ˆÎ¨â‚…ï¼‰**ï¼šWebAssembly æŠ½è±¡å±‚

- **æ˜ å°„**ï¼šÎ¨â‚… : Î£â‚ƒ â†’ Î£â‚„ = ã€ˆWasmEdge 0.14, WASI Preview 2, WebAssembly Binaryã€‰
- **çŠ¶æ€å‹ç¼©æ¯”**ï¼šÏâ‚… â‰ˆ 10Â³ï¼ˆé•œåƒä» 10~100 MB é™è‡³ < 2 MBï¼Œå¯åŠ¨æ—¶é—´ä» < 1s é™è‡³ <
  1msï¼‰
- **å…³é”®å¼•ç† L4**ï¼šWasm è¿è¡Œæ—¶ = å¯è¯æ˜å†…å­˜å®‰å…¨çš„å›¾çµå®Œå¤‡æŠ½è±¡
  - **è¯¦ç»†è¯´
    æ˜**ï¼š[L4 å¼•ç†](docs/ARCHITECTURE/00-theory/05-lemmas-theorems/L4-wasm-memory-safety.md)ï¼ˆ
    å¾…åˆ›å»ºï¼‰
- **èŒƒå¼è½¬æ¢æ„ä¹‰**ï¼š
  - **ä»"å¹³å°ç›¸å…³"åˆ°"å¹³å°æ— å…³"**ï¼šåŒä¸€ Wasm æ¨¡å—å¯åœ¨ä¸åŒæ“ä½œç³»ç»Ÿå’Œæ¶æ„è¿è¡Œ
  - **ä»"è¿›ç¨‹éš”ç¦»"åˆ°"å†…å­˜å®‰å…¨"**ï¼šé€šè¿‡ç±»å‹ç³»ç»Ÿå’Œçº¿æ€§å†…å­˜ä¿è¯å†…å­˜å®‰å…¨
  - **ä»"é•œåƒéƒ¨ç½²"åˆ°"äºŒè¿›åˆ¶éƒ¨ç½²"**ï¼šé›¶ rootfsï¼Œä»…éœ€ Wasm äºŒè¿›åˆ¶
  - **ä»"ç§’çº§å¯åŠ¨"åˆ°"æ¯«ç§’å¯åŠ¨"**ï¼šå†·å¯åŠ¨ < 1msï¼Œæ»¡è¶³è¾¹ç¼˜è®¡ç®—å’Œ Serverless éœ€æ±‚
- **åº”ç”¨åœºæ™¯**ï¼š
  - **è¾¹ç¼˜è®¡ç®—**ï¼šK3s + WasmEdgeï¼Œ10 ä¸‡å°è¾¹ç¼˜èŠ‚ç‚¹ï¼Œå†·å¯åŠ¨ â‰¤6 ms
  - **AI æ¨ç†**ï¼šWasmEdge 0.14 + Llama2ï¼Œæ¨¡å‹ Wasm-åŒ–ï¼ŒGPU åŠ é€Ÿæ¨ç†
  - **Serverless**ï¼šæé€Ÿå†·å¯åŠ¨ < 1msï¼Œé•œåƒ < 2 MB
  - **ç­–ç•¥æ‰§è¡Œ**ï¼šOPA-Wasmï¼Œç­–ç•¥è¯„ä¼°æ€§èƒ½æå‡ 3Ã—
- **å®è¯**ï¼šWasmEdge 0.14 å†·å¯åŠ¨ < 1msï¼›é•œåƒä½“ç§¯ < 2 MBï¼›Kubernetes 1.30 åŒè¿è¡Œ
  æ—¶æ”¯æŒï¼Œè¾¹ç¼˜èŠ‚ç‚¹èµ„æºå ç”¨å‡å°‘ 60%ï¼›WasmEdge GPU Pluginï¼Œæ¨ç†å»¶è¿Ÿ â†“60%
- **è¯¦ç»†è¯´
  æ˜**ï¼š[Î¨â‚… è¯¦ç»†è¯æ˜](docs/ARCHITECTURE/00-theory/02-induction-proof/psi5-wasm.md)ï¼ˆ
  å¾…åˆ›å»ºï¼‰
- **æ¶æ„è§†
  è§’**ï¼š[WebAssembly è§†è§’](docs/ARCHITECTURE/01-views/webassembly-view.md) â­ æ–°
  å¢
- **ç›¸å…³è§†è§’**ï¼š
  - [AI/ML æ¶æ„è§†è§’](docs/ARCHITECTURE/01-views/ai-ml-architecture-view.md) â­
    æ–°å¢ï¼ˆ2025-11-07ï¼‰
  - [è¾¹ç¼˜è®¡ç®—æ¶æ„è§†è§’](docs/ARCHITECTURE/01-views/edge-computing-view.md) â­ æ–°
    å¢ï¼ˆ2025-11-07ï¼‰

**ç¬¬å››æ¬¡å½’çº³æ˜ å°„ï¼ˆÎ¨â‚„ï¼‰**ï¼šç½‘ç»œæŠ½è±¡å±‚

- **æ˜ å°„**ï¼šÎ¨â‚„ : ã€ˆIP:Port, TCP, BGPã€‰ â†’ ã€ˆServiceName, Label, xDSã€‰
- **å…³é”®å®šç† T1**ï¼šèº«ä»½-è·¯ç”±ç­‰ä»·ï¼Œè·¯ç”±å‡½æ•° R(e) = v æ˜¯**åŒå°„**
  - **è¯¦ç»†è¯´
    æ˜**ï¼š[T1 å®šç†](docs/ARCHITECTURE/00-theory/05-lemmas-theorems/T1-identity-routing.md)
- **å®è¯**ï¼šæ¶æ„å›¾ä¸å†éœ€è¦ç”» IP ç›’å­
- **è¯¦ç»†è¯´
  æ˜**ï¼š[Î¨â‚„ è¯¦ç»†è¯æ˜](docs/ARCHITECTURE/00-theory/02-induction-proof/psi4-network.md)

**å°é—­è¯æ˜**ï¼š

- **å¾…è¯å‘½é¢˜ P(n)**ï¼šç»è¿‡ n æ¬¡æ˜ å°„ Î¨â‚â€¦Î¨â‚™ï¼Œç³»ç»Ÿ Î£â‚™ æ»¡è¶³æ‰€æœ‰å…¬ç†ï¼ˆA1-A4ï¼‰å’Œå½’çº³ç›®
  æ ‡
- **ç»“è®º**ï¼šç”±æ•°å­¦å½’çº³æ³•ï¼ŒP(n) å¯¹æ‰€æœ‰ nâ‰¥1 æˆç«‹ï¼Œâ„³ å³ä¸ºæé™
- **è¯¦ç»†è¯´
  æ˜**ï¼š[å°é—­è¯æ˜](docs/ARCHITECTURE/00-theory/02-induction-proof/closure-proof.md)

### 6.3 çŠ¶æ€ç©ºé—´å‹ç¼©

> **è¯¦ç»†è¯æ˜**ï¼šå‚è§
> [çŠ¶æ€ç©ºé—´å‹ç¼©æ–‡æ¡£](docs/ARCHITECTURE/00-theory/04-state-compression/)

**æ€»å‹ç¼©æ¯”**ï¼šÏ = Ïâ‚ Ã— Ïâ‚‚ Ã— Ïâ‚ƒ Ã— Ïâ‚„ Ã— Ïâ‚… â‰ˆ 10Â¹â¸ Ã— 10Â² Ã— 10Â¹ Ã— 10â¶ Ã— 10Â³ = 10Â³â°

**çŠ¶æ€ç©ºé—´å¤§å°**ï¼š

- **åˆå§‹çŠ¶æ€ç©ºé—´ï¼ˆÎ£â‚€ï¼‰**ï¼š|Î£â‚€| â‰ˆ 2^10^10
- **ç»Ÿä¸€ä¸­å±‚æ¨¡å‹ï¼ˆâ„³ï¼‰**ï¼š|â„³| â‰ˆ 10â¶ çŠ¶æ€ç‚¹
- **è¯¦ç»†è¯´
  æ˜**ï¼š[ç»Ÿä¸€ä¸­å±‚æ¨¡å‹ â„³](docs/ARCHITECTURE/00-theory/04-state-compression/unified-model.md)

**å‹ç¼©æ¯”è¯æ˜**ï¼š

- **è¯¦ç»†è¯
  æ˜**ï¼š[å‹ç¼©æ¯”è¯æ˜](docs/ARCHITECTURE/00-theory/04-state-compression/compression-ratio.md)

**å®è¯**ï¼š

- Google Borg/Omega 2025 å¹´ç”Ÿäº§æ•°æ®ï¼š
  - æ¯æ—¥ 3Ã—10â¹ æ¬¡å®¹å™¨åˆ›å»º/é”€æ¯ï¼ˆ+50% vs 2023ï¼‰
  - **99.999% è°ƒåº¦å»¶è¿Ÿ < 3 s**ï¼ˆ-40% vs 2023ï¼‰
  - æ¶æ„æè¿°å…¨éƒ¨æ”¶æ•›åˆ° **~400 MB å£°æ˜å¼æ–‡ä»¶**ï¼ˆProto+YAMLï¼Œ-20% vs 2023ï¼‰
- Kubernetes 1.30 æ”¯æŒåŒè¿è¡Œæ—¶ï¼ˆrunc + WasmEdgeï¼‰ï¼Œè¾¹ç¼˜èŠ‚ç‚¹èµ„æºå ç”¨å‡å°‘ 60%
- **è¯¦ç»†æ•°
  æ®**ï¼š[å®è¯æ•°æ®æ–‡æ¡£](docs/ARCHITECTURE/00-theory/04-state-compression/empirical-data.md)

### 6.4 èŒƒç•´è®ºè§†è§’

> **è¯¦ç»†ç†è®º**ï¼šå‚è§
> [èŒƒç•´è®ºè§†è§’æ–‡æ¡£](docs/ARCHITECTURE/00-theory/03-category-theory/)

**æ¶æ„èŒƒç•´**ï¼š

- **å¯¹è±¡é›†åˆ**ï¼šÎ© = {Binary, Image, Container, VM, Sandbox, Wasm, Service,
  VirtualNode, Edge, Policy, ...}
- **æ€å°„é›†åˆ**ï¼šV (Virtualize), I (Image), C (Container), S (Sandbox), W (Wasm),
  M (Mesh), N (Network)
- **å‡½å­**ï¼šÎ¨â‚ (è™šæ‹ŸåŒ–), Î¨â‚‚ (å®¹å™¨åŒ–), Î¨â‚ƒ (æ²™ç›’åŒ–), Î¨â‚„ (ç½‘ç»œæŠ½è±¡), Î¨â‚… (Wasm æŠ½è±¡)
- **è‡ªç„¶å˜æ¢**ï¼šÎ·â‚ (Hardware â†’ VM), Î·â‚‚ (VM â†’ Container), Î·â‚ƒ (Container â†’
  Sandbox), Î·â‚„ (IP â†’ Service), Î·â‚… (Sandbox â†’ Wasm)

**ç»„åˆå®šå¾‹**ï¼š

- **ç»“åˆå¾‹**ï¼š(f âˆ˜ g) âˆ˜ h = f âˆ˜ (g âˆ˜ h)
- **å•ä½å¾‹**ï¼šid âˆ˜ f = f âˆ˜ id = f
- **äº¤æ¢å¾‹**ï¼ˆéƒ¨åˆ†ï¼‰ï¼šæŸäº›æ€å°„æ»¡è¶³äº¤æ¢å¾‹

---

## 7. åŠ¨æ€è¿ç»´

### 7.1 åŠ¨æ€è¿ç»´ç»´åº¦

| ç»´åº¦                    | å…³é”®æŠ€æœ¯                                            | è¯´æ˜                         |
| ----------------------- | --------------------------------------------------- | ---------------------------- |
| **æŒç»­é›†æˆ / æŒç»­äº¤ä»˜** | GitHub Actions, Argo CD                             | è‡ªåŠ¨åŒ–æ„å»ºã€æµ‹è¯•ã€éƒ¨ç½²       |
| **å¼¹æ€§ä¼¸ç¼©**            | HPA, Knative, Argo Rollouts                         | è‡ªåŠ¨æ¨ªå‘æ‰©ç¼©ã€è“ç»¿/ç°åº¦å‘å¸ƒ  |
| **å¯è§‚æµ‹**              | OpenTelemetry Collector, Prometheus, Grafana, Tempo | ç»Ÿä¸€é¥æµ‹ã€è¿½è¸ªã€æ—¥å¿—         |
| **å®‰å…¨**                | OPA, Gatekeeper, Spiffe                             | è®¿é—®æ§åˆ¶ã€è¯ä¹¦ç®¡ç†ã€æœ€å°æƒé™ |
| **ç½‘ç»œæ²»ç†**            | Istio, NSM, Envoy                                   | æµé‡æ²»ç†ã€ç†”æ–­ã€mTLS         |

### 7.2 å·®åˆ†è¿›åŒ–

**å®šä¹‰**ï¼šä»»æ„è¿ç»´äº‹ä»¶ Î” å¯è¡¨ç¤ºä¸º Î” : â„³(t) â†’ â„³(t+Î´t)

**æ€§è´¨**ï¼š

- **å·®åˆ†å¤§å°**ï¼š||Î”|| â‰ª ||Î£â‚€||ï¼ˆåŸå§‹ç¡¬ä»¶-OS-ç½‘ç»œçŠ¶æ€ç©ºé—´ï¼‰
- **å¯è§‚æµ‹æ€§**ï¼šÎ” ç”± Git SHA å”¯ä¸€æ ‡è¯†
- **å¯å›æ»šæ€§**ï¼šé€šè¿‡ Git å›æ»šå³å¯æ¢å¤çŠ¶æ€

**ç¤ºä¾‹**ï¼šé‡‘ä¸é›€å‘å¸ƒ

- Î” = Flux CD æäº¤ `canary.weight=10%`
- ä»…æ”¹åŠ¨ G(t).E ä¸­ä¸€æ¡è¾¹çš„æƒé‡
- æ•°æ®é¢ç§’çº§æ”¶æ•›ï¼Œæ— éœ€é‡å¯ uáµ¢
- å†¯Â·è¯ºä¾æ›¼ PC å¯„å­˜å™¨ã€OS è¿›ç¨‹è¡¨ã€BGP è·¯ç”±è¡¨**é›¶æ„ŸçŸ¥**

### 7.3 ç»Ÿä¸€æ€ç»´å¯¼å›¾

```text
Dynamic Software World
â”œâ”€ Compute (Von Neumann + OS)
â”‚   â”œâ”€ Virtualization (VM, Hypervisor)
â”‚   â”‚   â”œâ”€ Resources: CPU, RAM, Storage
â”‚   â”‚   â””â”€ Features: Liveâ€‘Migrate, Snapshots
â”‚   â”œâ”€ Containerization (Docker, Kata, gVisor)
â”‚   â”‚   â”œâ”€ Isolation: Namespaces, cgroups
â”‚   â”‚   â””â”€ Features: Image layers, OverlayFS
â”‚   â””â”€ Sandbox (seccompâ€‘bpf, eBPF, Landlock)
â”‚       â”œâ”€ Security: syscall filter
â”‚       â””â”€ Features: dynamic policies
â”œâ”€ Network & Distributed System
â”‚   â”œâ”€ Service Mesh (Istio, Linkerd, NSM)
â”‚   â”‚   â”œâ”€ Data Plane: Envoy, vWire
â”‚   â”‚   â”œâ”€ Control Plane: Pilot, Pilotâ€‘Service
â”‚   â”‚   â””â”€ Features: mTLS, Traffic Shaping
â”‚   â”œâ”€ Network Service Mesh (NSM)
â”‚   â”‚   â”œâ”€ vL3, vWire
â”‚   â”‚   â””â”€ Supports: Podâ†”VMâ†”Physical, Multiâ€‘cloud
â”‚   â””â”€ Distributed Models (Raft, Paxos, Event Sourcing)
â”‚       â””â”€ Features: Consensus, Replication
â”œâ”€ Dynamic Operations
â”‚   â”œâ”€ CI/CD (GitHub Actions, Argo CD)
â”‚   â”œâ”€ Observability (Prometheus, OpenTelemetry, Tempo)
â”‚   â””â”€ Autoâ€‘Scaling (HPA, Knative, Autoscaler)
â””â”€ Governance & Security
    â”œâ”€ Policy Engine (OPA, Gatekeeper)
    â””â”€ Compliance (Audit, Logging)
```

---

## 8. å‚è€ƒèµ„æº

### 8.1 æ¶æ„æ–¹æ³•è®º

| èµ„æº                                                                  | è¯´æ˜                       | é€‚ç”¨             |
| --------------------------------------------------------------------- | -------------------------- | ---------------- |
| **Martin Fowler â€“ "Composite Architecture"**                          | è¯´æ˜å¦‚ä½•æŠŠ"ç»„ä»¶"ç»„åˆæˆç³»ç»Ÿ | æ‹†åˆ† & ç»„åˆ      |
| **DDD by Eric Evans**                                                 | é¢†åŸŸé©±åŠ¨è®¾è®¡               | é¢†åŸŸè¾¹ç•Œã€èšåˆæ ¹ |
| **"Patterns of Enterprise Application Architecture" (Martin Fowler)** | å¸¸è§æ¶æ„æ¨¡å¼               | ç»„åˆæ¨¡å¼         |
| **"C4 Model" (Simon Brown)**                                          | å±‚æ¬¡åŒ–æ¶æ„å¯è§†åŒ–           | è®°å½•             |
| **ArchiMate / UML**                                                   | å»ºæ¨¡è¯­è¨€                   | è®°å½•ã€æ²Ÿé€š       |

### 8.2 æŠ€æœ¯æ ‡å‡†ä¸å·¥å…·

| é¢†åŸŸ         | å‚è€ƒæ ‡å‡† / æ¡†æ¶                             | å…¸å‹å·¥å…·                       |
| ------------ | ------------------------------------------- | ------------------------------ |
| **è™šæ‹ŸåŒ–**   | Open Virtualization Format (OVF)            | libvirt, virtâ€‘manager          |
| **å®¹å™¨åŒ–**   | OCI Image Spec                              | Docker, Podman, BuildKit       |
| **æ²™ç®±**     | seccomp, AppArmor, Linux namespaces         | seccompâ€‘bpf, eBPF, Firecracker |
| **æœåŠ¡ç½‘æ ¼** | OpenAPI 3, Envoy API                        | Istio, Linkerd, Consul         |
| **ç›‘æ§**     | OpenTelemetry                               | Prometheus, Grafana, Tempo     |
| **CI/CD**    | GitOps                                      | ArgoCD, Flux, Tekton           |
| **å®‰å…¨**     | OPA / Rego, Cloudâ€‘Native Security Framework | Gatekeeper, Kyverno            |
| **æ¶æ„å»ºæ¨¡** | C4 Model, ArchiMate                         | Structurizr, Archi             |

### 8.3 åœ¨çº¿èµ„æº

| èµ„æº                           | ç”¨é€”              | é“¾æ¥                                                |
| ------------------------------ | ----------------- | --------------------------------------------------- |
| **C4 Model**                   | å±‚æ¬¡åŒ–æ¶æ„å›¾      | <https://c4model.com>                               |
| **ArchiMate**                  | ä¼ä¸šå»ºæ¨¡          | <https://archimate.org>                             |
| **Network Service Mesh**       | å‚è€ƒå®ç°          | <https://networkservicemesh.io>                     |
| **Istio**                      | Service Mesh ç¤ºä¾‹ | <https://istio.io>                                  |
| **Prometheus + OpenTelemetry** | ç›‘æ§è¿½è¸ª          | <https://prometheus.io>, <https://opentelemetry.io> |
| **Argo CD**                    | GitOps            | <https://argoproj.github.io/argo-cd>                |
| **OPA**                        | ç­–ç•¥å¼•æ“          | <https://www.openpolicyagent.org>                   |
| **PlantUML**                   | æ€ç»´å¯¼å›¾ä¸ UML    | <https://plantuml.com>                              |

---

## 9. ç»“è¯­

### 9.1 ä¸€å¥è¯å½’çº³

> **è™šæ‹ŸåŒ–-å®¹å™¨åŒ–-æ²™ç›’åŒ–**ä¸æ˜¯ä¸‰ç§æŠ€æœ¯ï¼Œè€Œæ˜¯ä¸€æ¬¡**å¯¹"å¯è®¡ç®—æ€§+èµ„æº+é€šä¿¡"çš„å®Œæ•´å½’
> çº³**ï¼šæŠŠ**ç¡…ç‰‡ä¸Šçš„å†¯Â·è¯ºä¾æ›¼çŠ¶æ€æœº**ã€**æ“ä½œç³»ç»Ÿå‘½åç©ºé—´**ã€**åˆ†å¸ƒå¼ç½‘ç»œå
> è®®**ç»Ÿä¸€**å‹ç¼©æˆä¸€å¼ å¯ç‰ˆæœ¬åŒ–ã€å¯å•å…ƒæµ‹è¯•ã€å¯åŠ¨æ€å·®åˆ†çš„ YAML å›¾è°±**â€”â€”æˆ‘ä»¬ç§°ä¹‹
> ä¸º**"Cloud çš„ä¸­é—´è¯­è¨€"â„³**ï¼Œè‡ªæ­¤**æ¶æ„å¸ˆåªé¡»åœ¨é¢†åŸŸå±‚å†™ç­–ç•¥**ï¼Œè€Œ**æ‰€æœ‰éåŠŸèƒ½æ€§
> å·²è¢«è¯æ˜ç­‰ä»·äºä¸€æ®µå¯éªŒè¯çš„ä»£ç **ã€‚

### 9.2 æ ¸å¿ƒä»·å€¼

1. **æ¶æ„å¸ˆèšç„¦ä¸šåŠ¡**ï¼šæŠ€æœ¯ç»†èŠ‚è¢«å„å±‚æŠ½è±¡ï¼Œæ¶æ„å¸ˆåªéœ€å…³æ³¨ä¸šåŠ¡é€»è¾‘ã€é¢†åŸŸæ¨¡å‹ã€æ¥
   å£å¥‘çº¦
2. **å¯ç»„åˆã€å¯è§‚æµ‹ã€å¯å¼¹æ€§**ï¼šé€šè¿‡ Service Meshã€NSMã€OPA ç­‰æŠ€æœ¯ï¼Œå®ç°ç»Ÿä¸€çš„ç½‘
   ç»œæ²»ç†ã€ç­–ç•¥æ²»ç†ã€åŠ¨æ€è¿ç»´
3. **å½¢å¼åŒ–éªŒè¯**ï¼šé€šè¿‡æ•°å­¦å½’çº³æ³•ã€èŒƒç•´è®ºç­‰å½¢å¼åŒ–æ–¹æ³•ï¼Œè¯æ˜æ¶æ„çš„æ­£ç¡®æ€§å’Œä¸€è‡´æ€§
4. **æŒç»­æ¼”è¿›**ï¼šé€šè¿‡ GitOpsã€å·®åˆ†è¿›åŒ–ç­‰æœºåˆ¶ï¼Œå®ç°æ¶æ„çš„æŒç»­æ¼”è¿›å’Œä¼˜åŒ–

### 9.3 å®è·µå»ºè®®

1. **æŠŠæ‹†åˆ†è¿‡ç¨‹å†™è¿› ADR**ï¼›æ¯æ¬¡ç»„åˆéƒ½å†™ä¸€æ¡"ç»„ä»¶åŒ–å†³ç­–"
2. **ç”¨ C4 æ¨¡å‹** è®°å½•å±‚æ¬¡ä¸æ¥å£ï¼›ç”¨ **ArchiMate** æˆ– **UML** è®°å½•ç»†èŠ‚
3. **é€‰ç”¨æœåŠ¡ç½‘æ ¼ + API Gateway**ï¼Œè®©"å¾®æœåŠ¡"ä¸"æ— æœåŠ¡å™¨"å¯ä»¥æ— ç¼å…±å­˜
4. **ç”¨ OpenTelemetry ç»Ÿä¸€ç›‘æ§**ï¼›ç”¨ **OPA** ç»Ÿä¸€å®‰å…¨
5. **è‡ªåŠ¨åŒ–éƒ¨ç½² & ç›‘æ§**ï¼Œä¿è¯ **æŒç»­äº¤ä»˜**

---

## 10. ç›¸å…³æ–‡æ¡£

### 10.1 ç†è®ºè®ºè¯æ–‡æ¡£

- **[ç†è®ºè®ºè¯æ–‡æ¡£é›†](docs/ARCHITECTURE/00-theory/)** - çº¯å½¢å¼åŒ–ç†è®ºè®ºè¯
  - [å…¬ç†å±‚](docs/ARCHITECTURE/00-theory/01-axioms/) - A1-A8 å…¬ç†è¯¦ç»†è¯´æ˜
  - [å½’çº³è¯æ˜](docs/ARCHITECTURE/00-theory/02-induction-proof/) - å®Œæ•´å½’çº³è¯æ˜é“¾
  - [èŒƒç•´è®ºè§†è§’](docs/ARCHITECTURE/00-theory/03-category-theory/) - æ¶æ„ç»„åˆçš„å½¢
    å¼åŒ–
  - [çŠ¶æ€ç©ºé—´å‹ç¼©](docs/ARCHITECTURE/00-theory/04-state-compression/) - å‹ç¼©æ¯”è¯
    æ˜å’Œå®è¯æ•°æ®
  - [å¼•ç†å’Œå®šç†](docs/ARCHITECTURE/00-theory/05-lemmas-theorems/) - L1, L2, L3,
    T1

### 10.2 æ¶æ„è§†è§’æ–‡æ¡£

- **[å¤šè§†è§’æ¶æ„è§†å›¾](docs/ARCHITECTURE/01-views/)** - ä¸åŒè§†è§’çš„æ¶æ„è§†å›¾
- **[å¤šè§†è§’æ¶æ„åˆ†æ](docs/ARCHITECTURE/architecture-view/09-multi-perspectives/)** -
  åŠŸèƒ½ã€ç»“æ„ã€è¡Œä¸ºã€æ•°æ®ã€å®‰å…¨ã€å¯è§‚æµ‹æ€§ã€eBPF/OTLP ç­‰å¤šè§†è§’åˆ†æ
  - **[eBPF/OTLP æ¶æ„è§†è§’](docs/ARCHITECTURE/architecture-view/09-multi-perspectives/07-ebpf-otlp-perspective.md)**
    â­ - æ¨ªçºµè€¦åˆçš„å¯è§‚æµ‹æ€§é©±åŠ¨æ¶æ„
- **[åˆ†å±‚æ¶æ„æ¨¡å‹](docs/ARCHITECTURE/02-layers/)** - ä»ç¡¬ä»¶åˆ°ä¸šåŠ¡çš„åˆ†å±‚æŠ½è±¡
- **[ç»„åˆæ¨¡å¼ä¸å®è·µ](docs/ARCHITECTURE/03-composition/)** - æ¶æ„ç»„åˆçš„æ ¸å¿ƒæ¨¡å¼

### 10.3 å®ç°ç»†èŠ‚æ–‡æ¡£

- **[å®ç°ç»†èŠ‚æ–‡æ¡£é›†](docs/ARCHITECTURE/01-implementation/)** - ä»£ç ç¤ºä¾‹ã€é…ç½®ç¤º
  ä¾‹ã€API ä½¿ç”¨
  - [è™šæ‹ŸåŒ–å®ç°](docs/ARCHITECTURE/01-implementation/01-virtualization/) -
    KVMã€QEMUã€è™šæ‹Ÿæœºä»£ç ç¤ºä¾‹
  - [å®¹å™¨åŒ–å®ç°](docs/ARCHITECTURE/01-implementation/02-containerization/) -
    Dockerã€cgroupã€namespace ç¤ºä¾‹
  - [æ²™ç›’åŒ–å®ç°](docs/ARCHITECTURE/01-implementation/03-sandboxing/) -
    seccompã€gVisorã€Firecracker é…ç½®
  - [Service Mesh å®ç°](docs/ARCHITECTURE/01-implementation/04-service-mesh/) -
    Istioã€Envoyã€xDS API ç¤ºä¾‹
  - [OPA å®ç°](docs/ARCHITECTURE/01-implementation/05-opa/) -
    Regoã€Gatekeeperã€Policy Bundle ç¤ºä¾‹
  - [WebAssembly å®ç°](docs/ARCHITECTURE/01-implementation/06-wasm/) â­ å¾…åˆ›å»º -
    WasmEdgeã€WASIã€Wasm ç¼–è¯‘ç¤ºä¾‹

### 10.4 ç³»ç»Ÿè§†è§’æ–‡æ¡£

- **[ç³»ç»Ÿè§†è§’æ–‡æ¡£](system_view.md)** â­ æ–°å¢ - ä»ç³»ç»Ÿè§†è§’ï¼ˆ7 å±‚ 4 åŸŸæ¨¡å‹ï¼‰æ¢³ç†è™š
  æ‹ŸåŒ–ã€å®¹å™¨åŒ–ã€æ²™ç›’åŒ–
  - **ä½ç½®**ï¼š`system_view.md`
  - **æ•´åˆæŒ‡
    å—**ï¼š[`docs/ARCHITECTURE/SYSTEM-VIEW-INTEGRATION.md`](docs/ARCHITECTURE/SYSTEM-VIEW-INTEGRATION.md) -
    å®Œæ•´çš„æ•´åˆæŒ‡å—å’Œäº¤å‰å¼•ç”¨
  - **ç†è®ºè®º
    è¯**ï¼š[`docs/ARCHITECTURE/00-theory/07-system-model/`](docs/ARCHITECTURE/00-theory/07-system-model/) -
    7 å±‚ 4 åŸŸæ¨¡å‹å½¢å¼åŒ–è®ºè¯
  - **æ¶æ„è§†
    å›¾**ï¼š[`docs/ARCHITECTURE/01-views/system-view-architecture.md`](docs/ARCHITECTURE/01-views/system-view-architecture.md) -
    7 å±‚ 4 åŸŸæ¨¡å‹æ¶æ„è§†å›¾
  - **å®ç°ç»†
    èŠ‚**ï¼š[`docs/ARCHITECTURE/01-implementation/09-system-view/`](docs/ARCHITECTURE/01-implementation/09-system-view/) -
    7 å±‚ 4 åŸŸæ¨¡å‹å®ç°å’Œéƒ¨ç½²
  - **æ¡ˆä¾‹æ‰©
    å±•**ï¼š[`docs/ARCHITECTURE/07-case-studies/system-view-cases-analysis.md`](docs/ARCHITECTURE/07-case-studies/system-view-cases-analysis.md) -
    system_view æ¡ˆä¾‹çš„è¯¦ç»†åˆ†æ

### 10.5 æŠ€æœ¯æ–‡æ¡£

- **[æŠ€æœ¯å®ç°ç»†èŠ‚](docs/TECHNICAL/)** - Dockerã€Kubernetesã€K3sã€WasmEdge ç­‰æŠ€æœ¯
  æ–‡æ¡£

### 10.6 è®¤çŸ¥æ¨¡å‹

- **[å½¢å¼åŒ–ç†è®º](docs/COGNITIVE/07-formal-theory/)** - å½¢å¼åŒ–ç†è®ºæ¨¡å‹
- **[èŒƒç•´è®º](docs/COGNITIVE/08-category-theory/)** - èŒƒç•´è®ºè§†è§’

### 10.7 å¤šè§†è§’æ–‡æ¡£

- **[è®¤çŸ¥è§†è§’](ai_view.md)** - äº‘åŸç”ŸæŠ€æœ¯æ ˆè®¤çŸ¥è§†å›¾ï¼šDocker â†’ K8s/K3s â†’ WasmEdge
  â†’ OPA
- **[ä»£æ•°è§†è§’](algebra_view.md)** - ä»ä»£æ•°è§£æ„ä¸Šçœ‹è™šæ‹ŸåŒ–å®¹å™¨åŒ–æ²™ç›’åŒ–
- **[ç³»ç»Ÿè§†è§’](system_view.md)** - ä»ç³»ç»Ÿçš„è§†è§’çœ‹è™šæ‹ŸåŒ–å®¹å™¨åŒ–æ²™ç›’åŒ–ï¼ˆ7 å±‚ 4 åŸŸæ¨¡
  å‹ï¼‰
- **[ç»“æ„è§†è§’](structure_view.md)** - ä»æŠ½è±¡ç»“æ„çš„è§†è§’çœ‹è™šæ‹ŸåŒ–å®¹å™¨åŒ–æ²™ç›’åŒ–
- **[æŠ€æœ¯ç¤¾ä¼šè§†è§’](tech_view.md)** - ä»ç¤¾ä¼šæŠ€æœ¯ç±»æ¯”çš„è§†è§’çœ‹å¾…è™šæ‹ŸåŒ–å®¹å™¨åŒ–æ²™ç›’åŒ–
- **[eBPF/OTLP è§†è§’](ebpf_otlp_view.md)** - ä» eBPF å’Œ OTLP çš„è§†è§’çœ‹è™šæ‹ŸåŒ–å®¹å™¨åŒ–
  ï¼ˆæ¨ªçºµè€¦åˆå®šä½æ¨¡å‹ã€æ™ºèƒ½ç³»ç»Ÿèƒ½åŠ›æ¶æ„ï¼‰

---

**æœ€åæ›´æ–°**ï¼š2025-11-07 **æ–‡æ¡£ç‰ˆæœ¬**ï¼šv2.0ï¼ˆé‡æ„ç‰ˆæœ¬ï¼‰ **ç»´æŠ¤è€…**ï¼šé¡¹ç›®å›¢é˜Ÿ
