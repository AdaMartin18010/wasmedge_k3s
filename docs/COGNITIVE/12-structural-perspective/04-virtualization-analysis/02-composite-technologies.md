# 12.4.2 复合技术分析

## 📑 目录

- [📑 目录](#-目录)
- [12.4.2.1 复合技术的结构分析](#12421-复合技术的结构分析)
  - [核心思想](#核心思想)
  - [复合技术对比表](#复合技术对比表)
- [12.4.2.2 各技术详细分析](#12422-各技术详细分析)
  - [1. KVM+QEMU](#1-kvmqemu)
  - [2. gVisor](#2-gvisor)
  - [3. Firecracker](#3-firecracker)
  - [4. Docker + seccomp](#4-docker--seccomp)
  - [5. WASM 沙盒](#5-wasm-沙盒)
- [12.4.2.3 参考](#12423-参考)
  - [相关文档](#相关文档)

---

## 12.4.2.1 复合技术的结构分析

### 核心思想

复合技术是多种结构的组合，每种技术在计算、控制、信息三轴上的权重不同。

### 复合技术对比表

| 杂交案例             | 计算                                | 控制                                  | 信息                                    | 一句话点评                 |
| -------------------- | ----------------------------------- | ------------------------------------- | --------------------------------------- | -------------------------- |
| **KVM+QEMU**         | 硬件虚拟化                          | 用户态事件循环                        | 可选 virtio-**fs** 缓存一致性           | 经典"**计算结构主导**"     |
| **gVisor**           | 用户态**Sentry** 重新实现 Linux ABI | 内部**独立调度器**⇒ 控制再分层        | 仅暴露**fake /proc**                    | **计算+控制**双高，信息轻  |
| **Firecracker**      | KVM 指令级                          | **微 VM** 极短退出路径                | **设备树极简**                          | 把虚拟化**往信息结构压薄** |
| **Docker + seccomp** | 容器级                              | **控制结构双层**：namespace + seccomp | **信息视图再裁剪**                      | 容器套沙盒，**结构叠加**   |
| **WASM 沙盒**        | **字节码验证**（计算结构轻量伪装）  | **Capabilities 表**（控制）           | **线性内存**+**导入函数白名单**（信息） | 三轴都**中度**，故可跨平台 |

---

## 12.4.2.2 各技术详细分析

### 1. KVM+QEMU

**结构权重**：

- **计算结构**：★★★★★（硬件虚拟化）
- **控制结构**：★★★（用户态事件循环）
- **信息结构**：★★（可选 virtio-fs 缓存一致性）

**特点**：

- 经典"**计算结构主导**"的技术
- 通过硬件虚拟化实现完全隔离
- 控制结构相对简单（事件循环）
- 信息结构可配置（virtio 设备）

**适用场景**：

- 需要完全硬件隔离的场景
- 运行多种操作系统
- 需要热迁移功能

### 2. gVisor

**结构权重**：

- **计算结构**：★★★★（用户态 Sentry 重新实现 Linux ABI）
- **控制结构**：★★★★（内部独立调度器）
- **信息结构**：★★（仅暴露 fake /proc）

**特点**：

- **计算+控制**双高，信息轻
- 通过用户态重新实现 Linux ABI 提供隔离
- 独立调度器实现控制结构的再分层
- 信息结构最小化（fake /proc）

**适用场景**：

- 需要强隔离但不需要完整内核
- 容器安全增强
- 多租户环境

### 3. Firecracker

**结构权重**：

- **计算结构**：★★★★（KVM 指令级）
- **控制结构**：★★★（微 VM 极短退出路径）
- **信息结构**：★★（设备树极简）

**特点**：

- 把虚拟化**往信息结构压薄**
- 利用 KVM 的硬件虚拟化能力
- 极简设备模型减少信息结构复杂度
- 短退出路径优化控制结构

**适用场景**：

- 无服务器计算（Serverless）
- 多租户隔离
- 快速启动需求

### 4. Docker + seccomp

**结构权重**：

- **计算结构**：★★（容器级）
- **控制结构**：★★★★（控制结构双层：namespace + seccomp）
- **信息结构**：★★★（信息视图再裁剪）

**特点**：

- 容器套沙盒，**结构叠加**
- 计算结构保持容器级别（不虚拟化）
- 控制结构双层：namespace 隔离 + seccomp 过滤
- 信息结构通过视图裁剪实现

**适用场景**：

- 容器安全增强
- 需要细粒度权限控制
- 最小权限原则

### 5. WASM 沙盒

**结构权重**：

- **计算结构**：★★★（字节码验证，计算结构轻量伪装）
- **控制结构**：★★★（Capabilities 表）
- **信息结构**：★★★（线性内存 + 导入函数白名单）

**特点**：

- 三轴都**中度**，故可跨平台
- 通过字节码验证提供计算结构保护
- Capabilities 表实现控制结构
- 线性内存和导入函数白名单实现信息结构

**适用场景**：

- 跨平台应用
- 插件系统
- 边缘计算
- 浏览器环境

---

## 12.4.2.3 参考

### 相关文档

- **[结构主义三棱镜分析](01-triple-structure-prism.md)** - 用三类结构重新审视三
  条技术路线
- **[选型原则](03-selection-principles.md)** - 结构主义选型格言和原则
- **[三类结构分析](../02-three-structures/README.md)** - 计算结构、控制结构、信
  息结构的深入分析
- **[源文档](../../../structure_view.md)** - 结构视角的完整论述

---

**更新时间**：2025-11-05 **版本**：v1.0
