# äºŒã€è¿è¡Œæ—¶çŠ¶æ€æœº

> **æ–‡æ¡£ç‰ˆæœ¬**ï¼šv1.0 **æœ€åæ›´æ–°ï¼š2025-11-15 **ç»´æŠ¤è€…**ï¼šé¡¹ç›®å›¢é˜Ÿ

---

## ğŸ“‘ ç›®å½•

- [äºŒã€è¿è¡Œæ—¶çŠ¶æ€æœº](#äºŒè¿è¡Œæ—¶çŠ¶æ€æœº)
  - [ğŸ“‘ ç›®å½•](#-ç›®å½•)
  - [æ¦‚è¿°](#æ¦‚è¿°)
  - [ä¸€ã€å®¹å™¨çŠ¶æ€æœº](#ä¸€å®¹å™¨çŠ¶æ€æœº)
    - [1.1 å®¹å™¨çŠ¶æ€æœºå®šä¹‰](#11-å®¹å™¨çŠ¶æ€æœºå®šä¹‰)
    - [1.2 å®¹å™¨çŠ¶æ€è½¬ç§»](#12-å®¹å™¨çŠ¶æ€è½¬ç§»)
    - [1.3 å®¹å™¨çŠ¶æ€æœºå¤æ‚åº¦](#13-å®¹å™¨çŠ¶æ€æœºå¤æ‚åº¦)
  - [äºŒã€è™šæ‹ŸæœºçŠ¶æ€æœº](#äºŒè™šæ‹ŸæœºçŠ¶æ€æœº)
    - [2.1 è™šæ‹ŸæœºçŠ¶æ€æœºå®šä¹‰](#21-è™šæ‹ŸæœºçŠ¶æ€æœºå®šä¹‰)
    - [2.2 è™šæ‹ŸæœºçŠ¶æ€è½¬ç§»](#22-è™šæ‹ŸæœºçŠ¶æ€è½¬ç§»)
    - [2.3 è™šæ‹ŸæœºçŠ¶æ€æœºå¤æ‚åº¦](#23-è™šæ‹ŸæœºçŠ¶æ€æœºå¤æ‚åº¦)
  - [ä¸‰ã€çŠ¶æ€è½¬ç§»æ¦‚ç‡](#ä¸‰çŠ¶æ€è½¬ç§»æ¦‚ç‡)
    - [3.1 å®¹å™¨çŠ¶æ€è½¬ç§»æ¦‚ç‡](#31-å®¹å™¨çŠ¶æ€è½¬ç§»æ¦‚ç‡)
    - [3.2 è™šæ‹ŸæœºçŠ¶æ€è½¬ç§»æ¦‚ç‡](#32-è™šæ‹ŸæœºçŠ¶æ€è½¬ç§»æ¦‚ç‡)
    - [3.3 çŠ¶æ€è½¬ç§»æ¦‚ç‡å¯¹æ¯”](#33-çŠ¶æ€è½¬ç§»æ¦‚ç‡å¯¹æ¯”)
  - [å››ã€çŠ¶æ€æœºçš„é©¬å°”å¯å¤«é“¾æ¨¡å‹](#å››çŠ¶æ€æœºçš„é©¬å°”å¯å¤«é“¾æ¨¡å‹)
    - [4.1 å®¹å™¨çŠ¶æ€é©¬å°”å¯å¤«é“¾](#41-å®¹å™¨çŠ¶æ€é©¬å°”å¯å¤«é“¾)
    - [4.2 è™šæ‹ŸæœºçŠ¶æ€é©¬å°”å¯å¤«é“¾](#42-è™šæ‹ŸæœºçŠ¶æ€é©¬å°”å¯å¤«é“¾)
    - [4.3 ç¨³æ€åˆ†å¸ƒ](#43-ç¨³æ€åˆ†å¸ƒ)
  - [äº”ã€å½¢å¼åŒ–éªŒè¯](#äº”å½¢å¼åŒ–éªŒè¯)
    - [5.1 çŠ¶æ€æœºå®Œæ•´æ€§éªŒè¯](#51-çŠ¶æ€æœºå®Œæ•´æ€§éªŒè¯)
    - [5.2 çŠ¶æ€æœºå¯è¾¾æ€§éªŒè¯](#52-çŠ¶æ€æœºå¯è¾¾æ€§éªŒè¯)
  - [ç›¸å…³æ–‡æ¡£](#ç›¸å…³æ–‡æ¡£)

---

## æ¦‚è¿°

æœ¬æ–‡æ¡£ä»**çŠ¶æ€æœºç†è®º**å’Œ**é©¬å°”å¯å¤«é“¾**çš„è§†è§’å½¢å¼åŒ–åˆ†æè¿è¡Œæ—¶çŠ¶æ€æœºï¼Œå°†çŠ¶æ€è½¬ç§»ã€
è½¬ç§»æ¦‚ç‡ã€ç¨³æ€åˆ†å¸ƒç­‰æ¦‚å¿µæŠ½è±¡ä¸ºæ•°å­¦ç»“æ„ï¼Œå»ºç«‹è¿è¡Œæ—¶çŠ¶æ€æœºçš„ä¸¥æ ¼æ•°å­¦æ¨¡å‹ã€‚

**ä¸ºä»€ä¹ˆä½¿ç”¨çŠ¶æ€æœºç†è®ºå’Œé©¬å°”å¯å¤«é“¾åˆ†æè¿è¡Œæ—¶çŠ¶æ€æœºï¼Ÿ**

çŠ¶æ€æœºç†è®ºå’Œé©¬å°”å¯å¤«é“¾æä¾›äº†ç»Ÿä¸€çš„æ•°å­¦æ¡†æ¶æ¥æè¿°è¿è¡Œæ—¶çŠ¶æ€æœºçš„ç»“æ„å’Œè¡Œä¸ºï¼š

1. **çŠ¶æ€å»ºæ¨¡**ï¼šé€šè¿‡çŠ¶æ€æœºç†è®ºï¼Œæˆ‘ä»¬å¯ä»¥å°†è¿è¡Œæ—¶çŠ¶æ€è½¬ç§»æŠ½è±¡ä¸ºçŠ¶æ€æœºï¼Œå®ç°ç»Ÿä¸€
   çš„æ•°å­¦æè¿°
2. **æ¦‚ç‡åˆ†æ**ï¼šé€šè¿‡é©¬å°”å¯å¤«é“¾ï¼Œæˆ‘ä»¬å¯ä»¥åˆ†æçŠ¶æ€è½¬ç§»çš„æ¦‚ç‡å’Œç¨³æ€åˆ†å¸ƒ
3. **å½¢å¼åŒ–éªŒè¯**ï¼šé€šè¿‡å½¢å¼åŒ–éªŒè¯ï¼Œæˆ‘ä»¬å¯ä»¥éªŒè¯çŠ¶æ€æœºçš„å®Œæ•´æ€§ã€å¯è¾¾æ€§å’Œæ— æ­»é”æ€§

**çŠ¶æ€æœºç†è®ºå’Œé©¬å°”å¯å¤«é“¾åœ¨è¿è¡Œæ—¶çŠ¶æ€æœºåˆ†æä¸­çš„åº”ç”¨**ï¼š

- **çŠ¶æ€æœºï¼ˆState Machineï¼‰**ï¼šå®¹å™¨çŠ¶æ€æœºã€è™šæ‹ŸæœºçŠ¶æ€æœºï¼Œæè¿°çŠ¶æ€è½¬ç§»
- **è½¬ç§»æ¦‚ç‡ï¼ˆTransition Probabilityï¼‰**ï¼šçŠ¶æ€è½¬ç§»çš„æ¦‚ç‡ï¼Œæè¿°çŠ¶æ€è½¬ç§»çš„ä¸ç¡®å®šæ€§
- **é©¬å°”å¯å¤«é“¾ï¼ˆMarkov Chainï¼‰**ï¼šçŠ¶æ€è½¬ç§»çš„é©¬å°”å¯å¤«é“¾ï¼Œæè¿°çŠ¶æ€è½¬ç§»çš„éšæœºè¿‡ç¨‹
- **ç¨³æ€åˆ†å¸ƒï¼ˆSteady State Distributionï¼‰**ï¼šçŠ¶æ€æœºçš„ç¨³æ€åˆ†å¸ƒï¼Œæè¿°é•¿æœŸè¡Œä¸º

**æ ¸å¿ƒå†…å®¹**ï¼š

1. **å®¹å™¨çŠ¶æ€æœº**ï¼š4 çŠ¶æ€ï¼Œ5 ä¸ªè½¬ç§»
2. **è™šæ‹ŸæœºçŠ¶æ€æœº**ï¼š8 çŠ¶æ€ï¼Œ12 ä¸ªè½¬ç§»
3. **çŠ¶æ€è½¬ç§»æ¦‚ç‡**ï¼šå®¹å™¨å¯åŠ¨æˆåŠŸç‡ 95%ï¼Œè™šæ‹Ÿæœºå¯åŠ¨æˆåŠŸç‡ 70%
4. **çŠ¶æ€æœºçš„é©¬å°”å¯å¤«é“¾æ¨¡å‹**ï¼šçŠ¶æ€è½¬ç§»çš„é©¬å°”å¯å¤«é“¾
5. **å½¢å¼åŒ–éªŒè¯**ï¼šçŠ¶æ€æœºå®Œæ•´æ€§ã€å¯è¾¾æ€§éªŒè¯

---

## ä¸€ã€å®¹å™¨çŠ¶æ€æœº

### 1.1 å®¹å™¨çŠ¶æ€æœºå®šä¹‰

**å®¹å™¨çŠ¶æ€æœº** `(S_Pod, T_Pod)`ï¼š

```haskell
-- å®¹å™¨çŠ¶æ€æœºç±»å‹
data PodStateMachine = StateMachine {
    states :: Set PodState,
    transitions :: Set PodTransition,
    initialState :: PodState,
    finalStates :: Set PodState
}

-- å®¹å™¨çŠ¶æ€æœºå®ä¾‹
podStateMachine = StateMachine {
    states = {Pending, Running, Succeeded, Failed, Terminating},
    transitions = {
        Pending -> Running,
        Running -> Succeeded,
        Running -> Failed,
        Any -> Terminating
    },
    initialState = Pending,
    finalStates = {Succeeded, Failed, Terminating}
}
```

**å½¢å¼åŒ–å®šä¹‰**ï¼š

```text
(S_Pod, T_Pod) å…¶ä¸­ï¼š
- S_Pod = {Pending, Running, Succeeded, Failed, Terminating}
- T_Pod = {Pendingâ†’Running, Runningâ†’Succeeded, Runningâ†’Failed, Anyâ†’Terminating}
```

**çŠ¶æ€æœºå›¾**ï¼š

```mermaid
stateDiagram-v2
    [*] --> Pending
    Pending --> Running
    Running --> Succeeded
    Running --> Failed
    Running --> Terminating
    Succeeded --> [*]
    Failed --> [*]
    Terminating --> [*]
```

### 1.2 å®¹å™¨çŠ¶æ€è½¬ç§»

**å®¹å™¨çŠ¶æ€è½¬ç§»**ï¼š

| **è½¬ç§»**              | **ç±»å‹ç­¾å**                 | **æ¦‚ç‡** | **è¯´æ˜** |
| --------------------- | ---------------------------- | -------- | -------- |
| **Pendingâ†’Running**   | `Pending â†’ Running`          | 0.95     | å¯åŠ¨æˆåŠŸ |
| **Runningâ†’Succeeded** | `Running â†’ Succeeded`        | 0.8      | æˆåŠŸå®Œæˆ |
| **Runningâ†’Failed**    | `Running â†’ Failed`           | 0.15     | æ‰§è¡Œå¤±è´¥ |
| **Anyâ†’Terminating**   | `RuntimeState â†’ Terminating` | 1.0      | ç»ˆæ­¢     |

**å½¢å¼åŒ–å®šä¹‰**ï¼š

```text
T_Pod: S_Pod Ã— S_Pod â†’ [0, 1]
T_Pod(Pending, Running) = 0.95
T_Pod(Running, Succeeded) = 0.8
T_Pod(Running, Failed) = 0.15
T_Pod(Any, Terminating) = 1.0
```

### 1.3 å®¹å™¨çŠ¶æ€æœºå¤æ‚åº¦

**çŠ¶æ€æœºå¤æ‚åº¦**ï¼š

```text
å®¹å™¨çŠ¶æ€æœºå¤æ‚åº¦ï¼šO(|S_Pod|Â²) = O(5Â²) = O(25)
```

**çŠ¶æ€è½¬ç§»æ•°é‡**ï¼š

```text
å®¹å™¨çŠ¶æ€è½¬ç§»æ•°é‡ï¼š|T_Pod| = 5
```

**ä¸ºä»€ä¹ˆå®¹å™¨çŠ¶æ€æœºå¤æ‚åº¦é‡è¦ï¼Ÿ**

å®¹å™¨çŠ¶æ€æœºå¤æ‚åº¦å…è®¸æˆ‘ä»¬é‡åŒ–çŠ¶æ€æœºçš„å¤æ‚åº¦ï¼Œè¿™å¯¹äºåˆ†æçŠ¶æ€æœºçš„æ€§èƒ½è‡³å…³é‡è¦ã€‚

**å®¹å™¨çŠ¶æ€æœºå¤æ‚åº¦çš„æ•°å­¦è¯æ˜**ï¼š

è®¾ `(S_Pod, T_Pod)` æ˜¯å®¹å™¨çŠ¶æ€æœºï¼Œå…¶ä¸­
`S_Pod = {Pending, Running, Succeeded, Failed, Terminating}` æ˜¯çŠ¶æ€é›†åˆï¼Œ`T_Pod`
æ˜¯è½¬ç§»é›†åˆã€‚

æ ¹æ®çŠ¶æ€æœºå¤æ‚åº¦çš„å®šä¹‰ï¼Œå®¹å™¨çŠ¶æ€æœºå¤æ‚åº¦ä¸º `O(|S_Pod|Â²) = O(5Â²) = O(25)`ã€‚

**è¯æ˜**ï¼š

ç”±äºçŠ¶æ€æœºçš„è½¬ç§»çŸ©é˜µå¤§å°ä¸º `|S_Pod| Ã— |S_Pod|`ï¼ŒçŠ¶æ€æœºå¤æ‚åº¦ä¸º `O(|S_Pod|Â²)`ã€‚

å› æ­¤ï¼Œå®¹å™¨çŠ¶æ€æœºå¤æ‚åº¦ä¸º `O(5Â²) = O(25)`ã€‚

**å®¹å™¨çŠ¶æ€æœºå¤æ‚åº¦çš„å®é™…åº”ç”¨**ï¼š

å®¹å™¨çŠ¶æ€æœºå¤æ‚åº¦åœ¨å®é™…åº”ç”¨ä¸­æœ‰ä»¥ä¸‹ç”¨é€”ï¼š

1. **æ€§èƒ½åˆ†æ**ï¼šé€šè¿‡å¤æ‚åº¦ï¼Œæˆ‘ä»¬å¯ä»¥åˆ†æçŠ¶æ€æœºçš„æ€§èƒ½
2. **çŠ¶æ€æœºä¼˜åŒ–**ï¼šé€šè¿‡å¤æ‚åº¦ï¼Œæˆ‘ä»¬å¯ä»¥ä¼˜åŒ–çŠ¶æ€æœºçš„è®¾è®¡
3. **çŠ¶æ€æœºæ¯”è¾ƒ**ï¼šé€šè¿‡å¤æ‚åº¦ï¼Œæˆ‘ä»¬å¯ä»¥æ¯”è¾ƒä¸åŒçŠ¶æ€æœºçš„å¤æ‚åº¦

**çŠ¶æ€æœºæ·±åº¦**ï¼š

```text
å®¹å™¨çŠ¶æ€æœºæ·±åº¦ï¼šmax(depth(s)) = 3
å…¶ä¸­ depth(Pending) = 0, depth(Running) = 1, depth(Succeeded) = 2
```

---

## äºŒã€è™šæ‹ŸæœºçŠ¶æ€æœº

### 2.1 è™šæ‹ŸæœºçŠ¶æ€æœºå®šä¹‰

**è™šæ‹ŸæœºçŠ¶æ€æœº** `(S_VM, T_VM)`ï¼š

```haskell
-- è™šæ‹ŸæœºçŠ¶æ€æœºç±»å‹
data VMStateMachine = StateMachine {
    states :: Set VMState,
    transitions :: Set VMTransition,
    initialState :: VMState,
    finalStates :: Set VMState
}

-- è™šæ‹ŸæœºçŠ¶æ€æœºå®ä¾‹
vmStateMachine = StateMachine {
    states = {Stopped, Starting, Running, Paused, Stopping, Migrating, Migrated, Failed},
    transitions = {
        Stopped -> Starting -> Running,
        Running -> Paused -> Running,
        Running -> Migrating -> Running,
        Running -> Stopping -> Stopped
    },
    initialState = Stopped,
    finalStates = {Stopped, Failed}
}
```

**å½¢å¼åŒ–å®šä¹‰**ï¼š

```text
(S_VM, T_VM) å…¶ä¸­ï¼š
- S_VM = {Stopped, Starting, Running, Paused, Stopping, Migrating, Migrated, Failed}
- T_VM = {Stoppedâ†’Startingâ†’Running, Runningâ†’Pausedâ†’Running,
          Runningâ†’Migratingâ†’Running, Runningâ†’Stoppingâ†’Stopped}
```

**çŠ¶æ€æœºå›¾**ï¼š

```mermaid
stateDiagram-v2
    [*] --> Stopped
    Stopped --> Starting
    Starting --> Running
    Starting --> Failed
    Running --> Paused
    Paused --> Running
    Running --> Migrating
    Migrating --> Running
    Running --> Stopping
    Stopping --> Stopped
    Running --> Failed
    Failed --> [*]
    Stopped --> [*]
```

### 2.2 è™šæ‹ŸæœºçŠ¶æ€è½¬ç§»

**è™šæ‹ŸæœºçŠ¶æ€è½¬ç§»**ï¼š

| **è½¬ç§»**              | **ç±»å‹ç­¾å**          | **æ¦‚ç‡** | **è¯´æ˜** |
| --------------------- | --------------------- | -------- | -------- |
| **Stoppedâ†’Starting**  | `Stopped â†’ Starting`  | 1.0      | å¼€å§‹å¯åŠ¨ |
| **Startingâ†’Running**  | `Starting â†’ Running`  | 0.7      | å¯åŠ¨æˆåŠŸ |
| **Startingâ†’Failed**   | `Starting â†’ Failed`   | 0.3      | å¯åŠ¨å¤±è´¥ |
| **Runningâ†’Paused**    | `Running â†’ Paused`    | 0.1      | æš‚åœ     |
| **Pausedâ†’Running**    | `Paused â†’ Running`    | 1.0      | æ¢å¤     |
| **Runningâ†’Migrating** | `Running â†’ Migrating` | 0.05     | å¼€å§‹è¿ç§» |
| **Migratingâ†’Running** | `Migrating â†’ Running` | 0.8      | è¿ç§»æˆåŠŸ |
| **Runningâ†’Stopping**  | `Running â†’ Stopping`  | 1.0      | å¼€å§‹åœæ­¢ |
| **Stoppingâ†’Stopped**  | `Stopping â†’ Stopped`  | 1.0      | åœæ­¢å®Œæˆ |
| **Runningâ†’Failed**    | `Running â†’ Failed`    | 0.05     | è¿è¡Œå¤±è´¥ |

**å½¢å¼åŒ–å®šä¹‰**ï¼š

```text
T_VM: S_VM Ã— S_VM â†’ [0, 1]
T_VM(Stopped, Starting) = 1.0
T_VM(Starting, Running) = 0.7
T_VM(Starting, Failed) = 0.3
T_VM(Running, Paused) = 0.1
T_VM(Paused, Running) = 1.0
T_VM(Running, Migrating) = 0.05
T_VM(Migrating, Running) = 0.8
T_VM(Running, Stopping) = 1.0
T_VM(Stopping, Stopped) = 1.0
T_VM(Running, Failed) = 0.05
```

### 2.3 è™šæ‹ŸæœºçŠ¶æ€æœºå¤æ‚åº¦

**çŠ¶æ€æœºå¤æ‚åº¦**ï¼š

```text
è™šæ‹ŸæœºçŠ¶æ€æœºå¤æ‚åº¦ï¼šO(|S_VM|Â²) = O(8Â²) = O(64)
```

**çŠ¶æ€è½¬ç§»æ•°é‡**ï¼š

```text
è™šæ‹ŸæœºçŠ¶æ€è½¬ç§»æ•°é‡ï¼š|T_VM| = 12
```

**çŠ¶æ€æœºæ·±åº¦**ï¼š

```text
è™šæ‹ŸæœºçŠ¶æ€æœºæ·±åº¦ï¼šmax(depth(s)) = 4
å…¶ä¸­ depth(Stopped) = 0, depth(Starting) = 1, depth(Running) = 2,
     depth(Migrating) = 3, depth(Running) = 2
```

---

## ä¸‰ã€çŠ¶æ€è½¬ç§»æ¦‚ç‡

### 3.1 å®¹å™¨çŠ¶æ€è½¬ç§»æ¦‚ç‡

**å®¹å™¨çŠ¶æ€è½¬ç§»æ¦‚ç‡çŸ©é˜µ** `P_Pod`ï¼š

| **çŠ¶æ€**        | **Pending** | **Running** | **Succeeded** | **Failed** | **Terminating** |
| --------------- | ----------- | ----------- | ------------- | ---------- | --------------- |
| **Pending**     | 0           | 0.95        | 0             | 0.05       | 0               |
| **Running**     | 0           | 0           | 0.8           | 0.15       | 0.05            |
| **Succeeded**   | 0           | 0           | 1             | 0          | 0               |
| **Failed**      | 0           | 0           | 0             | 1          | 0               |
| **Terminating** | 0           | 0           | 0             | 0          | 1               |

**å½¢å¼åŒ–å®šä¹‰**ï¼š

```haskell
-- å®¹å™¨çŠ¶æ€è½¬ç§»æ¦‚ç‡çŸ©é˜µ
podTransitionMatrix :: Matrix Double
podTransitionMatrix = matrix [
    [0.0, 0.95, 0.0, 0.05, 0.0],      -- Pending
    [0.0, 0.0,  0.8, 0.15, 0.05],    -- Running
    [0.0, 0.0,  1.0, 0.0,  0.0],    -- Succeeded
    [0.0, 0.0,  0.0, 1.0,  0.0],    -- Failed
    [0.0, 0.0,  0.0, 0.0,  1.0]     -- Terminating
]
```

### 3.2 è™šæ‹ŸæœºçŠ¶æ€è½¬ç§»æ¦‚ç‡

**è™šæ‹ŸæœºçŠ¶æ€è½¬ç§»æ¦‚ç‡çŸ©é˜µ** `P_VM`ï¼š

| **çŠ¶æ€**      | **Stopped** | **Starting** | **Running** | **Paused** | **Stopping** | **Migrating** | **Failed** |
| ------------- | ----------- | ------------ | ----------- | ---------- | ------------ | ------------- | ---------- |
| **Stopped**   | 0           | 1.0          | 0           | 0          | 0            | 0             | 0          |
| **Starting**  | 0           | 0            | 0.7         | 0          | 0            | 0             | 0.3        |
| **Running**   | 0           | 0            | 0           | 0.1        | 0.9          | 0.05          | 0.05       |
| **Paused**    | 0           | 0            | 1.0         | 0          | 0            | 0             | 0          |
| **Stopping**  | 1.0         | 0            | 0           | 0          | 0            | 0             | 0          |
| **Migrating** | 0           | 0            | 0.8         | 0          | 0            | 0             | 0.2        |
| **Failed**    | 0           | 0            | 0           | 0          | 0            | 0             | 1          |

**å½¢å¼åŒ–å®šä¹‰**ï¼š

```haskell
-- è™šæ‹ŸæœºçŠ¶æ€è½¬ç§»æ¦‚ç‡çŸ©é˜µ
vmTransitionMatrix :: Matrix Double
vmTransitionMatrix = matrix [
    [0.0, 1.0, 0.0, 0.0, 0.0, 0.0, 0.0],      -- Stopped
    [0.0, 0.0, 0.7, 0.0, 0.0, 0.0, 0.3],     -- Starting
    [0.0, 0.0, 0.0, 0.1, 0.9, 0.05, 0.05],   -- Running
    [0.0, 0.0, 1.0, 0.0, 0.0, 0.0, 0.0],    -- Paused
    [1.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0],    -- Stopping
    [0.0, 0.0, 0.8, 0.0, 0.0, 0.0, 0.2],     -- Migrating
    [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 1.0]     -- Failed
]
```

### 3.3 çŠ¶æ€è½¬ç§»æ¦‚ç‡å¯¹æ¯”

**çŠ¶æ€è½¬ç§»æ¦‚ç‡å¯¹æ¯”**ï¼š

| **è½¬ç§»ç±»å‹** | **å®¹å™¨æ¦‚ç‡** | **è™šæ‹Ÿæœºæ¦‚ç‡** | **å·®å¼‚** |
| ------------ | ------------ | -------------- | -------- |
| **å¯åŠ¨æˆåŠŸ** | 0.95         | 0.7            | -26%     |
| **å¯åŠ¨å¤±è´¥** | 0.05         | 0.3            | +500%    |
| **è¿è¡ŒæˆåŠŸ** | 0.8          | 0.9            | +12.5%   |
| **è¿è¡Œå¤±è´¥** | 0.15         | 0.05           | -67%     |
| **ç»ˆæ­¢æˆåŠŸ** | 1.0          | 1.0            | 0%       |

**å…³é”®å·®å¼‚**ï¼š

- **å®¹å™¨å¯åŠ¨**ï¼š`P(Startingâ†’Running) = 0.95`ï¼ˆç§’çº§ï¼Œé«˜æˆåŠŸç‡ï¼‰
- **è™šæ‹Ÿæœºå¯åŠ¨**ï¼š`P(Startingâ†’Running) = 0.7`ï¼ˆåˆ†é’Ÿçº§ï¼ŒGuestOS å¤±è´¥ç‡ï¼‰

---

## å››ã€çŠ¶æ€æœºçš„é©¬å°”å¯å¤«é“¾æ¨¡å‹

### 4.1 å®¹å™¨çŠ¶æ€é©¬å°”å¯å¤«é“¾

**å®¹å™¨çŠ¶æ€æ„æˆé©¬å°”å¯å¤«é“¾** `(S_Pod, P_Pod)`ï¼š

```haskell
-- å®¹å™¨çŠ¶æ€é©¬å°”å¯å¤«é“¾ç±»å‹
data PodMarkovChain = MarkovChain {
    states :: [PodState],
    transitionMatrix :: Matrix Double
}

-- å®¹å™¨çŠ¶æ€é©¬å°”å¯å¤«é“¾å®ä¾‹
podMarkovChain = MarkovChain {
    states = [Pending, Running, Succeeded, Failed, Terminating],
    transitionMatrix = podTransitionMatrix
}
```

**å½¢å¼åŒ–å®šä¹‰**ï¼š

```text
(S_Pod, P_Pod) å…¶ä¸­ï¼š
- S_Pod = {Pending, Running, Succeeded, Failed, Terminating}
- P_Pod: S_Pod Ã— S_Pod â†’ [0, 1] è½¬ç§»æ¦‚ç‡çŸ©é˜µ
```

### 4.2 è™šæ‹ŸæœºçŠ¶æ€é©¬å°”å¯å¤«é“¾

**è™šæ‹ŸæœºçŠ¶æ€æ„æˆé©¬å°”å¯å¤«é“¾** `(S_VM, P_VM)`ï¼š

```haskell
-- è™šæ‹ŸæœºçŠ¶æ€é©¬å°”å¯å¤«é“¾ç±»å‹
data VMMarkovChain = MarkovChain {
    states :: [VMState],
    transitionMatrix :: Matrix Double
}

-- è™šæ‹ŸæœºçŠ¶æ€é©¬å°”å¯å¤«é“¾å®ä¾‹
vmMarkovChain = MarkovChain {
    states = [Stopped, Starting, Running, Paused, Stopping, Migrating, Failed],
    transitionMatrix = vmTransitionMatrix
}
```

**å½¢å¼åŒ–å®šä¹‰**ï¼š

```text
(S_VM, P_VM) å…¶ä¸­ï¼š
- S_VM = {Stopped, Starting, Running, Paused, Stopping, Migrating, Failed}
- P_VM: S_VM Ã— S_VM â†’ [0, 1] è½¬ç§»æ¦‚ç‡çŸ©é˜µ
```

### 4.3 ç¨³æ€åˆ†å¸ƒ

**è´Ÿè½½å‡è¡¡çš„ç¨³æ€åˆ†å¸ƒ**ï¼š

```haskell
-- ç¨³æ€åˆ†å¸ƒè®¡ç®—
steadyState :: MarkovChain -> Vector Double
steadyState chain =
    let Ï€ = solve (transitionMatrix chain - identity) (zeroVector)
    in normalize Ï€
```

**å½¢å¼åŒ–å®šä¹‰**ï¼š

```text
Ï€ = Ï€Â·P ä¸” Î£Ï€_i = 1
E[running_instances] = Î£_{sâˆˆRunning} Ï€_s
```

**ç¨³æ€åˆ†å¸ƒè®¡ç®—**ï¼š

```text
å®¹å™¨ç¨³æ€åˆ†å¸ƒï¼šÏ€ = (Ï€_Pending, Ï€_Running, Ï€_Succeeded, Ï€_Failed, Ï€_Terminating)
è™šæ‹Ÿæœºç¨³æ€åˆ†å¸ƒï¼šÏ€ = (Ï€_Stopped, Ï€_Starting, Ï€_Running, Ï€_Paused, Ï€_Stopping, Ï€_Migrating, Ï€_Failed)
```

**æœŸæœ›è¿è¡Œå®ä¾‹æ•°**ï¼š

```text
å®¹å™¨ï¼šE[running] = Ï€_Running Ã— |Pods|
è™šæ‹Ÿæœºï¼šE[running] = Ï€_Running Ã— |VMs|
```

---

## äº”ã€å½¢å¼åŒ–éªŒè¯

### 5.1 çŠ¶æ€æœºå®Œæ•´æ€§éªŒè¯

**çŠ¶æ€æœºå®Œæ•´æ€§å®šç†**ï¼š

```text
âˆ€s âˆˆ RuntimeState:
s.reachable â‡” âˆƒpath: InitialState â†’ s, path(s)
```

**å½¢å¼åŒ–éªŒè¯**ï¼š

```text
â–¡(âˆ€s âˆˆ RuntimeState, s.reachable â†’ â—Š(âˆƒpath, path(s)))
```

ä¿è¯æ‰€æœ‰å¯è¾¾çš„çŠ¶æ€éƒ½èƒ½ä»åˆå§‹çŠ¶æ€åˆ°è¾¾ã€‚

### 5.2 çŠ¶æ€æœºå¯è¾¾æ€§éªŒè¯

**çŠ¶æ€æœºå¯è¾¾æ€§å®šç†**ï¼š

```text
âˆ€sâ‚, sâ‚‚ âˆˆ RuntimeState:
sâ‚.reachable âˆ§ sâ‚‚.reachable â†’ âˆƒpath: sâ‚ â†’ sâ‚‚, path(sâ‚, sâ‚‚)
```

**å½¢å¼åŒ–éªŒè¯**ï¼š

```text
â–¡(âˆ€sâ‚, sâ‚‚ âˆˆ RuntimeState,
  sâ‚.reachable âˆ§ sâ‚‚.reachable â†’ â—Š(âˆƒpath, path(sâ‚, sâ‚‚)))
```

ä¿è¯æ‰€æœ‰å¯è¾¾çš„çŠ¶æ€ä¹‹é—´éƒ½å­˜åœ¨è·¯å¾„ã€‚

**çŠ¶æ€æœºæ— æ­»é”éªŒè¯**ï¼š

```text
â–¡(âˆ€s âˆˆ RuntimeState,
  s â‰  FinalState â†’ â—Š(âˆƒs', Transition(s, s')))
```

ä¿è¯æ‰€æœ‰éç»ˆæ€çŠ¶æ€éƒ½èƒ½è½¬ç§»åˆ°å…¶ä»–çŠ¶æ€ã€‚

---

## ç›¸å…³æ–‡æ¡£

- [è¿è¡Œæ—¶çŠ¶æ€èŒƒç•´](./01-runtime-category-theory.md) - è¿è¡Œæ—¶çŠ¶æ€èŒƒç•´æ¨¡å‹
- [è¿è¡Œæ—¶èµ„æºå¯†åº¦çš„èŒƒç•´ä½™æé™](./03-runtime-density-colimit.md) - èµ„æºå¯†åº¦ä½™æé™
- [è¿è¡Œæ—¶æ€§èƒ½æµ‹åº¦ç©ºé—´](./04-runtime-performance-measure.md) - è¿è¡Œæ—¶æ€§èƒ½æµ‹åº¦åˆ†æ
- [è¿è¡Œæ—¶ç®¡ç†åŒæ„](../02-isomorphic-functions/04-runtime-management.md) - è¿è¡Œæ—¶
  ç®¡ç†åŒæ„åˆ†æ
- [åŠ¨æ€è¿è¡Œæ—¶ç®¡ç†çš„æ§åˆ¶è®ºå®ç°](../11-theoretical-analysis/03-dynamic-runtime.md) -
  åŠ¨æ€è¿è¡Œæ—¶ç®¡ç†ç†è®º

---

**æœ€åæ›´æ–°ï¼š2025-11-15 **ç»´æŠ¤è€…**ï¼šé¡¹ç›®å›¢é˜Ÿ
