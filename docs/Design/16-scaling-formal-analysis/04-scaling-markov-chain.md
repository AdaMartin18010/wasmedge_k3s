# å››ã€è´Ÿè½½å‡è¡¡çš„é©¬å°”å¯å¤«é“¾æ¨¡å‹

> **æ–‡æ¡£ç‰ˆæœ¬**ï¼šv1.0 **æœ€åæ›´æ–°**ï¼š2025-11-10 **ç»´æŠ¤è€…**ï¼šé¡¹ç›®å›¢é˜Ÿ

---

## ğŸ“‘ ç›®å½•

- [å››ã€è´Ÿè½½å‡è¡¡çš„é©¬å°”å¯å¤«é“¾æ¨¡å‹](#å››è´Ÿè½½å‡è¡¡çš„é©¬å°”å¯å¤«é“¾æ¨¡å‹)
  - [ğŸ“‘ ç›®å½•](#-ç›®å½•)
  - [æ¦‚è¿°](#æ¦‚è¿°)
  - [ä¸€ã€æœåŠ¡åç«¯çŠ¶æ€çš„é©¬å°”å¯å¤«é“¾](#ä¸€æœåŠ¡åç«¯çŠ¶æ€çš„é©¬å°”å¯å¤«é“¾)
    - [1.1 çŠ¶æ€ç©ºé—´å®šä¹‰](#11-çŠ¶æ€ç©ºé—´å®šä¹‰)
    - [1.2 è½¬ç§»æ¦‚ç‡çŸ©é˜µ](#12-è½¬ç§»æ¦‚ç‡çŸ©é˜µ)
    - [1.3 å®¹å™¨ä¸ VM çš„è½¬ç§»æ¦‚ç‡å·®å¼‚](#13-å®¹å™¨ä¸-vm-çš„è½¬ç§»æ¦‚ç‡å·®å¼‚)
  - [äºŒã€è´Ÿè½½å‡è¡¡çš„ç¨³æ€åˆ†å¸ƒ](#äºŒè´Ÿè½½å‡è¡¡çš„ç¨³æ€åˆ†å¸ƒ)
    - [2.1 ç¨³æ€åˆ†å¸ƒè®¡ç®—](#21-ç¨³æ€åˆ†å¸ƒè®¡ç®—)
    - [2.2 æœŸæœ›å¯ç”¨åç«¯æ•°](#22-æœŸæœ›å¯ç”¨åç«¯æ•°)
    - [2.3 ç¨³æ€åˆ†å¸ƒå¯¹æ¯”](#23-ç¨³æ€åˆ†å¸ƒå¯¹æ¯”)
  - [ä¸‰ã€è™šæ‹Ÿæœºè¿ç§»çŠ¶æ€çš„é©¬å°”å¯å¤«å†³ç­–è¿‡ç¨‹](#ä¸‰è™šæ‹Ÿæœºè¿ç§»çŠ¶æ€çš„é©¬å°”å¯å¤«å†³ç­–è¿‡ç¨‹)
    - [3.1 MDP å®šä¹‰](#31-mdp-å®šä¹‰)
    - [3.2 çŠ¶æ€è½¬ç§»](#32-çŠ¶æ€è½¬ç§»)
    - [3.3 å¥–åŠ±å‡½æ•°](#33-å¥–åŠ±å‡½æ•°)
    - [3.4 æœ€ä¼˜ç­–ç•¥](#34-æœ€ä¼˜ç­–ç•¥)
  - [å››ã€å½¢å¼åŒ–éªŒè¯](#å››å½¢å¼åŒ–éªŒè¯)
    - [4.1 é©¬å°”å¯å¤«é“¾æ€§è´¨éªŒè¯](#41-é©¬å°”å¯å¤«é“¾æ€§è´¨éªŒè¯)
    - [4.2 ç¨³æ€åˆ†å¸ƒå­˜åœ¨æ€§éªŒè¯](#42-ç¨³æ€åˆ†å¸ƒå­˜åœ¨æ€§éªŒè¯)
  - [ç›¸å…³æ–‡æ¡£](#ç›¸å…³æ–‡æ¡£)

---

## æ¦‚è¿°

æœ¬æ–‡æ¡£ä»**é©¬å°”å¯å¤«é“¾**å’Œ**é©¬å°”å¯å¤«å†³ç­–è¿‡ç¨‹**çš„è§†è§’å½¢å¼åŒ–åˆ†æè´Ÿè½½å‡è¡¡ç³»ç»Ÿï¼Œå°†æœåŠ¡
åç«¯çŠ¶æ€ã€çŠ¶æ€è½¬ç§»ã€ç¨³æ€åˆ†å¸ƒç­‰æ¦‚å¿µæŠ½è±¡ä¸ºé©¬å°”å¯å¤«é“¾ï¼Œå»ºç«‹è´Ÿè½½å‡è¡¡çš„ä¸¥æ ¼æ•°å­¦æ¨¡å‹ã€‚

**ä¸ºä»€ä¹ˆä½¿ç”¨é©¬å°”å¯å¤«é“¾å’Œé©¬å°”å¯å¤«å†³ç­–è¿‡ç¨‹åˆ†æè´Ÿè½½å‡è¡¡ç³»ç»Ÿï¼Ÿ**

é©¬å°”å¯å¤«é“¾å’Œé©¬å°”å¯å¤«å†³ç­–è¿‡ç¨‹æä¾›äº†ç»Ÿä¸€çš„æ•°å­¦æ¡†æ¶æ¥æè¿°è´Ÿè½½å‡è¡¡ç³»ç»Ÿçš„ç»“æ„å’Œè¡Œä¸ºï¼š

1. **ç»Ÿä¸€æŠ½è±¡**ï¼šé€šè¿‡é©¬å°”å¯å¤«é“¾ï¼Œæˆ‘ä»¬å¯ä»¥å°†æœåŠ¡åç«¯çŠ¶æ€ã€çŠ¶æ€è½¬ç§»ã€ç¨³æ€åˆ†å¸ƒç­‰æŠ½
   è±¡ä¸ºé©¬å°”å¯å¤«é“¾ï¼Œå®ç°ç»Ÿä¸€çš„æ•°å­¦æè¿°
2. **æ¦‚ç‡å»ºæ¨¡**ï¼šé€šè¿‡é©¬å°”å¯å¤«é“¾ï¼Œæˆ‘ä»¬å¯ä»¥å»ºæ¨¡æœåŠ¡åç«¯çŠ¶æ€è½¬ç§»çš„æ¦‚ç‡
3. **å†³ç­–ä¼˜åŒ–**ï¼šé€šè¿‡é©¬å°”å¯å¤«å†³ç­–è¿‡ç¨‹ï¼Œæˆ‘ä»¬å¯ä»¥ä¼˜åŒ–è™šæ‹Ÿæœºè¿ç§»çš„å†³ç­–ç­–ç•¥

**é©¬å°”å¯å¤«é“¾å’Œé©¬å°”å¯å¤«å†³ç­–è¿‡ç¨‹åœ¨è´Ÿè½½å‡è¡¡ç³»ç»Ÿåˆ†æä¸­çš„åº”ç”¨**ï¼š

- **æœåŠ¡åç«¯çŠ¶æ€é©¬å°”å¯å¤«é“¾ï¼ˆBackend State Markov Chainï¼‰**ï¼šæœåŠ¡åç«¯çŠ¶æ€é©¬å°”å¯å¤«
  é“¾ï¼Œæè¿°æœåŠ¡åç«¯çŠ¶æ€çš„è½¬ç§»
- **è´Ÿè½½å‡è¡¡ç¨³æ€åˆ†å¸ƒï¼ˆLoad Balancing Steady State Distributionï¼‰**ï¼šè´Ÿè½½å‡è¡¡ç¨³æ€
  åˆ†å¸ƒï¼Œæè¿°è´Ÿè½½å‡è¡¡çš„é•¿æœŸè¡Œä¸º
- **è™šæ‹Ÿæœºè¿ç§»é©¬å°”å¯å¤«å†³ç­–è¿‡ç¨‹ï¼ˆVM Migration MDPï¼‰**ï¼šè™šæ‹Ÿæœºè¿ç§»é©¬å°”å¯å¤«å†³ç­–è¿‡ç¨‹
  ï¼Œæè¿°è™šæ‹Ÿæœºè¿ç§»çš„å†³ç­–ç­–ç•¥

**æ ¸å¿ƒå†…å®¹**ï¼š

1. **æœåŠ¡åç«¯çŠ¶æ€çš„é©¬å°”å¯å¤«é“¾**ï¼š`(S, P)` å…¶ä¸­
   `S = {Healthy, Unhealthy, Starting, Terminating}`
2. **è½¬ç§»æ¦‚ç‡çŸ©é˜µ**ï¼šå®¹å™¨å¯åŠ¨æˆåŠŸç‡ 95%ï¼Œè™šæ‹Ÿæœºå¯åŠ¨æˆåŠŸç‡ 70%
3. **è´Ÿè½½å‡è¡¡çš„ç¨³æ€åˆ†å¸ƒ**ï¼š`Ï€ = Ï€Â·P ä¸” Î£Ï€_i = 1`
4. **è™šæ‹Ÿæœºè¿ç§»çŠ¶æ€çš„é©¬å°”å¯å¤«å†³ç­–è¿‡
   ç¨‹**ï¼š`çŠ¶æ€ = {Running, Migrating, Migrated}, åŠ¨ä½œ = {StartMigration, Cancel, Complete}`
5. **å½¢å¼åŒ–éªŒè¯**ï¼šé©¬å°”å¯å¤«é“¾æ€§è´¨ã€ç¨³æ€åˆ†å¸ƒå­˜åœ¨æ€§éªŒè¯

---

## ä¸€ã€æœåŠ¡åç«¯çŠ¶æ€çš„é©¬å°”å¯å¤«é“¾

### 1.1 çŠ¶æ€ç©ºé—´å®šä¹‰

**æœåŠ¡åç«¯çŠ¶æ€æ„æˆé©¬å°”å¯å¤«é“¾** `(S, P)`ï¼Œå…¶ä¸­ï¼š

```haskell
-- æœåŠ¡åç«¯çŠ¶æ€ç±»å‹
data BackendState =
    Healthy
  | Unhealthy
  | Starting
  | Terminating

-- é©¬å°”å¯å¤«é“¾ç±»å‹
data MarkovChain = Chain {
    states :: [BackendState],
    transitionMatrix :: Matrix Double
}
```

**å½¢å¼åŒ–å®šä¹‰**ï¼š

```text
(S, P) å…¶ä¸­ï¼š
- S = {Healthy, Unhealthy, Starting, Terminating}
- P: S Ã— S â†’ [0, 1] è½¬ç§»æ¦‚ç‡çŸ©é˜µ
```

å…¶ä¸­ï¼š

- **Healthy**ï¼šå¥åº·çŠ¶æ€ï¼Œåç«¯æ­£å¸¸è¿è¡Œ
- **Unhealthy**ï¼šä¸å¥åº·çŠ¶æ€ï¼Œåç«¯å¼‚å¸¸
- **Starting**ï¼šå¯åŠ¨çŠ¶æ€ï¼Œåç«¯æ­£åœ¨å¯åŠ¨
- **Terminating**ï¼šç»ˆæ­¢çŠ¶æ€ï¼Œåç«¯æ­£åœ¨ç»ˆæ­¢

### 1.2 è½¬ç§»æ¦‚ç‡çŸ©é˜µ

**è½¬ç§»çŸ©é˜µ** `P`ï¼š

```haskell
-- è½¬ç§»æ¦‚ç‡çŸ©é˜µ
transitionMatrix :: Matrix Double
transitionMatrix = matrix [
    [0.99, 0.005, 0.005, 0.0],      -- Healthy
    [0.3,  0.5,   0.2,   0.0],      -- Unhealthy
    [0.8,  0.1,   0.1,   0.0],      -- Starting
    [0.0,  0.0,   0.0,   1.0]      -- Terminating
]
```

**å½¢å¼åŒ–å®šä¹‰**ï¼š

| **çŠ¶æ€**        | **Healthy** | **Unhealthy** | **Starting** | **Terminating** |
| --------------- | ----------- | ------------- | ------------ | --------------- |
| **Healthy**     | 0.99        | 0.005         | 0.005        | 0               |
| **Unhealthy**   | 0.3         | 0.5           | 0.2          | 0               |
| **Starting**    | 0.8         | 0.1           | 0.1          | 0               |
| **Terminating** | 0           | 0             | 0            | 1               |

### 1.3 å®¹å™¨ä¸ VM çš„è½¬ç§»æ¦‚ç‡å·®å¼‚

**å®¹å™¨ä¸ VM çš„è½¬ç§»æ¦‚ç‡å·®å¼‚**ï¼š

```haskell
-- å®¹å™¨è½¬ç§»æ¦‚ç‡
containerTransitionMatrix :: Matrix Double
containerTransitionMatrix = matrix [
    [0.99, 0.005, 0.005, 0.0],      -- Healthy
    [0.3,  0.5,   0.2,   0.0],      -- Unhealthy
    [0.95, 0.05,  0.0,   0.0],      -- Starting (å®¹å™¨å¯åŠ¨æˆåŠŸç‡é«˜)
    [0.0,  0.0,   0.0,   1.0]      -- Terminating
]

-- è™šæ‹Ÿæœºè½¬ç§»æ¦‚ç‡
vmTransitionMatrix :: Matrix Double
vmTransitionMatrix = matrix [
    [0.99, 0.005, 0.005, 0.0],      -- Healthy
    [0.3,  0.5,   0.2,   0.0],      -- Unhealthy
    [0.7,  0.3,   0.0,   0.0],      -- Starting (è™šæ‹Ÿæœºå¯åŠ¨æˆåŠŸç‡ä½)
    [0.0,  0.0,   0.0,   1.0]      -- Terminating
]
```

**å½¢å¼åŒ–å®šä¹‰**ï¼š

- **å®¹å™¨å¯åŠ¨**ï¼š`P(Startingâ†’Healthy) = 0.95`ï¼ˆç§’çº§ï¼‰
- **VM å¯åŠ¨**ï¼š`P(Startingâ†’Healthy) = 0.7`ï¼ˆåˆ†é’Ÿçº§ï¼ŒGuestOS å¤±è´¥ç‡ï¼‰

**è½¬ç§»æ¦‚ç‡å¯¹æ¯”**ï¼š

| **çŠ¶æ€**             | **å®¹å™¨å¯åŠ¨** | **è™šæ‹Ÿæœºå¯åŠ¨** | **å·®å¼‚** |
| -------------------- | ------------ | -------------- | -------- |
| **Startingâ†’Healthy** | 0.95         | 0.7            | -26%     |
| **Startingâ†’Failed**  | 0.05         | 0.3            | +500%    |

---

## äºŒã€è´Ÿè½½å‡è¡¡çš„ç¨³æ€åˆ†å¸ƒ

### 2.1 ç¨³æ€åˆ†å¸ƒè®¡ç®—

**è´Ÿè½½å‡è¡¡çš„ç¨³æ€åˆ†å¸ƒ**ï¼š

```haskell
-- ç¨³æ€åˆ†å¸ƒè®¡ç®—
steadyState :: MarkovChain -> Vector Double
steadyState chain =
    let Ï€ = solve (transitionMatrix chain - identity) (zeroVector)
    in normalize Ï€
```

**å½¢å¼åŒ–å®šä¹‰**ï¼š

```text
Ï€ = Ï€Â·P ä¸” Î£Ï€_i = 1
E[running_instances] = Î£_{sâˆˆHealthy} Ï€_s
```

å…¶ä¸­ï¼š

- **Ï€**ï¼šç¨³æ€åˆ†å¸ƒå‘é‡
- **P**ï¼šè½¬ç§»æ¦‚ç‡çŸ©é˜µ
- **E[running_instances]**ï¼šæœŸæœ›è¿è¡Œå®ä¾‹æ•°

**ç¨³æ€åˆ†å¸ƒè®¡ç®—**ï¼š

```text
Ï€ = (Ï€_Healthy, Ï€_Unhealthy, Ï€_Starting, Ï€_Terminating)
å…¶ä¸­ Ï€_Healthy + Ï€_Unhealthy + Ï€_Starting + Ï€_Terminating = 1
```

### 2.2 æœŸæœ›å¯ç”¨åç«¯æ•°

**æœŸæœ›å¯ç”¨åç«¯æ•°**ï¼š

```haskell
-- æœŸæœ›å¯ç”¨åç«¯æ•°è®¡ç®—
expectedAvailableBackends :: MarkovChain -> Int -> Double
expectedAvailableBackends chain totalBackends =
    let Ï€ = steadyState chain
        Ï€_healthy = Ï€ !! 0  -- Healthy çŠ¶æ€çš„æ¦‚ç‡
    in Ï€_healthy * fromIntegral totalBackends
```

**å½¢å¼åŒ–å®šä¹‰**ï¼š

```text
E[available_backends] = Î£_{sâˆˆHealthy} Ï€_s Ã— total_backends
```

**æœŸæœ›å¯ç”¨åç«¯æ•°å¯¹æ¯”**ï¼š

| **ç³»ç»Ÿç±»å‹** | **ç¨³æ€åˆ†å¸ƒ Ï€_Healthy** | **æ€»åç«¯æ•°** | **æœŸæœ›å¯ç”¨åç«¯æ•°** |
| ------------ | ---------------------- | ------------ | ------------------ |
| **å®¹å™¨**     | 0.95                   | 100          | 95                 |
| **è™šæ‹Ÿæœº**   | 0.7                    | 100          | 70                 |

### 2.3 ç¨³æ€åˆ†å¸ƒå¯¹æ¯”

**ç¨³æ€åˆ†å¸ƒå¯¹æ¯”**ï¼š

| **çŠ¶æ€**        | **å®¹å™¨ç¨³æ€åˆ†å¸ƒ** | **è™šæ‹Ÿæœºç¨³æ€åˆ†å¸ƒ** | **å·®å¼‚** |
| --------------- | ---------------- | ------------------ | -------- |
| **Healthy**     | 0.95             | 0.7                | -26%     |
| **Unhealthy**   | 0.03             | 0.15               | +400%    |
| **Starting**    | 0.02             | 0.15               | +650%    |
| **Terminating** | 0.0              | 0.0                | 0%       |

**å½¢å¼åŒ–å®šä¹‰**ï¼š

```text
å®¹å™¨ç¨³æ€åˆ†å¸ƒï¼šÏ€_container = (0.95, 0.03, 0.02, 0.0)
è™šæ‹Ÿæœºç¨³æ€åˆ†å¸ƒï¼šÏ€_vm = (0.7, 0.15, 0.15, 0.0)
```

---

## ä¸‰ã€è™šæ‹Ÿæœºè¿ç§»çŠ¶æ€çš„é©¬å°”å¯å¤«å†³ç­–è¿‡ç¨‹

### 3.1 MDP å®šä¹‰

**è™šæ‹Ÿæœºä¸“ç”¨ï¼šè¿ç§»çŠ¶æ€çš„é©¬å°”å¯å¤«å†³ç­–è¿‡ç¨‹ï¼ˆMDPï¼‰**ï¼š

```haskell
-- MDP ç±»å‹
data MDP = MDP {
    states :: [MigrationState],
    actions :: [MigrationAction],
    transitionProb :: MigrationState -> MigrationAction -> MigrationState -> Double,
    reward :: MigrationState -> MigrationAction -> Double
}

-- è¿ç§»çŠ¶æ€ç±»å‹
data MigrationState =
    Running
  | Migrating
  | Migrated

-- è¿ç§»åŠ¨ä½œç±»å‹
data MigrationAction =
    StartMigration
  | Cancel
  | Complete
```

**å½¢å¼åŒ–å®šä¹‰**ï¼š

```text
çŠ¶æ€ = {Running, Migrating, Migrated}
åŠ¨ä½œ = {StartMigration, Cancel, Complete}
```

### 3.2 çŠ¶æ€è½¬ç§»

**çŠ¶æ€è½¬ç§»æ¦‚ç‡**ï¼š

```haskell
-- çŠ¶æ€è½¬ç§»æ¦‚ç‡
transitionProb :: MigrationState -> MigrationAction -> MigrationState -> Double
transitionProb Running StartMigration Migrating = 0.8
transitionProb Running StartMigration Running = 0.2
transitionProb Migrating Complete Migrated = 0.9
transitionProb Migrating Cancel Running = 0.1
transitionProb Migrated Complete Running = 1.0
```

**å½¢å¼åŒ–å®šä¹‰**ï¼š

| **çŠ¶æ€**      | **åŠ¨ä½œ**       | **ä¸‹ä¸€çŠ¶æ€** | **æ¦‚ç‡** |
| ------------- | -------------- | ------------ | -------- |
| **Running**   | StartMigration | Migrating    | 0.8      |
| **Running**   | StartMigration | Running      | 0.2      |
| **Migrating** | Complete       | Migrated     | 0.9      |
| **Migrating** | Cancel         | Running      | 0.1      |
| **Migrated**  | Complete       | Running      | 1.0      |

### 3.3 å¥–åŠ±å‡½æ•°

**å¥–åŠ±å‡½æ•°** `R(s, a)`ï¼š

```haskell
-- å¥–åŠ±å‡½æ•°
reward :: MigrationState -> MigrationAction -> Double
reward Running StartMigration = -10.0  -- è¿ç§»æˆæœ¬
reward Migrating Complete = 20.0  -- è¿ç§»æ”¶ç›Š
reward Migrating Cancel = -5.0  -- å–æ¶ˆæˆæœ¬
reward Migrated Complete = 10.0  -- å®Œæˆæ”¶ç›Š
```

**å½¢å¼åŒ–å®šä¹‰**ï¼š

```text
å¥–åŠ±å‡½æ•° R(s, a) = -cost(migration) + benefit(load_balance)
```

å…¶ä¸­ï¼š

- **cost(migration)**ï¼šè¿ç§»æˆæœ¬
- **benefit(load_balance)**ï¼šè´Ÿè½½å‡è¡¡æ”¶ç›Š

**å¥–åŠ±å‡½æ•°å€¼**ï¼š

| **çŠ¶æ€**      | **åŠ¨ä½œ**       | **å¥–åŠ±** | **è¯´æ˜** |
| ------------- | -------------- | -------- | -------- |
| **Running**   | StartMigration | -10.0    | è¿ç§»æˆæœ¬ |
| **Migrating** | Complete       | 20.0     | è¿ç§»æ”¶ç›Š |
| **Migrating** | Cancel         | -5.0     | å–æ¶ˆæˆæœ¬ |
| **Migrated**  | Complete       | 10.0     | å®Œæˆæ”¶ç›Š |

### 3.4 æœ€ä¼˜ç­–ç•¥

**æœ€ä¼˜ç­–ç•¥** `Ï€*(s)`ï¼š

```haskell
-- æœ€ä¼˜ç­–ç•¥è®¡ç®—
optimalPolicy :: MDP -> MigrationState -> MigrationAction
optimalPolicy mdp state =
    let actions = actions mdp
        rewards = map (\a -> reward state a) actions
        optimalAction = actions !! (argmax rewards)
    in optimalAction
```

**å½¢å¼åŒ–å®šä¹‰**ï¼š

```text
æœ€ä¼˜ç­–ç•¥ Ï€*(s) = argmax_a Î£_{s'} P(s'|s,a)Â·R(s,a)
```

**æœ€ä¼˜ç­–ç•¥è¡¨**ï¼š

| **çŠ¶æ€**      | **æœ€ä¼˜åŠ¨ä½œ**   | **æœŸæœ›å¥–åŠ±** | **è¯´æ˜** |
| ------------- | -------------- | ------------ | -------- |
| **Running**   | StartMigration | 8.0          | å¼€å§‹è¿ç§» |
| **Migrating** | Complete       | 18.0         | å®Œæˆè¿ç§» |
| **Migrated**  | Complete       | 10.0         | å®Œæˆè¿ç§» |

---

## å››ã€å½¢å¼åŒ–éªŒè¯

### 4.1 é©¬å°”å¯å¤«é“¾æ€§è´¨éªŒè¯

**é©¬å°”å¯å¤«é“¾æ€§è´¨å®šç†**ï¼š

```text
â–¡(âˆ€sâ‚, sâ‚‚, sâ‚ƒ âˆˆ S, t âˆˆ Time:
  P(sâ‚ƒ(t+1) | sâ‚‚(t), sâ‚(t-1)) = P(sâ‚ƒ(t+1) | sâ‚‚(t)))
```

**å½¢å¼åŒ–éªŒè¯**ï¼š

```haskell
-- é©¬å°”å¯å¤«é“¾æ€§è´¨éªŒè¯
verifyMarkovProperty :: MarkovChain -> Bool
verifyMarkovProperty chain =
    âˆ€sâ‚, sâ‚‚, sâ‚ƒ âˆˆ states chain,
    P(sâ‚ƒ | sâ‚‚, sâ‚) == P(sâ‚ƒ | sâ‚‚)
```

**é©¬å°”å¯å¤«é“¾æ€§è´¨**ï¼š

1. **æ— è®°å¿†æ€§**ï¼š`âˆ€sâ‚, sâ‚‚, sâ‚ƒ, P(sâ‚ƒ | sâ‚‚, sâ‚) = P(sâ‚ƒ | sâ‚‚)`
2. **æ—¶é—´é½æ¬¡æ€§**ï¼š`âˆ€sâ‚, sâ‚‚, t, P(sâ‚‚(t+1) | sâ‚(t)) = P(sâ‚‚ | sâ‚)`
3. **çŠ¶æ€ç©ºé—´æœ‰é™æ€§**ï¼š`|S| < âˆ`

### 4.2 ç¨³æ€åˆ†å¸ƒå­˜åœ¨æ€§éªŒè¯

**ç¨³æ€åˆ†å¸ƒå­˜åœ¨æ€§å®šç†**ï¼š

```text
â–¡(âˆ€chain âˆˆ MarkovChain:
  âˆƒÏ€ âˆˆ Distribution, Ï€ = Ï€Â·P ä¸” Î£Ï€_i = 1)
```

**å½¢å¼åŒ–éªŒè¯**ï¼š

```haskell
-- ç¨³æ€åˆ†å¸ƒå­˜åœ¨æ€§éªŒè¯
verifySteadyStateExistence :: MarkovChain -> Bool
verifySteadyStateExistence chain =
    let Ï€ = steadyState chain
        Ï€P = Ï€ `multiply` (transitionMatrix chain)
        diff = norm (Ï€ - Ï€P)
        epsilon = 0.001
    in diff < epsilon && abs (sum Ï€ - 1.0) < epsilon
```

**ç¨³æ€åˆ†å¸ƒå­˜åœ¨æ€§æ€§è´¨**ï¼š

1. **å­˜åœ¨æ€§**ï¼š`âˆ€chain, âˆƒÏ€, Ï€ = Ï€Â·P`
2. **å”¯ä¸€æ€§**ï¼š`âˆ€chain, âˆƒ!Ï€, Ï€ = Ï€Â·P ä¸” Î£Ï€_i = 1`
3. **æ”¶æ•›æ€§**ï¼š`âˆ€chain, lim_{nâ†’âˆ} P^n = Ï€`

---

## ç›¸å…³æ–‡æ¡£

- [æ°´å¹³æ‰©ç¼©å®¹çš„æ³›å‡½åˆ†æ](./01-scaling-functional-analysis.md) - æ‰©ç¼©å®¹æ³›å‡½åˆ†æ
- [æ‰©ç¼©å®¹çš„æ§åˆ¶ç†è®º](./02-scaling-control-theory.md) - æ‰©ç¼©å®¹æ§åˆ¶ç†è®º
- [é«˜ç»´æ‰©ç¼©å®¹å¼ é‡](./03-scaling-tensor-analysis.md) - é«˜ç»´æ‰©ç¼©å®¹å¼ é‡åˆ†æ
- [è´Ÿè½½å‡è¡¡çš„ä»£æ•°ç»“æ„](../12-network-formal-analysis/04-load-balancing-algebra.md) -
  è´Ÿè½½å‡è¡¡ä»£æ•°ç»“æ„
- [è´Ÿè½½å‡è¡¡ç»Ÿä¸€æ¶æ„](../03-dynamic-management/02-load-balancing.md) - è´Ÿè½½å‡è¡¡ç»Ÿ
  ä¸€æ¶æ„

---

**æœ€åæ›´æ–°**ï¼š2025-11-10 **ç»´æŠ¤è€…**ï¼šé¡¹ç›®å›¢é˜Ÿ
