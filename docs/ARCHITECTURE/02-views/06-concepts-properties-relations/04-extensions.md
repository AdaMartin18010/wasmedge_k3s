# 拓展：边缘计算、无服务器、AI 推理、多租户

## 📑 目录

- [📑 目录](#-目录)
- [1. 概述](#1-概述)
  - [1.1 核心思想](#11-核心思想)
- [2. 边缘计算](#2-边缘计算)
  - [2.1 边缘计算场景](#21-边缘计算场景)
  - [2.2 技术选型](#22-技术选型)
  - [2.3 拓展收益](#23-拓展收益)
- [3. 无服务器](#3-无服务器)
  - [3.1 无服务器场景](#31-无服务器场景)
  - [3.2 技术选型](#32-技术选型)
  - [3.3 拓展收益](#33-拓展收益)
- [4. AI 推理](#4-ai-推理)
  - [4.1 AI 推理场景](#41-ai-推理场景)
  - [4.2 技术选型](#42-技术选型)
  - [4.3 拓展收益](#43-拓展收益)
- [5. 多租户](#5-多租户)
  - [5.1 多租户场景](#51-多租户场景)
  - [5.2 技术选型](#52-技术选型)
  - [5.3 拓展收益](#53-拓展收益)
- [6. 拓展场景对比](#6-拓展场景对比)
  - [6.1 场景对比矩阵](#61-场景对比矩阵)
  - [6.2 技术选型决策树](#62-技术选型决策树)
- [7. 形式化定义](#7-形式化定义)
  - [7.1 拓展定义](#71-拓展定义)
  - [7.2 场景映射](#72-场景映射)
- [8. 总结](#8-总结)

---

## 1. 概述

本文档阐述**虚拟化、容器化、沙盒化**在**边缘计算、无服务器、AI 推理、多租户**等
场景下的拓展应用。

### 1.1 核心思想

> **通过拓展应用场景，展示虚拟化、容器化、沙盒化在不同场景下的应用方式和价值**

## 2. 边缘计算

### 2.1 边缘计算场景

**场景描述**：

- 边缘设备需要低延迟访问
- 需要统一管理和监控
- 支持离线运行

**架构设计**：

```text
边缘设备
├── Edge NSM Node
└── NSM vWire
    └── 云端
        ├── Cloud NSM
        └── Service Mesh
            └── 业务服务
```

### 2.2 技术选型

**边缘计算技术选型**：

| 技术            | 特点               | 适用场景      |
| --------------- | ------------------ | ------------- |
| **K3s**         | 轻量级 Kubernetes  | 边缘设备部署  |
| **WasmEdge**    | WebAssembly 运行时 | 边缘函数计算  |
| **NSM**         | 跨域网络聚合       | 边缘-云端连接 |
| **Firecracker** | MicroVM            | 边缘沙盒      |

### 2.3 拓展收益

**边缘计算拓展收益**：

- **低延迟**：边缘设备就近访问，降低延迟
- **统一治理**：通过 NSM 统一管理边缘和云端
- **离线支持**：支持边缘设备离线运行

## 3. 无服务器

### 3.1 无服务器场景

**场景描述**：

- 按事件自动弹性扩容
- 无需管理服务器
- 按使用量计费

**架构设计**：

```text
事件
├── Serverless 平台（Knative）
│   ├── 自动扩容
│   ├── 函数执行
│   └── 自动缩容
└── 存储/数据库
```

### 3.2 技术选型

**无服务器技术选型**：

| 技术            | 特点                    | 适用场景        |
| --------------- | ----------------------- | --------------- |
| **Knative**     | Kubernetes 无服务器平台 | Kubernetes 环境 |
| **OpenFaaS**    | 开源无服务器平台        | 多云环境        |
| **WasmEdge**    | WebAssembly 运行时      | 轻量级函数计算  |
| **Firecracker** | MicroVM                 | 快速启动函数    |

### 3.3 拓展收益

**无服务器拓展收益**：

- **自动弹性**：按事件自动弹性扩容
- **成本优化**：按使用量计费，降低成本
- **快速部署**：快速部署和更新

## 4. AI 推理

### 4.1 AI 推理场景

**场景描述**：

- AI 模型推理需要高性能
- 需要 GPU 支持
- 需要模型版本管理

**架构设计**：

```text
AI 模型
├── 模型服务（GPU）
│   ├── 模型加载
│   ├── 推理执行
│   └── 结果返回
└── 模型存储
```

### 4.2 技术选型

**AI 推理技术选型**：

| 技术                | 特点         | 适用场景     |
| ------------------- | ------------ | ------------ |
| **Kubernetes**      | 容器编排     | 模型服务部署 |
| **GPU 直通**        | GPU 资源直通 | 高性能推理   |
| **Kata Containers** | VM 级别容器  | 模型隔离     |
| **Service Mesh**    | 流量治理     | 模型服务治理 |

### 4.3 拓展收益

**AI 推理拓展收益**：

- **高性能**：GPU 直通支持高性能推理
- **模型隔离**：通过 Kata Containers 实现模型隔离
- **流量治理**：通过 Service Mesh 实现流量治理

## 5. 多租户

### 5.1 多租户场景

**场景描述**：

- 多租户 SaaS 应用
- 每个租户需要隔离
- 共享基础设施降低成本

**架构设计**：

```text
租户 A
├── 业务 Pod（Istio Sidecar - 租户专属）
└── Istio Control Plane（租户专属）
    └── NSM（共享 vL3）
        └── 共用 Endpoint
            ├── 数据库（租户隔离）
            └── 缓存（租户隔离）
```

### 5.2 技术选型

**多租户技术选型**：

| 技术                      | 特点         | 适用场景     |
| ------------------------- | ------------ | ------------ |
| **Kubernetes Namespaces** | 命名空间隔离 | 租户隔离     |
| **Istio**                 | 服务网格     | 租户流量治理 |
| **NSM**                   | 网络服务网格 | 共享网络服务 |
| **OPA**                   | 策略即代码   | 租户策略隔离 |

### 5.3 拓展收益

**多租户拓展收益**：

- **隔离**：每个租户独立隔离
- **资源共享**：共享基础设施降低成本
- **统一管理**：通过 NSM 统一管理网络服务

## 6. 拓展场景对比

### 6.1 场景对比矩阵

| 场景         | 隔离需求 | 性能需求     | 安全需求 | 典型技术              |
| ------------ | -------- | ------------ | -------- | --------------------- |
| **边缘计算** | 中       | 高（低延迟） | 高       | K3s、WasmEdge、NSM    |
| **无服务器** | 高       | 中           | 高       | Knative、Firecracker  |
| **AI 推理**  | 高       | 高（GPU）    | 高       | Kata、GPU 直通        |
| **多租户**   | 高       | 中           | 高       | Namespace、Istio、OPA |

### 6.2 技术选型决策树

**边缘计算**：

```text
需要边缘部署？
├─ 是 → 需要快速启动？
│   ├─ 是 → 需要 WebAssembly？
│   │   ├─ 是 → WasmEdge
│   │   └─ 否 → K3s
│   └─ 否 → K3s
└─ 否 → 标准 Kubernetes
```

**无服务器**：

```text
需要无服务器？
├─ 是 → 需要快速启动？
│   ├─ 是 → Firecracker
│   └─ 否 → Knative
└─ 否 → 标准 Kubernetes
```

## 7. 形式化定义

### 7.1 拓展定义

```text
拓展 E = ⟨scenario, requirements, technologies, benefits⟩
其中：
- scenario: 场景描述
- requirements: 需求集合
- technologies: 技术集合
- benefits: 收益集合
```

### 7.2 场景映射

```text
场景映射 M: Scenario → Technologies
其中：
- Scenario: 场景集合
- Technologies: 技术集合
- M: 映射函数
```

## 8. 总结

通过**拓展**，我们展示了：

1. **边缘计算**：低延迟、统一治理、离线支持
2. **无服务器**：自动弹性、成本优化、快速部署
3. **AI 推理**：高性能、模型隔离、流量治理
4. **多租户**：隔离、资源共享、统一管理

这些拓展场景展示了虚拟化、容器化、沙盒化在不同场景下的应用方式和价值。

---

**更新时间**：2025-11-04 **版本**：v1.0 **参考**：`architecture_view.md` 第
104-107 行，拓展场景部分
