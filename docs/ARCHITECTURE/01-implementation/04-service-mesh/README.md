# Service Mesh å®žçŽ°ç»†èŠ‚

## ðŸ“‘ ç›®å½•

- [Service Mesh å®žçŽ°ç»†èŠ‚](#service-mesh-å®žçŽ°ç»†èŠ‚)
  - [ðŸ“‘ ç›®å½•](#-ç›®å½•)
  - [1 æ¦‚è¿°](#1-æ¦‚è¿°)
    - [1.1 æ ¸å¿ƒæ€æƒ³](#11-æ ¸å¿ƒæ€æƒ³)
    - [1.2 ç†è®ºåŸºç¡€](#12-ç†è®ºåŸºç¡€)
  - [2 æ–‡æ¡£ç»“æž„](#2-æ–‡æ¡£ç»“æž„)
  - [2.1 æŠ€æœ¯æ ˆ](#21-æŠ€æœ¯æ ˆ)
  - [2.2 åº”ç”¨åœºæ™¯](#22-åº”ç”¨åœºæ™¯)
  - [3 ç›¸å…³æ–‡æ¡£](#3-ç›¸å…³æ–‡æ¡£)
    - [3.1 ç†è®ºè®ºè¯](#31-ç†è®ºè®ºè¯)
    - [3.2 æž¶æž„è§†è§’](#32-æž¶æž„è§†è§’)
    - [3.3 æŠ€æœ¯æ–‡æ¡£](#33-æŠ€æœ¯æ–‡æ¡£)
  - [4 å¿«é€Ÿå¼€å§‹](#4-å¿«é€Ÿå¼€å§‹)
    - [4.1 Istio å¿«é€Ÿå®‰è£…](#41-istio-å¿«é€Ÿå®‰è£…)
    - [4.2 å¯ç”¨ Sidecar æ³¨å…¥](#42-å¯ç”¨-sidecar-æ³¨å…¥)
  - [5 æœ€ä½³å®žè·µ](#5-æœ€ä½³å®žè·µ)
    - [5.1 æµé‡ç®¡ç†](#51-æµé‡ç®¡ç†)
    - [5.2 å®‰å…¨é…ç½®](#52-å®‰å…¨é…ç½®)
    - [5.3 å¯è§‚æµ‹æ€§](#53-å¯è§‚æµ‹æ€§)
  - [4 å½“å‰çŠ¶æ€](#4-å½“å‰çŠ¶æ€)
    - [4.1 æ–‡æ¡£åˆ›å»ºè®¡åˆ’](#41-æ–‡æ¡£åˆ›å»ºè®¡åˆ’)

---

## 1 æ¦‚è¿°

æœ¬ç›®å½•åŒ…å«**Service Mesh æŠ€æœ¯çš„å®žçŽ°ç»†èŠ‚**ï¼Œæä¾› Istioã€Envoyã€xDS API ç­‰ Service Mesh æŠ€æœ¯çš„é…ç½®ç¤ºä¾‹å’Œä»£ç ç¤ºä¾‹ã€‚Service Mesh æ˜¯å¾®æœåŠ¡æž¶æž„çš„åŸºç¡€è®¾æ–½å±‚ï¼Œæä¾›æœåŠ¡é—´é€šä¿¡ã€æµé‡ç®¡ç†ã€å¯è§‚æµ‹æ€§ç­‰åŠŸèƒ½ã€‚

**Service Mesh æŠ€æœ¯ç‰¹ç‚¹**ï¼š

- **é€æ˜Žä»£ç†**ï¼šé€šè¿‡ Sidecar ä»£ç†å®žçŽ°é€æ˜Žé€šä¿¡
- **æµé‡ç®¡ç†**ï¼šè·¯ç”±ã€è´Ÿè½½å‡è¡¡ã€ç†”æ–­é™çº§
- **å¯è§‚æµ‹æ€§**ï¼šå®Œæ•´çš„ Traceã€Metricsã€Logs
- **å®‰å…¨é€šä¿¡**ï¼šmTLS åŠ å¯†é€šä¿¡

### 1.1 æ ¸å¿ƒæ€æƒ³

> **Service Mesh å®žçŽ°ç»†èŠ‚ä¸“æ³¨äºŽ"å¦‚ä½•é…ç½®å’Œä½¿ç”¨ Service Mesh æŠ€æœ¯"ï¼Œä¸åŒ…å«å½¢å¼åŒ–
> è®ºè¯**

### 1.2 ç†è®ºåŸºç¡€

Service Mesh å®žçŽ°åŸºäºŽä»¥ä¸‹ç†è®ºè®ºè¯ï¼š

- **å…¬ç† A3ï¼ˆç½‘ç»œå¼‚æ­¥äº¤ä»˜ï¼‰**ï¼šæ¶ˆæ¯ä¼ é€’è¯­ä¹‰ â‰¥ å…±äº«å†…å­˜è¯­ä¹‰
- **å½’çº³æ˜ å°„ Î¨â‚„ï¼ˆç½‘ç»œæŠ½è±¡å±‚ï¼‰**ï¼šå°† IP:Port æŠ½è±¡ä¸º ServiceName
- **å®šç† T1ï¼ˆèº«ä»½-è·¯ç”±ç­‰ä»·ï¼‰**ï¼šèº«ä»½-è·¯ç”±ç­‰ä»·ï¼Œè·¯ç”±å‡½æ•° R(e) = v æ˜¯åŒå°„

**è¯¦ç»†ç†è®ºè®ºè¯**ï¼šå‚è§ [`../../00-theory/`](../../00-theory/)

---

## 2 æ–‡æ¡£ç»“æž„

```text
04-service-mesh/
â”œâ”€â”€ README.md              # æœ¬æ–‡æ¡£ï¼ˆæ€»è§ˆï¼‰
â”œâ”€â”€ istio-config.md       # Istio é…ç½®
â”œâ”€â”€ envoy-examples.md     # Envoy é…ç½®ç¤ºä¾‹
â””â”€â”€ xds-api.md           # xDS API ä½¿ç”¨
```

## 2.1 æŠ€æœ¯æ ˆ

**æ ¸å¿ƒç»„ä»¶**ï¼š

- **Istio**ï¼šService Mesh æŽ§åˆ¶å¹³é¢
- **Envoy**ï¼šé«˜æ€§èƒ½ä»£ç†ï¼Œæ•°æ®å¹³é¢
- **xDS API**ï¼šåŠ¨æ€é…ç½® API
- **Pilot**ï¼šæµé‡ç®¡ç†ç»„ä»¶

**æŠ€æœ¯ä¼˜åŠ¿**ï¼š

- **é€æ˜Žé€šä¿¡**ï¼šåº”ç”¨æ— éœ€ä¿®æ”¹ä»£ç 
- **ç»Ÿä¸€ç®¡ç†**ï¼šç»Ÿä¸€çš„æµé‡å’Œå®‰å…¨ç­–ç•¥
- **å®Œæ•´å¯è§‚æµ‹**ï¼šå®Œæ•´çš„å¯è§‚æµ‹æ€§èƒ½åŠ›

## 2.2 åº”ç”¨åœºæ™¯

**å…¸åž‹åº”ç”¨**ï¼š

- **å¾®æœåŠ¡æž¶æž„**ï¼šå¾®æœåŠ¡é—´é€šä¿¡å’Œç®¡ç†
- **å¤šè¯­è¨€æœåŠ¡**ï¼šæ”¯æŒå¤šè¯­è¨€æœåŠ¡é€šä¿¡
- **æµé‡æ²»ç†**ï¼šæµé‡è·¯ç”±å’Œè´Ÿè½½å‡è¡¡
- **å®‰å…¨é€šä¿¡**ï¼šæœåŠ¡é—´å®‰å…¨é€šä¿¡

---

## 3 ç›¸å…³æ–‡æ¡£

### 3.1 ç†è®ºè®ºè¯

- **`../../00-theory/02-induction-proof/psi4-network.md`** - ç½‘ç»œæŠ½è±¡å±‚å½’çº³æ˜ å°„
- **`../../00-theory/01-axioms/A3-network-async.md`** - ç½‘ç»œå¼‚æ­¥äº¤ä»˜å…¬ç†
- **`../../00-theory/05-lemmas-theorems/T1-identity-routing.md`** - èº«ä»½-è·¯ç”±ç­‰
  ä»·å®šç†

### 3.2 æž¶æž„è§†è§’

- **`../../02-views/10-quick-views/service-mesh-view.md`** - Service Mesh æž¶æž„è§†
  è§’
- **`../../02-views/10-quick-views/network-service-mesh-view.md`** - Network
  Service Mesh æž¶æž„è§†è§’

### 3.3 æŠ€æœ¯æ–‡æ¡£

- **`../../../TECHNICAL/06-advanced-features/service-mesh/service-mesh.md`** - Service Mesh æŠ€æœ¯æ–‡
  æ¡£

---

## 4 å¿«é€Ÿå¼€å§‹

### 4.1 Istio å¿«é€Ÿå®‰è£…

```bash
# ä¸‹è½½ Istio
curl -L https://istio.io/downloadIstio | sh -
cd istio-*

# å®‰è£… Istio
./bin/istioctl install --set values.defaultRevision=default

# éªŒè¯å®‰è£…
kubectl get pods -n istio-system
```

### 4.2 å¯ç”¨ Sidecar æ³¨å…¥

```bash
# ä¸ºå‘½åç©ºé—´å¯ç”¨ Sidecar æ³¨å…¥
kubectl label namespace default istio-injection=enabled

# éƒ¨ç½²åº”ç”¨
kubectl apply -f app.yaml
```

## 5 æœ€ä½³å®žè·µ

### 5.1 æµé‡ç®¡ç†

- **è·¯ç”±è§„åˆ™**ï¼šä½¿ç”¨ VirtualService é…ç½®è·¯ç”±
- **è´Ÿè½½å‡è¡¡**ï¼šé…ç½®è´Ÿè½½å‡è¡¡ç­–ç•¥
- **ç†”æ–­é™çº§**ï¼šé…ç½®ç†”æ–­å’Œé™çº§è§„åˆ™
- **è¶…æ—¶é‡è¯•**ï¼šé…ç½®è¶…æ—¶å’Œé‡è¯•ç­–ç•¥

### 5.2 å®‰å…¨é…ç½®

- **mTLS**ï¼šå¯ç”¨æœåŠ¡é—´ mTLS
- **è®¤è¯æŽˆæƒ**ï¼šé…ç½®è®¤è¯å’ŒæŽˆæƒç­–ç•¥
- **ç½‘ç»œç­–ç•¥**ï¼šç»“åˆç½‘ç»œç­–ç•¥åŠ å¼ºå®‰å…¨
- **è¯ä¹¦ç®¡ç†**ï¼šç®¡ç† TLS è¯ä¹¦

### 5.3 å¯è§‚æµ‹æ€§

- **åˆ†å¸ƒå¼è¿½è¸ª**ï¼šé…ç½®åˆ†å¸ƒå¼è¿½è¸ª
- **æŒ‡æ ‡ç›‘æŽ§**ï¼šé…ç½®æŒ‡æ ‡æ”¶é›†
- **æ—¥å¿—æ”¶é›†**ï¼šé…ç½®æ—¥å¿—æ”¶é›†
- **å¯è§†åŒ–**ï¼šä½¿ç”¨ Grafana å¯è§†åŒ–

## 4 å½“å‰çŠ¶æ€

### 4.1 æ–‡æ¡£åˆ›å»ºè®¡åˆ’

- [x] `istio-config.md` - Istio é…ç½®
- [x] `envoy-examples.md` - Envoy é…ç½®ç¤ºä¾‹
- [x] `xds-api.md` - xDS API ä½¿ç”¨

---

**æœ€åŽæ›´æ–°ï¼š2025-11-15
**æ–‡æ¡£çŠ¶æ€**ï¼šâœ… å®Œæ•´ | ðŸ“Š åŒ…å« 2025 å¹´æœ€æ–°è¶‹åŠ¿ | ðŸŽ¯ ç”Ÿäº§å°±ç»ªæŠ€æœ¯ç»„åˆ
**ç‰ˆæœ¬**ï¼šv1.0
**ç»´æŠ¤è€…**ï¼šé¡¹ç›®å›¢é˜Ÿ

> **ðŸ“Š 2025 å¹´æŠ€æœ¯è¶‹åŠ¿å‚è€ƒ**ï¼šè¯¦ç»†æŠ€æœ¯çŠ¶æ€å’Œç‰ˆæœ¬ä¿¡æ¯è¯·æŸ¥çœ‹
> [27. 2025 å¹´æŠ€æœ¯è¶‹åŠ¿æ±‡æ€»](../../../TECHNICAL/10-reference-trends/2025-trends/2025-trends.md)
