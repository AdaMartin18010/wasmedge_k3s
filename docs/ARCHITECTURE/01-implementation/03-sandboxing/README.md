# æ²™ç›’åŒ–å®žçŽ°ç»†èŠ‚

## ðŸ“‘ ç›®å½•

- [æ²™ç›’åŒ–å®žçŽ°ç»†èŠ‚](#æ²™ç›’åŒ–å®žçŽ°ç»†èŠ‚)
  - [ðŸ“‘ ç›®å½•](#-ç›®å½•)
  - [1 æ¦‚è¿°](#1-æ¦‚è¿°)
    - [1.1 æ ¸å¿ƒæ€æƒ³](#11-æ ¸å¿ƒæ€æƒ³)
    - [1.2 ç†è®ºåŸºç¡€](#12-ç†è®ºåŸºç¡€)
  - [2 æ–‡æ¡£ç»“æž„](#2-æ–‡æ¡£ç»“æž„)
  - [2.1 æŠ€æœ¯æ ˆ](#21-æŠ€æœ¯æ ˆ)
  - [2.2 åº”ç”¨åœºæ™¯](#22-åº”ç”¨åœºæ™¯)
  - [3 ç›¸å…³æ–‡æ¡£](#3-ç›¸å…³æ–‡æ¡£)
    - [3.1 ç†è®ºè®ºè¯](#31-ç†è®ºè®ºè¯)
    - [3.2 æž¶æž„è§†è§’](#32-æž¶æž„è§†è§’)
    - [3.3 æŠ€æœ¯æ–‡æ¡£](#33-æŠ€æœ¯æ–‡æ¡£)
  - [4 å¿«é€Ÿå¼€å§‹](#4-å¿«é€Ÿå¼€å§‹)
    - [4.1 seccomp å¿«é€Ÿä½¿ç”¨](#41-seccomp-å¿«é€Ÿä½¿ç”¨)
    - [4.2 gVisor å¿«é€Ÿå®‰è£…](#42-gvisor-å¿«é€Ÿå®‰è£…)
  - [5 æœ€ä½³å®žè·µ](#5-æœ€ä½³å®žè·µ)
    - [5.1 å®‰å…¨é…ç½®](#51-å®‰å…¨é…ç½®)
    - [5.2 æ€§èƒ½ä¼˜åŒ–](#52-æ€§èƒ½ä¼˜åŒ–)
    - [5.3 å…¼å®¹æ€§](#53-å…¼å®¹æ€§)
  - [4 å½“å‰çŠ¶æ€](#4-å½“å‰çŠ¶æ€)
    - [4.1 æ–‡æ¡£åˆ›å»ºè®¡åˆ’](#41-æ–‡æ¡£åˆ›å»ºè®¡åˆ’)

---

## 1 æ¦‚è¿°

æœ¬ç›®å½•åŒ…å«**æ²™ç›’åŒ–æŠ€æœ¯çš„å®žçŽ°ç»†èŠ‚**ï¼Œæä¾› seccompã€gVisorã€Firecracker ç­‰æ²™ç›’åŒ–æŠ€æœ¯çš„é…ç½®ç¤ºä¾‹å’Œä»£ç ç¤ºä¾‹ã€‚æ²™ç›’åŒ–æŠ€æœ¯æ˜¯å¯¹å®¹å™¨å†…éƒ¨è¿›ç¨‹çš„è¿›ä¸€æ­¥éš”ç¦»ï¼Œæä¾›æ›´å¼ºçš„å®‰å…¨è¾¹ç•Œã€‚

**æ²™ç›’åŒ–æŠ€æœ¯ç‰¹ç‚¹**ï¼š

- **å¼ºéš”ç¦»**ï¼šå¯¹å®¹å™¨å†…éƒ¨è¿›ç¨‹è¿›ä¸€æ­¥éš”ç¦»
- **æœ€å°æƒé™**ï¼šä½¿ç”¨èƒ½åŠ›æ¨¡åž‹ï¼Œæœ€å°æƒé™åŽŸåˆ™
- **å®‰å…¨è¾¹ç•Œ**ï¼šç»†ç²’åº¦çš„å®‰å…¨è¾¹ç•ŒæŽ§åˆ¶
- **æ€§èƒ½å¹³è¡¡**ï¼šåœ¨å®‰å…¨æ€§å’Œæ€§èƒ½ä¹‹é—´å¹³è¡¡

### 1.1 æ ¸å¿ƒæ€æƒ³

> **æ²™ç›’åŒ–å®žçŽ°ç»†èŠ‚ä¸“æ³¨äºŽ"å¦‚ä½•é…ç½®å’Œä½¿ç”¨æ²™ç›’åŒ–æŠ€æœ¯"ï¼Œä¸åŒ…å«å½¢å¼åŒ–è®ºè¯**

### 1.2 ç†è®ºåŸºç¡€

æ²™ç›’åŒ–å®žçŽ°åŸºäºŽä»¥ä¸‹ç†è®ºè®ºè¯ï¼š

- **å…¬ç† A2ï¼ˆOS èµ„æºå°é—­ï¼‰**ï¼šè¿›ç¨‹ã€å†…å­˜ã€æ–‡ä»¶ã€ç½‘ç»œå››å¤§å‘½åç©ºé—´å¯å®Œå…¨å°é—­
- **å½’çº³æ˜ å°„ Î¨â‚ƒï¼ˆæ²™ç›’åŒ–å±‚ï¼‰**ï¼šå¯¹å®¹å™¨å†…éƒ¨è¿›ç¨‹è¿›ä¸€æ­¥éš”ç¦»
- **å¼•ç† L2ï¼ˆèƒ½åŠ›é—­åŒ…ï¼‰**ï¼šæ²™ç›’å®‰å…¨è¾¹ç•Œ = æœ€å°èƒ½åŠ›é—­åŒ…ï¼Œ|Capability| â‰¤ 35

**è¯¦ç»†ç†è®ºè®ºè¯**ï¼šå‚è§ [`../../00-theory/`](../../00-theory/)

---

## 2 æ–‡æ¡£ç»“æž„

```text
03-sandboxing/
â”œâ”€â”€ README.md              # æœ¬æ–‡æ¡£ï¼ˆæ€»è§ˆï¼‰
â”œâ”€â”€ seccomp-examples.md   # seccomp ç¤ºä¾‹
â”œâ”€â”€ gvisor-setup.md       # gVisor é…ç½®
â””â”€â”€ firecracker-config.md # Firecracker é…ç½®
```

## 2.1 æŠ€æœ¯æ ˆ

**æ ¸å¿ƒç»„ä»¶**ï¼š

- **seccomp**ï¼šç³»ç»Ÿè°ƒç”¨è¿‡æ»¤ï¼Œé™åˆ¶ç³»ç»Ÿè°ƒç”¨
- **gVisor**ï¼šç”¨æˆ·æ€å†…æ ¸ï¼Œæä¾›å®‰å…¨æ²™ç›’
- **Firecracker**ï¼šè½»é‡çº§ VMMï¼Œå¾® VM æŠ€æœ¯
- **AppArmor/SELinux**ï¼šå¼ºåˆ¶è®¿é—®æŽ§åˆ¶

**æŠ€æœ¯ä¼˜åŠ¿**ï¼š

- **å¼ºéš”ç¦»**ï¼šæ¯”å®¹å™¨æ›´å¼ºçš„éš”ç¦»èƒ½åŠ›
- **æœ€å°æƒé™**ï¼šç»†ç²’åº¦çš„æƒé™æŽ§åˆ¶
- **å®‰å…¨è¾¹ç•Œ**ï¼šæ¸…æ™°çš„å®‰å…¨è¾¹ç•Œ

## 2.2 åº”ç”¨åœºæ™¯

**å…¸åž‹åº”ç”¨**ï¼š

- **ä¸å¯ä¿¡ä»£ç æ‰§è¡Œ**ï¼šæ‰§è¡Œä¸å¯ä¿¡ä»£ç 
- **å¤šç§Ÿæˆ·çŽ¯å¢ƒ**ï¼šéœ€è¦å¼ºéš”ç¦»çš„å¤šç§Ÿæˆ·çŽ¯å¢ƒ
- **å®‰å…¨æ•æ„Ÿåº”ç”¨**ï¼šå®‰å…¨æ•æ„Ÿçš„åº”ç”¨åœºæ™¯
- **Serverless**ï¼šServerless å‡½æ•°æ‰§è¡Œ

---

## 3 ç›¸å…³æ–‡æ¡£

### 3.1 ç†è®ºè®ºè¯

- **`../../00-theory/02-induction-proof/psi3-sandboxing.md`** - æ²™ç›’åŒ–å±‚å½’çº³æ˜ å°„
- **`../../00-theory/01-axioms/A2-os-resource.md`** - OS èµ„æºå°é—­å…¬ç†
- **`../../00-theory/05-lemmas-theorems/L2-capability-closure.md`** - èƒ½åŠ›é—­åŒ…å¼•
  ç†

### 3.2 æž¶æž„è§†è§’

- **`../../02-views/10-quick-views/sandboxing-view.md`** - æ²™ç›’åŒ–æž¶æž„è§†è§’

### 3.3 æŠ€æœ¯æ–‡æ¡£

- **`../../../TECHNICAL/08-architecture-analysis/isolation-stack/isolation-stack.md`** - éš”ç¦»æŠ€æœ¯æ ˆæ–‡
  æ¡£

---

## 4 å¿«é€Ÿå¼€å§‹

### 4.1 seccomp å¿«é€Ÿä½¿ç”¨

```bash
# åˆ›å»º seccomp é…ç½®æ–‡ä»¶
cat > seccomp-profile.json <<EOF
{
  "defaultAction": "SCMP_ACT_ERRNO",
  "syscalls": [
    {
      "names": ["read", "write"],
      "action": "SCMP_ACT_ALLOW"
    }
  ]
}
EOF

# ä½¿ç”¨ seccomp è¿è¡Œå®¹å™¨
docker run --security-opt seccomp=seccomp-profile.json nginx
```

### 4.2 gVisor å¿«é€Ÿå®‰è£…

```bash
# å®‰è£… gVisor
curl -fsSL https://gvisor.dev/archive.key | sudo gpg --dearmor -o /usr/share/keyrings/gvisor-archive-keyring.gpg
echo "deb [arch=$(dpkg --print-architecture) signed-by=/usr/share/keyrings/gvisor-archive-keyring.gpg] https://storage.googleapis.com/gvisor/releases release main" | sudo tee /etc/apt/sources.list.d/gvisor.list > /dev/null
sudo apt-get update && sudo apt-get install -y runsc

# é…ç½® Docker ä½¿ç”¨ gVisor
sudo runsc install
```

## 5 æœ€ä½³å®žè·µ

### 5.1 å®‰å…¨é…ç½®

- **æœ€å°æƒé™**ï¼šé…ç½®æœ€å°æƒé™åŽŸåˆ™
- **ç³»ç»Ÿè°ƒç”¨è¿‡æ»¤**ï¼šä½¿ç”¨ seccomp è¿‡æ»¤ç³»ç»Ÿè°ƒç”¨
- **èƒ½åŠ›é™åˆ¶**ï¼šé™åˆ¶å®¹å™¨èƒ½åŠ›
- **è®¿é—®æŽ§åˆ¶**ï¼šä½¿ç”¨ AppArmor/SELinux

### 5.2 æ€§èƒ½ä¼˜åŒ–

- **ç³»ç»Ÿè°ƒç”¨ä¼˜åŒ–**ï¼šå‡å°‘ç³»ç»Ÿè°ƒç”¨æ¬¡æ•°
- **ç¼“å­˜ç­–ç•¥**ï¼šä¼˜åŒ–ç¼“å­˜ä½¿ç”¨
- **èµ„æºé™åˆ¶**ï¼šåˆç†é…ç½®èµ„æºé™åˆ¶
- **ç›‘æŽ§è°ƒä¼˜**ï¼šç›‘æŽ§å’Œè°ƒä¼˜æ€§èƒ½

### 5.3 å…¼å®¹æ€§

- **åº”ç”¨å…¼å®¹æ€§**ï¼šç¡®ä¿åº”ç”¨å…¼å®¹æ²™ç›’çŽ¯å¢ƒ
- **ç³»ç»Ÿè°ƒç”¨å…¼å®¹**ï¼šç¡®ä¿ç³»ç»Ÿè°ƒç”¨æ”¯æŒ
- **æµ‹è¯•éªŒè¯**ï¼šå……åˆ†æµ‹è¯•éªŒè¯å…¼å®¹æ€§

## 4 å½“å‰çŠ¶æ€

### 4.1 æ–‡æ¡£åˆ›å»ºè®¡åˆ’

- [x] `seccomp-examples.md` - seccomp ç¤ºä¾‹
- [x] `gvisor-setup.md` - gVisor é…ç½®
- [x] `firecracker-config.md` - Firecracker é…ç½®

---

**æœ€åŽæ›´æ–°ï¼š2025-11-15
**æ–‡æ¡£çŠ¶æ€**ï¼šâœ… å®Œæ•´ | ðŸ“Š åŒ…å« 2025 å¹´æœ€æ–°è¶‹åŠ¿ | ðŸŽ¯ ç”Ÿäº§å°±ç»ªæŠ€æœ¯ç»„åˆ
**ç‰ˆæœ¬**ï¼šv1.0
**ç»´æŠ¤è€…**ï¼šé¡¹ç›®å›¢é˜Ÿ

> **ðŸ“Š 2025 å¹´æŠ€æœ¯è¶‹åŠ¿å‚è€ƒ**ï¼šè¯¦ç»†æŠ€æœ¯çŠ¶æ€å’Œç‰ˆæœ¬ä¿¡æ¯è¯·æŸ¥çœ‹
> [27. 2025 å¹´æŠ€æœ¯è¶‹åŠ¿æ±‡æ€»](../../../TECHNICAL/10-reference-trends/2025-trends/2025-trends.md)
