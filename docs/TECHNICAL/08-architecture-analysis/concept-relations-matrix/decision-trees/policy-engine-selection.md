# ç­–ç•¥å¼•æ“é€‰å‹å†³ç­–

## ğŸ“‘ ç›®å½•

- [ğŸ“‘ ç›®å½•](#-ç›®å½•)
- [å†³ç­–æ ‘](#å†³ç­–æ ‘)
- [å†³ç­–çŸ©é˜µ](#å†³ç­–çŸ©é˜µ)
- [é€‰å‹æŒ‡å—](#é€‰å‹æŒ‡å—)
  - [Gatekeeper é€‚ç”¨åœºæ™¯](#gatekeeper-é€‚ç”¨åœºæ™¯)
  - [OPA-Wasm é€‚ç”¨åœºæ™¯](#opa-wasm-é€‚ç”¨åœºæ™¯)
  - [OPA åŸç”Ÿé€‚ç”¨åœºæ™¯](#opa-åŸç”Ÿé€‚ç”¨åœºæ™¯)
- [æ€§èƒ½å¯¹æ¯”](#æ€§èƒ½å¯¹æ¯”)

---

**æœ€åæ›´æ–°**: 2025-11-06 **ç»´æŠ¤è€…**: é¡¹ç›®å›¢é˜Ÿ

> ğŸ“‹ **ä¸»æ–‡æ¡£é“¾
> æ¥**ï¼š[30.14.3 ç­–ç•¥å¼•æ“é€‰å‹å†³ç­–](../concept-relations-matrix.md#30143-ç­–ç•¥å¼•æ“é€‰å‹å†³ç­–)

## å†³ç­–æ ‘

```mermaid
graph TD
    A[ç­–ç•¥å¼•æ“é€‰å‹] --> B{K8sç¯å¢ƒ?}
    B -->|æ˜¯| C{éœ€è¦å®æ—¶éªŒè¯?}
    B -->|å¦| D[OPAç‹¬ç«‹éƒ¨ç½²]

    C -->|æ˜¯| E[Gatekeeper<br/>Z=3 åº”ç”¨ç­–ç•¥]
    C -->|å¦| F[OPA<br/>Z=2 è¿è¡Œæ—¶ç­–ç•¥]

    E --> G[K8sç­–ç•¥æ²»ç†]
    F --> H[åº”ç”¨ç­–ç•¥å†³ç­–]
    D --> I[å¤–éƒ¨ç­–ç•¥æœåŠ¡]
```

## å†³ç­–çŸ©é˜µ

| åœºæ™¯             | K8s ç¯å¢ƒ | å®æ—¶éªŒè¯ | é«˜æ€§èƒ½ | Wasm æ”¯æŒ | æ¨èç­–ç•¥å¼•æ“ |
| ---------------- | -------- | -------- | ------ | --------- | ------------ |
| **K8s ç­–ç•¥æ²»ç†** | âœ…       | âœ…       | âš ï¸     | âœ…        | Gatekeeper   |
| **åº”ç”¨ç­–ç•¥**     | âš ï¸       | âŒ       | âœ…     | âœ…        | OPA-Wasm     |
| **è¿è¡Œæ—¶ç­–ç•¥**   | âŒ       | âŒ       | âœ…     | âŒ        | OPA          |
| **å¤–éƒ¨ç­–ç•¥**     | âŒ       | âŒ       | âš ï¸     | âŒ        | OPA ç‹¬ç«‹éƒ¨ç½² |

## é€‰å‹æŒ‡å—

### Gatekeeper é€‚ç”¨åœºæ™¯

- âœ… **K8s ç¯å¢ƒ**ï¼šéœ€è¦ Kubernetes é›†æˆ
- âœ… **å®æ—¶éªŒè¯**ï¼šéœ€è¦ Admission Controller
- âœ… **ç­–ç•¥æ²»ç†**ï¼šéœ€è¦ç»Ÿä¸€ç­–ç•¥ç®¡ç†

### OPA-Wasm é€‚ç”¨åœºæ™¯

- âœ… **é«˜æ€§èƒ½**ï¼šéœ€è¦ <1ms ç­–ç•¥æ‰§è¡Œ
- âœ… **Wasm æ”¯æŒ**ï¼šéœ€è¦ Wasm ç¼–è¯‘ç­–ç•¥
- âœ… **è¾¹ç¼˜åœºæ™¯**ï¼šèµ„æºå—é™ç¯å¢ƒ

### OPA åŸç”Ÿé€‚ç”¨åœºæ™¯

- âœ… **ç‹¬ç«‹éƒ¨ç½²**ï¼šé K8s ç¯å¢ƒ
- âœ… **é€šç”¨ç­–ç•¥**ï¼šéœ€è¦é€šç”¨ç­–ç•¥å¼•æ“

## æ€§èƒ½å¯¹æ¯”

| ç­–ç•¥å¼•æ“       | æ‰§è¡Œå»¶è¿Ÿ | Wasm æ”¯æŒ | K8s é›†æˆ |
| -------------- | -------- | --------- | -------- |
| **Gatekeeper** | 10-50ms  | âœ…        | âœ…       |
| **OPA-Wasm**   | <1ms     | âœ…        | âš ï¸       |
| **OPA**        | 10-50ms  | âŒ        | âŒ       |

---

**æœ€åæ›´æ–°**ï¼š2025-11-06 **ç»´æŠ¤è€…**ï¼šé¡¹ç›®å›¢é˜Ÿ
