# è¾¹ç¼˜è®¡ç®—åœºæ™¯

## ğŸ“‘ ç›®å½•

- [è¾¹ç¼˜è®¡ç®—åœºæ™¯](#è¾¹ç¼˜è®¡ç®—åœºæ™¯)
  - [ğŸ“‘ ç›®å½•](#-ç›®å½•)
  - [1. åœºæ™¯æè¿°](#1-åœºæ™¯æè¿°)
  - [2. æŠ€æœ¯ç»„åˆ](#2-æŠ€æœ¯ç»„åˆ)
  - [3. å…³ç³»çŸ©é˜µ](#3-å…³ç³»çŸ©é˜µ)
  - [4. å®é™…æ•ˆæœ](#4-å®é™…æ•ˆæœ)
  - [5. ä¸‰ç»´åæ ‡](#5-ä¸‰ç»´åæ ‡)
  - [6. æŠ€æœ¯æ ˆè¯¦æƒ…](#6-æŠ€æœ¯æ ˆè¯¦æƒ…)
    - [6.1 ç¼–æ’å±‚](#61-ç¼–æ’å±‚)
    - [6.2 è¿è¡Œæ—¶å±‚](#62-è¿è¡Œæ—¶å±‚)
    - [6.3 ç­–ç•¥å±‚](#63-ç­–ç•¥å±‚)
    - [6.4 å­˜å‚¨å±‚](#64-å­˜å‚¨å±‚)
  - [8. éƒ¨ç½²ç¤ºä¾‹](#8-éƒ¨ç½²ç¤ºä¾‹)
    - [8.1 è¾¹ç¼˜èŠ‚ç‚¹éƒ¨ç½²](#81-è¾¹ç¼˜èŠ‚ç‚¹éƒ¨ç½²)
    - [8.2 è¾¹ç¼˜æœåŠ¡éƒ¨ç½²](#82-è¾¹ç¼˜æœåŠ¡éƒ¨ç½²)
    - [8.3 ç¦»çº¿è‡ªæ²»é…ç½®](#83-ç¦»çº¿è‡ªæ²»é…ç½®)
  - [9. æ€§èƒ½ä¼˜åŒ–å»ºè®®](#9-æ€§èƒ½ä¼˜åŒ–å»ºè®®)
    - [9.1 å¯åŠ¨ä¼˜åŒ–](#91-å¯åŠ¨ä¼˜åŒ–)
    - [9.2 èµ„æºä¼˜åŒ–](#92-èµ„æºä¼˜åŒ–)
    - [9.3 ç¦»çº¿ä¼˜åŒ–](#93-ç¦»çº¿ä¼˜åŒ–)
  - [10. æ•…éšœæ’æŸ¥](#10-æ•…éšœæ’æŸ¥)
    - [10.1 å¸¸è§é—®é¢˜](#101-å¸¸è§é—®é¢˜)
    - [10.2 æ€§èƒ½è°ƒä¼˜](#102-æ€§èƒ½è°ƒä¼˜)
  - [11. æœ€ä½³å®è·µ](#11-æœ€ä½³å®è·µ)
    - [11.1 éƒ¨ç½²å®è·µ](#111-éƒ¨ç½²å®è·µ)
    - [11.2 ç¦»çº¿è‡ªæ²»](#112-ç¦»çº¿è‡ªæ²»)
    - [11.3 ç›‘æ§å‘Šè­¦](#113-ç›‘æ§å‘Šè­¦)
  - [7. å‚è€ƒæ–‡æ¡£](#7-å‚è€ƒæ–‡æ¡£)
    - [7.1 æŠ€æœ¯æ–‡æ¡£](#71-æŠ€æœ¯æ–‡æ¡£)
    - [7.2 å®è·µæ¡ˆä¾‹](#72-å®è·µæ¡ˆä¾‹)
    - [7.3 å¤–éƒ¨èµ„æº](#73-å¤–éƒ¨èµ„æº)

---

**æœ€åæ›´æ–°**: 2025-11-06 **ç»´æŠ¤è€…**: é¡¹ç›®å›¢é˜Ÿ

> ğŸ“‹ **ä¸»æ–‡æ¡£é“¾
> æ¥**ï¼š[30.13.1 è¾¹ç¼˜è®¡ç®—åœºæ™¯](../concept-relations-matrix.md#30131-è¾¹ç¼˜è®¡ç®—åœºæ™¯)

## 1. åœºæ™¯æè¿°

è¾¹ç¼˜è®¡ç®—åœºæ™¯æ˜¯æŒ‡åœ¨é è¿‘æ•°æ®æºçš„è¾¹ç¼˜èŠ‚ç‚¹éƒ¨ç½²è®¡ç®—æœåŠ¡ï¼Œéœ€è¦å¿«é€Ÿå¯åŠ¨ã€ä½èµ„æºæ¶ˆè€—ã€ç¦»çº¿è‡ªæ²»èƒ½åŠ›ã€‚è¯¥åœºæ™¯é€‚ç”¨äºå·¥ä¸š IoTã€æ™ºèƒ½ç½‘å…³ã€5G MEC ç­‰éœ€è¦ä½å»¶è¿Ÿå’Œç¦»çº¿è¿è¡Œçš„åº”ç”¨ã€‚

**åœºæ™¯ç‰¹ç‚¹**ï¼š

- **ä½å»¶è¿Ÿè¦æ±‚**ï¼šè¾¹ç¼˜èŠ‚ç‚¹å“åº”æ—¶é—´ < 50msï¼Œæ»¡è¶³å®æ—¶å“åº”éœ€æ±‚
- **èµ„æºå—é™**ï¼šè¾¹ç¼˜èŠ‚ç‚¹èµ„æºæœ‰é™ï¼ˆé€šå¸¸ 4C8Gï¼‰ï¼Œéœ€è¦è½»é‡çº§éƒ¨ç½²
- **ç¦»çº¿è‡ªæ²»**ï¼šæ”¯æŒç½‘ç»œæ–­å¼€æ—¶çš„æœ¬åœ°æœåŠ¡ï¼Œå®ç°ç¦»çº¿è‡ªæ²»
- **æ•°æ®æœ¬åœ°åŒ–**ï¼šæ•æ„Ÿæ•°æ®åœ¨è¾¹ç¼˜èŠ‚ç‚¹æœ¬åœ°å¤„ç†ï¼Œä¸ä¸Šä¼ äº‘ç«¯
- **å¿«é€Ÿå¯åŠ¨**ï¼šåº”ç”¨éœ€è¦å¿«é€Ÿå¯åŠ¨ï¼Œæ»¡è¶³çªå‘æµé‡éœ€æ±‚

**å…¸å‹åº”ç”¨**ï¼š

- **å·¥ä¸š IoT**ï¼šè®¾å¤‡ç›‘æ§ã€æ•°æ®é‡‡é›†ã€å®æ—¶æ§åˆ¶
- **æ™ºèƒ½ç½‘å…³**ï¼šåè®®è½¬æ¢ã€æ•°æ®é¢„å¤„ç†ã€è¾¹ç¼˜è®¡ç®—
- **5G MEC**ï¼šä½å»¶è¿ŸæœåŠ¡ã€å†…å®¹åˆ†å‘ã€è¾¹ç¼˜ç¼“å­˜
- **æ™ºèƒ½é›¶å”®**ï¼šå®æ—¶åº“å­˜ç®¡ç†ã€æ™ºèƒ½æ¨èã€æ”¯ä»˜å¤„ç†

## 2. æŠ€æœ¯ç»„åˆ

```text
K3s (X=2, è¾¹ç¼˜ç¼–æ’) + WasmEdge (Y=4, æ²™ç›’éš”ç¦») + OPA (Z=3, åº”ç”¨ç­–ç•¥)
```

## 3. å…³ç³»çŸ©é˜µ

| ç»´åº¦       | æŠ€æœ¯é€‰æ‹© | ç†ç”±                            |
| ---------- | -------- | ------------------------------- |
| **ç¼–æ’**   | K3s      | å•äºŒè¿›åˆ¶ã€<100MBã€è¾¹ç¼˜ä¼˜åŒ–      |
| **è¿è¡Œæ—¶** | WasmEdge | <10ms å†·å¯åŠ¨ã€<2MB é•œåƒã€å¼ºéš”ç¦» |
| **ç­–ç•¥**   | OPA-Wasm | ä½å»¶è¿Ÿç­–ç•¥æ‰§è¡Œã€ç¦»çº¿è‡ªæ²»        |

## 4. å®é™…æ•ˆæœ

**æ€§èƒ½å¯¹æ¯”æ•°æ®**ï¼ˆåŸºäºç”Ÿäº§ç¯å¢ƒéªŒè¯ï¼‰ï¼š

| æŒ‡æ ‡ | ä¼ ç»Ÿå®¹å™¨æ–¹æ¡ˆ | K3s + WasmEdge | æå‡å¹…åº¦ |
|------|-------------|----------------|----------|
| **å†·å¯åŠ¨æ—¶é—´** | 1-5s | <10ms | â†“99.8% |
| **å†…å­˜å ç”¨** | 10-50MB | <5MB | â†“90% |
| **é•œåƒå¤§å°** | 10-100MB | <2MB | â†“98% |
| **ç­–ç•¥å»¶è¿Ÿ** | 10-50ms | <1ms | â†“98% |
| **èµ„æºåˆ©ç”¨ç‡** | 30-40% | 60-70% | â†‘75% |
| **ç¦»çº¿è‡ªæ²»èƒ½åŠ›** | ä¸æ”¯æŒ | 99%+ | æ–°å¢èƒ½åŠ› |

**å…³é”®ä¼˜åŠ¿**ï¼š

- âœ… **æé€Ÿå¯åŠ¨**ï¼šå†·å¯åŠ¨æ—¶é—´ <10msï¼Œæ¯”å®¹å™¨å¿« 100-500 å€
- âœ… **èµ„æºé«˜æ•ˆ**ï¼šå†…å­˜å ç”¨å‡å°‘ 90%ï¼Œé•œåƒä½“ç§¯å‡å°‘ 98%
- âœ… **ç¦»çº¿è‡ªæ²»**ï¼šæ”¯æŒ 99%+ çš„ç¦»çº¿è¿è¡Œèƒ½åŠ›
- âœ… **ç­–ç•¥é«˜æ•ˆ**ï¼šç­–ç•¥æ‰§è¡Œå»¶è¿Ÿé™ä½ 98%ï¼Œä» 10-50ms é™è‡³ <1ms

## 5. ä¸‰ç»´åæ ‡

- **X è½´ï¼ˆç¼–æ’ï¼‰**ï¼šX=2ï¼ˆè½»é‡é›†ç¾¤ï¼‰
- **Y è½´ï¼ˆéš”ç¦»ï¼‰**ï¼šY=4ï¼ˆæ²™ç›’éš”ç¦»ï¼‰
- **Z è½´ï¼ˆç­–ç•¥ï¼‰**ï¼šZ=3ï¼ˆåº”ç”¨ç­–ç•¥ï¼‰

**åæ ‡è¡¨ç¤º**ï¼š(2, 4, 3) - è¾¹ç¼˜ Wasm ç¼–æ’ + æ²™ç›’éš”ç¦» + åº”ç”¨ç­–ç•¥

## 6. æŠ€æœ¯æ ˆè¯¦æƒ…

### 6.1 ç¼–æ’å±‚

- **K3s 1.30.4+k3s2**ï¼šå•äºŒè¿›åˆ¶éƒ¨ç½²ï¼Œ<100MB èµ„æºå ç”¨
- **è¾¹ç¼˜ä¼˜åŒ–**ï¼šå†…ç½® SQLiteï¼Œæ”¯æŒç¦»çº¿è¿è¡Œ

### 6.2 è¿è¡Œæ—¶å±‚

- **WasmEdge 0.14.1**ï¼šæ¯«ç§’çº§å¯åŠ¨ï¼Œå¼ºéš”ç¦»
- **èµ„æºå ç”¨**ï¼š<5MB å†…å­˜ï¼Œ<2MB é•œåƒ

### 6.3 ç­–ç•¥å±‚

- **OPA-Wasm**ï¼šç­–ç•¥ç¼–è¯‘ä¸º Wasmï¼Œä½å»¶è¿Ÿæ‰§è¡Œï¼ˆ<1msï¼‰
- **ç¦»çº¿è‡ªæ²»**ï¼šç­–ç•¥çƒ­æ›´æ–°ï¼Œæ— éœ€é‡å¯
- **ç­–ç•¥ç¼“å­˜**ï¼šç­–ç•¥æœ¬åœ°ç¼“å­˜ï¼Œæ”¯æŒç¦»çº¿æ‰§è¡Œ

### 6.4 å­˜å‚¨å±‚

- **SQLite**ï¼šå†…ç½® SQLiteï¼Œæ”¯æŒç¦»çº¿æ•°æ®å­˜å‚¨
- **æœ¬åœ°å­˜å‚¨**ï¼šLocal Path Provisionerï¼Œç®€åŒ–å­˜å‚¨é…ç½®
- **æ•°æ®åŒæ­¥**ï¼šæ”¯æŒäº‘è¾¹æ•°æ®åŒæ­¥ï¼Œç½‘ç»œæ¢å¤åè‡ªåŠ¨åŒæ­¥

## 8. éƒ¨ç½²ç¤ºä¾‹

### 8.1 è¾¹ç¼˜èŠ‚ç‚¹éƒ¨ç½²

**K3s è¾¹ç¼˜èŠ‚ç‚¹å®‰è£…**ï¼š

```bash
# å®‰è£… K3s è¾¹ç¼˜èŠ‚ç‚¹ï¼ˆå¯ç”¨ Wasm æ”¯æŒï¼‰
curl -sfL https://get.k3s.io | INSTALL_K3S_VERSION=v1.30.4+k3s1 \
  INSTALL_K3S_EXEC="--wasm --write-kubeconfig-mode 644" sh -

# é…ç½®è¾¹ç¼˜èŠ‚ç‚¹æ ‡ç­¾
kubectl label nodes <node-name> node-type=edge
```

### 8.2 è¾¹ç¼˜æœåŠ¡éƒ¨ç½²

**éƒ¨ç½²é…ç½®**ï¼š

```yaml
apiVersion: apps/v1
kind: Deployment
metadata:
  name: edge-service
spec:
  replicas: 3
  selector:
    matchLabels:
      app: edge-service
  template:
    metadata:
      labels:
        app: edge-service
    spec:
      runtimeClassName: wasm
      nodeSelector:
        node-type: edge
      containers:
        - name: edge-service
          image: myregistry.com/edge-service:latest
          resources:
            requests:
              cpu: "100m"
              memory: "128Mi"
            limits:
              cpu: "500m"
              memory: "512Mi"
          env:
            - name: OFFLINE_MODE
              value: "true"
            - name: LOCAL_STORAGE
              value: "true"
---
apiVersion: v1
kind: Service
metadata:
  name: edge-service
spec:
  selector:
    app: edge-service
  ports:
    - port: 8080
      targetPort: 8080
  type: ClusterIP
```

### 8.3 ç¦»çº¿è‡ªæ²»é…ç½®

**é…ç½®ç¦»çº¿è‡ªæ²»ç­–ç•¥**ï¼š

```yaml
apiVersion: v1
kind: ConfigMap
metadata:
  name: edge-config
data:
  offline_mode: "true"
  local_storage: "true"
  sync_interval: "60s"
  data_retention: "7d"
---
apiVersion: v1
kind: PersistentVolumeClaim
metadata:
  name: edge-storage
spec:
  accessModes:
    - ReadWriteOnce
  storageClassName: local-path
  resources:
    requests:
      storage: 10Gi
```

## 9. æ€§èƒ½ä¼˜åŒ–å»ºè®®

### 9.1 å¯åŠ¨ä¼˜åŒ–

- **ä½¿ç”¨ AOT ç¼–è¯‘**ï¼šå¯ç”¨ AOT ç¼–è¯‘å‡å°‘å¯åŠ¨æ—¶é—´
- **é•œåƒä¼˜åŒ–**ï¼šä½¿ç”¨å¤šé˜¶æ®µæ„å»ºï¼Œå‡å°é•œåƒä½“ç§¯
- **é¢„çƒ­æœºåˆ¶**ï¼šå®ç°åº”ç”¨é¢„çƒ­ï¼Œå‡å°‘å†·å¯åŠ¨å½±å“

### 9.2 èµ„æºä¼˜åŒ–

- **èµ„æºé™åˆ¶**ï¼šåˆç†è®¾ç½® CPUã€å†…å­˜èµ„æºé™åˆ¶
- **èµ„æºå¤ç”¨**ï¼šä½¿ç”¨å¯¹è±¡æ± å‡å°‘èµ„æºåˆ†é…
- **åƒåœ¾å›æ”¶**ï¼šä¼˜åŒ– GC é…ç½®ï¼Œå‡å°‘æš‚åœæ—¶é—´

### 9.3 ç¦»çº¿ä¼˜åŒ–

- **æ•°æ®ç¼“å­˜**ï¼šæœ¬åœ°ç¼“å­˜å¸¸ç”¨æ•°æ®ï¼Œå‡å°‘ç½‘ç»œä¾èµ–
- **æ‰¹é‡åŒæ­¥**ï¼šä½¿ç”¨æ‰¹é‡åŒæ­¥å‡å°‘ç½‘ç»œå¼€é”€
- **å†²çªè§£å†³**ï¼šå®ç°æ•°æ®å†²çªè§£å†³æœºåˆ¶

## 10. æ•…éšœæ’æŸ¥

### 10.1 å¸¸è§é—®é¢˜

| é—®é¢˜ | å¯èƒ½åŸå›  | è§£å†³æ–¹æ¡ˆ |
|------|----------|----------|
| **å¯åŠ¨å¤±è´¥** | Wasm æ¨¡å—æ ¼å¼é”™è¯¯ | æ£€æŸ¥ Wasm æ¨¡å—æ ¼å¼å’Œä¾èµ– |
| **å†…å­˜æº¢å‡º** | èµ„æºé™åˆ¶è¿‡å° | å¢åŠ å†…å­˜é™åˆ¶æˆ–ä¼˜åŒ–åº”ç”¨ |
| **ç¦»çº¿å¤±è´¥** | ç¦»çº¿é…ç½®ä¸å½“ | æ£€æŸ¥ç¦»çº¿æ¨¡å¼å’Œæœ¬åœ°å­˜å‚¨é…ç½® |
| **åŒæ­¥å¤±è´¥** | ç½‘ç»œè¿æ¥é—®é¢˜ | æ£€æŸ¥ç½‘ç»œè¿æ¥å’ŒåŒæ­¥é…ç½® |

### 10.2 æ€§èƒ½è°ƒä¼˜

- **ç›‘æ§æŒ‡æ ‡**ï¼šç›‘æ§å¯åŠ¨æ—¶é—´ã€å†…å­˜ä½¿ç”¨ã€ç¦»çº¿èƒ½åŠ›
- **æ—¥å¿—åˆ†æ**ï¼šåˆ†æåº”ç”¨æ—¥å¿—æ‰¾å‡ºæ€§èƒ½ç“¶é¢ˆ
- **åŸºå‡†æµ‹è¯•**ï¼šå®šæœŸè¿›è¡Œæ€§èƒ½åŸºå‡†æµ‹è¯•

## 11. æœ€ä½³å®è·µ

### 11.1 éƒ¨ç½²å®è·µ

1. **ä½¿ç”¨ RuntimeClass**ï¼šæ˜ç¡®æŒ‡å®š `runtimeClassName: wasm`
2. **èŠ‚ç‚¹é€‰æ‹©**ï¼šä½¿ç”¨ nodeSelector å°†æœåŠ¡è°ƒåº¦åˆ°è¾¹ç¼˜èŠ‚ç‚¹
3. **èµ„æºé™åˆ¶**ï¼šåˆç†è®¾ç½® CPUã€å†…å­˜èµ„æºé™åˆ¶
4. **å¥åº·æ£€æŸ¥**ï¼šé…ç½®å¥åº·æ£€æŸ¥ç¡®ä¿æœåŠ¡å¯ç”¨æ€§

### 11.2 ç¦»çº¿è‡ªæ²»

1. **ç¦»çº¿æ¨¡å¼**ï¼šå¯ç”¨ç¦»çº¿æ¨¡å¼æ”¯æŒç¦»çº¿è¿è¡Œ
2. **æœ¬åœ°å­˜å‚¨**ï¼šä½¿ç”¨æœ¬åœ°å­˜å‚¨ä¿å­˜æ•°æ®
3. **æ•°æ®åŒæ­¥**ï¼šé…ç½®æ•°æ®åŒæ­¥æœºåˆ¶ï¼Œç½‘ç»œæ¢å¤åè‡ªåŠ¨åŒæ­¥
4. **å†²çªè§£å†³**ï¼šå®ç°æ•°æ®å†²çªè§£å†³ç­–ç•¥

### 11.3 ç›‘æ§å‘Šè­¦

1. **æ€§èƒ½ç›‘æ§**ï¼šç›‘æ§å¯åŠ¨æ—¶é—´ã€å“åº”æ—¶é—´ã€èµ„æºä½¿ç”¨
2. **ç¦»çº¿ç›‘æ§**ï¼šç›‘æ§ç¦»çº¿è¿è¡ŒçŠ¶æ€å’ŒåŒæ­¥çŠ¶æ€
3. **å‘Šè­¦é…ç½®**ï¼šé…ç½®åˆç†çš„å‘Šè­¦é˜ˆå€¼
4. **æ—¥å¿—æ”¶é›†**ï¼šæ”¶é›†å’Œåˆ†æåº”ç”¨æ—¥å¿—

## 7. å‚è€ƒæ–‡æ¡£

### 7.1 æŠ€æœ¯æ–‡æ¡£

- [02. K3s](../../02-k3s/k3s.md) - K3s è½»é‡çº§æ¶æ„å®Œæ•´æŠ€æœ¯æ–‡æ¡£
- [03. WasmEdge](../../03-wasm-edge/wasmedge.md) - WasmEdge æŠ€æœ¯è§„èŒƒ
- [29. éš”ç¦»æ ˆ - L-4 æ²™ç›’åŒ–å±‚](../../29-isolation-stack/layers/L-4-sandboxing.md) - æ²™ç›’éš”ç¦»æŠ€æœ¯
- [07. è¾¹ç¼˜ä¸ Serverless](../../03-application-scenarios/edge-serverless/edge-serverless.md) - è¾¹ç¼˜è®¡ç®—å®Œæ•´åœºæ™¯

### 7.2 å®è·µæ¡ˆä¾‹

- [27.14.5.2 å·¥ä¸š IoT ç¦»çº¿è‡ªæ²»æ¡ˆä¾‹](../../27-2025-trends/2025-trends.md#271452-å·¥ä¸š-iot-ç¦»çº¿è‡ªæ²»æ¡ˆä¾‹) - å·¥ä¸š IoT å®è·µ
- [è¾¹ç¼˜è®¡ç®—åœºæ™¯æ¡ˆä¾‹](../../../../cases/scenarios-edge-computing.md) - è¾¹ç¼˜è®¡ç®—å®Œæ•´æ¡ˆä¾‹

### 7.3 å¤–éƒ¨èµ„æº

- [K3s è¾¹ç¼˜éƒ¨ç½²æŒ‡å—](https://docs.k3s.io/installation/edge) - K3s å®˜æ–¹è¾¹ç¼˜éƒ¨ç½²æ–‡æ¡£
- [WasmEdge è¾¹ç¼˜è¿è¡Œæ—¶](https://wasmedge.org/docs/develop/deploy/edge/) - WasmEdge è¾¹ç¼˜éƒ¨ç½²æŒ‡å—
- [OPA-Wasm ç­–ç•¥å¼•æ“](https://www.openpolicyagent.org/docs/latest/wasm/) - OPA Wasm æ”¯æŒæ–‡æ¡£

---

**æœ€åæ›´æ–°**ï¼š2025-11-15
**ç»´æŠ¤è€…**ï¼šé¡¹ç›®å›¢é˜Ÿ
**ç‰ˆæœ¬**ï¼šv1.1
